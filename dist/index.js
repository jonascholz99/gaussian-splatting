class t{constructor(t=0,e=0,n=0){this.x=t,this.y=e,this.z=n}set(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}equals(t){return this.x===t.x&&(this.y===t.y&&this.z===t.z)}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}add(e){return"number"==typeof e?new t(this.x+e,this.y+e,this.z+e):new t(this.x+e.x,this.y+e.y,this.z+e.z)}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}subtract(e){return"number"==typeof e?new t(this.x-e,this.y-e,this.z-e):new t(this.x-e.x,this.y-e.y,this.z-e.z)}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}multiply(e){return"number"==typeof e?new t(this.x*e,this.y*e,this.z*e):e instanceof t?new t(this.x*e.x,this.y*e.y,this.z*e.z):new t(this.x*e.buffer[0]+this.y*e.buffer[4]+this.z*e.buffer[8]+e.buffer[12],this.x*e.buffer[1]+this.y*e.buffer[5]+this.z*e.buffer[9]+e.buffer[13],this.x*e.buffer[2]+this.y*e.buffer[6]+this.z*e.buffer[10]+e.buffer[14])}divide(e){return"number"==typeof e?new t(this.x/e,this.y/e,this.z/e):new t(this.x/e.x,this.y/e.y,this.z/e.z)}crossVectors(t,e){const n=t.x,l=t.y,i=t.z,s=e.x,r=e.y,F=e.z;return this.x=l*F-i*r,this.y=i*s-n*F,this.z=n*r-l*s,this}cross(e){const n=this.y*e.z-this.z*e.y,l=this.z*e.x-this.x*e.z,i=this.x*e.y-this.y*e.x;return new t(n,l,i)}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y,l=this.z-t.z;return e*e+n*n+l*l}toArray(){return[this.x,this.y,this.z]}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lerp(e,n){return new t(this.x+(e.x-this.x)*n,this.y+(e.y-this.y)*n,this.z+(e.z-this.z)*n)}min(e){return new t(Math.min(this.x,e.x),Math.min(this.y,e.y),Math.min(this.z,e.z))}max(e){return new t(Math.max(this.x,e.x),Math.max(this.y,e.y),Math.max(this.z,e.z))}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error(`Invalid component index: ${t}`)}}minComponent(){return this.x<this.y&&this.x<this.z?0:this.y<this.z?1:2}maxComponent(){return this.x>this.y&&this.x>this.z?0:this.y>this.z?1:2}magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}distanceTo(t){return Math.sqrt((this.x-t.x)**2+(this.y-t.y)**2+(this.z-t.z)**2)}normalize(){const e=this.magnitude();return new t(this.x/e,this.y/e,this.z/e)}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}flat(){return[this.x,this.y,this.z]}clone(){return new t(this.x,this.y,this.z)}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}toString(){return`[${this.flat().join(", ")}]`}static One(e=1){return new t(e,e,e)}}class e{constructor(t=0,e=0,n=0,l=1){this.x=t,this.y=e,this.z=n,this.w=l}equals(t){return this.x===t.x&&(this.y===t.y&&(this.z===t.z&&this.w===t.w))}normalize(){const t=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return new e(this.x/t,this.y/t,this.z/t,this.w/t)}multiply(t){const n=this.w,l=this.x,i=this.y,s=this.z,r=t.w,F=t.x,a=t.y,d=t.z;return new e(n*F+l*r+i*d-s*a,n*a-l*d+i*r+s*F,n*d+l*a-i*F+s*r,n*r-l*F-i*a-s*d)}inverse(){const t=this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w;return new e(-this.x/t,-this.y/t,-this.z/t,this.w/t)}apply(n){const l=new e(n.x,n.y,n.z,0),i=new e(-this.x,-this.y,-this.z,this.w),s=this.multiply(l).multiply(i);return new t(s.x,s.y,s.z)}flat(){return[this.x,this.y,this.z,this.w]}clone(){return new e(this.x,this.y,this.z,this.w)}static FromEuler(t){const n=t.x/2,l=t.y/2,i=t.z/2,s=Math.cos(l),r=Math.sin(l),F=Math.cos(n),a=Math.sin(n),d=Math.cos(i),U=Math.sin(i);return new e(s*a*d+r*F*U,r*F*d-s*a*U,s*F*U-r*a*d,s*F*d+r*a*U)}toEuler(){const e=2*(this.w*this.x+this.y*this.z),n=1-2*(this.x*this.x+this.y*this.y),l=Math.atan2(e,n);let i;const s=2*(this.w*this.y-this.z*this.x);i=Math.abs(s)>=1?Math.sign(s)*Math.PI/2:Math.asin(s);const r=2*(this.w*this.z+this.x*this.y),F=1-2*(this.y*this.y+this.z*this.z),a=Math.atan2(r,F);return new t(l,i,a)}static FromMatrix3(t){const n=t.buffer,l=n[0]+n[4]+n[8];let i,s,r,F;if(l>0){const t=.5/Math.sqrt(l+1);F=.25/t,i=(n[7]-n[5])*t,s=(n[2]-n[6])*t,r=(n[3]-n[1])*t}else if(n[0]>n[4]&&n[0]>n[8]){const t=2*Math.sqrt(1+n[0]-n[4]-n[8]);F=(n[7]-n[5])/t,i=.25*t,s=(n[1]+n[3])/t,r=(n[2]+n[6])/t}else if(n[4]>n[8]){const t=2*Math.sqrt(1+n[4]-n[0]-n[8]);F=(n[2]-n[6])/t,i=(n[1]+n[3])/t,s=.25*t,r=(n[5]+n[7])/t}else{const t=2*Math.sqrt(1+n[8]-n[0]-n[4]);F=(n[3]-n[1])/t,i=(n[2]+n[6])/t,s=(n[5]+n[7])/t,r=.25*t}return new e(i,s,r,F)}static FromAxisAngle(t,n){const l=n/2,i=Math.sin(l),s=Math.cos(l);return new e(t.x*i,t.y*i,t.z*i,s)}static LookRotation(n){const l=new t(0,0,1),i=l.dot(n);if(Math.abs(i- -1)<1e-6)return new e(0,1,0,Math.PI);if(Math.abs(i-1)<1e-6)return new e;const s=Math.acos(i),r=l.cross(n).normalize();return e.FromAxisAngle(r,s)}toString(){return`[${this.flat().join(", ")}]`}}class n{constructor(){const t=new Map;this.addEventListener=(e,n)=>{t.has(e)||t.set(e,new Set),t.get(e).add(n)},this.removeEventListener=(e,n)=>{t.has(e)&&t.get(e).delete(n)},this.hasEventListener=(e,n)=>!!t.has(e)&&t.get(e).has(n),this.dispatchEvent=e=>{if(t.has(e.type))for(const n of t.get(e.type))n(e)}}}class l{constructor(t=1,e=0,n=0,l=0,i=0,s=1,r=0,F=0,a=0,d=0,U=1,o=0,Q=0,c=0,A=0,h=1){this.buffer=[t,e,n,l,i,s,r,F,a,d,U,o,Q,c,A,h]}equals(t){if(this.buffer.length!==t.buffer.length)return!1;if(this.buffer===t.buffer)return!0;for(let e=0;e<this.buffer.length;e++)if(this.buffer[e]!==t.buffer[e])return!1;return!0}multiply(t){const e=this.buffer,n=t.buffer;return new l(n[0]*e[0]+n[1]*e[4]+n[2]*e[8]+n[3]*e[12],n[0]*e[1]+n[1]*e[5]+n[2]*e[9]+n[3]*e[13],n[0]*e[2]+n[1]*e[6]+n[2]*e[10]+n[3]*e[14],n[0]*e[3]+n[1]*e[7]+n[2]*e[11]+n[3]*e[15],n[4]*e[0]+n[5]*e[4]+n[6]*e[8]+n[7]*e[12],n[4]*e[1]+n[5]*e[5]+n[6]*e[9]+n[7]*e[13],n[4]*e[2]+n[5]*e[6]+n[6]*e[10]+n[7]*e[14],n[4]*e[3]+n[5]*e[7]+n[6]*e[11]+n[7]*e[15],n[8]*e[0]+n[9]*e[4]+n[10]*e[8]+n[11]*e[12],n[8]*e[1]+n[9]*e[5]+n[10]*e[9]+n[11]*e[13],n[8]*e[2]+n[9]*e[6]+n[10]*e[10]+n[11]*e[14],n[8]*e[3]+n[9]*e[7]+n[10]*e[11]+n[11]*e[15],n[12]*e[0]+n[13]*e[4]+n[14]*e[8]+n[15]*e[12],n[12]*e[1]+n[13]*e[5]+n[14]*e[9]+n[15]*e[13],n[12]*e[2]+n[13]*e[6]+n[14]*e[10]+n[15]*e[14],n[12]*e[3]+n[13]*e[7]+n[14]*e[11]+n[15]*e[15])}clone(){const t=this.buffer;return new l(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}determinant(){const t=this.buffer;return t[12]*t[9]*t[6]*t[3]-t[8]*t[13]*t[6]*t[3]-t[12]*t[5]*t[10]*t[3]+t[4]*t[13]*t[10]*t[3]+t[8]*t[5]*t[14]*t[3]-t[4]*t[9]*t[14]*t[3]-t[12]*t[9]*t[2]*t[7]+t[8]*t[13]*t[2]*t[7]+t[12]*t[1]*t[10]*t[7]-t[0]*t[13]*t[10]*t[7]-t[8]*t[1]*t[14]*t[7]+t[0]*t[9]*t[14]*t[7]+t[12]*t[5]*t[2]*t[11]-t[4]*t[13]*t[2]*t[11]-t[12]*t[1]*t[6]*t[11]+t[0]*t[13]*t[6]*t[11]+t[4]*t[1]*t[14]*t[11]-t[0]*t[5]*t[14]*t[11]-t[8]*t[5]*t[2]*t[15]+t[4]*t[9]*t[2]*t[15]+t[8]*t[1]*t[6]*t[15]-t[0]*t[9]*t[6]*t[15]-t[4]*t[1]*t[10]*t[15]+t[0]*t[5]*t[10]*t[15]}invert(){const t=this.buffer,e=this.determinant();if(0===e)throw new Error("Matrix is not invertible.");const n=1/e;return new l(n*(t[5]*t[10]*t[15]-t[5]*t[11]*t[14]-t[9]*t[6]*t[15]+t[9]*t[7]*t[14]+t[13]*t[6]*t[11]-t[13]*t[7]*t[10]),n*(-t[1]*t[10]*t[15]+t[1]*t[11]*t[14]+t[9]*t[2]*t[15]-t[9]*t[3]*t[14]-t[13]*t[2]*t[11]+t[13]*t[3]*t[10]),n*(t[1]*t[6]*t[15]-t[1]*t[7]*t[14]-t[5]*t[2]*t[15]+t[5]*t[3]*t[14]+t[13]*t[2]*t[7]-t[13]*t[3]*t[6]),n*(-t[1]*t[6]*t[11]+t[1]*t[7]*t[10]+t[5]*t[2]*t[11]-t[5]*t[3]*t[10]-t[9]*t[2]*t[7]+t[9]*t[3]*t[6]),n*(-t[4]*t[10]*t[15]+t[4]*t[11]*t[14]+t[8]*t[6]*t[15]-t[8]*t[7]*t[14]-t[12]*t[6]*t[11]+t[12]*t[7]*t[10]),n*(t[0]*t[10]*t[15]-t[0]*t[11]*t[14]-t[8]*t[2]*t[15]+t[8]*t[3]*t[14]+t[12]*t[2]*t[11]-t[12]*t[3]*t[10]),n*(-t[0]*t[6]*t[15]+t[0]*t[7]*t[14]+t[4]*t[2]*t[15]-t[4]*t[3]*t[14]-t[12]*t[2]*t[7]+t[12]*t[3]*t[6]),n*(t[0]*t[6]*t[11]-t[0]*t[7]*t[10]-t[4]*t[2]*t[11]+t[4]*t[3]*t[10]+t[8]*t[2]*t[7]-t[8]*t[3]*t[6]),n*(t[4]*t[9]*t[15]-t[4]*t[11]*t[13]-t[8]*t[5]*t[15]+t[8]*t[7]*t[13]+t[12]*t[5]*t[11]-t[12]*t[7]*t[9]),n*(-t[0]*t[9]*t[15]+t[0]*t[11]*t[13]+t[8]*t[1]*t[15]-t[8]*t[3]*t[13]-t[12]*t[1]*t[11]+t[12]*t[3]*t[9]),n*(t[0]*t[5]*t[15]-t[0]*t[7]*t[13]-t[4]*t[1]*t[15]+t[4]*t[3]*t[13]+t[12]*t[1]*t[7]-t[12]*t[3]*t[5]),n*(-t[0]*t[5]*t[11]+t[0]*t[7]*t[9]+t[4]*t[1]*t[11]-t[4]*t[3]*t[9]-t[8]*t[1]*t[7]+t[8]*t[3]*t[5]),n*(-t[4]*t[9]*t[14]+t[4]*t[10]*t[13]+t[8]*t[5]*t[14]-t[8]*t[6]*t[13]-t[12]*t[5]*t[10]+t[12]*t[6]*t[9]),n*(t[0]*t[9]*t[14]-t[0]*t[10]*t[13]-t[8]*t[1]*t[14]+t[8]*t[2]*t[13]+t[12]*t[1]*t[10]-t[12]*t[2]*t[9]),n*(-t[0]*t[5]*t[14]+t[0]*t[6]*t[13]+t[4]*t[1]*t[14]-t[4]*t[2]*t[13]-t[12]*t[1]*t[6]+t[12]*t[2]*t[5]),n*(t[0]*t[5]*t[10]-t[0]*t[6]*t[9]-t[4]*t[1]*t[10]+t[4]*t[2]*t[9]+t[8]*t[1]*t[6]-t[8]*t[2]*t[5]))}static Compose(t,e,n){const i=e.x,s=e.y,r=e.z,F=e.w,a=i+i,d=s+s,U=r+r,o=i*a,Q=i*d,c=i*U,A=s*d,h=s*U,B=r*U,V=F*a,R=F*d,Z=F*U,m=n.x,W=n.y,g=n.z;return new l((1-(A+B))*m,(Q+Z)*m,(c-R)*m,0,(Q-Z)*W,(1-(o+B))*W,(h+V)*W,0,(c+R)*g,(h-V)*g,(1-(o+A))*g,0,t.x,t.y,t.z,1)}toString(){return`[${this.buffer.join(", ")}]`}}class i extends Event{constructor(t){super("objectAdded"),this.object=t}}class s extends Event{constructor(t){super("objectRemoved"),this.object=t}}class r extends Event{constructor(t){super("objectChanged"),this.object=t}}class F extends Event{constructor(t){super("renderedSplatsChanged"),this.object=t}}class a extends n{constructor(){super(),this.positionChanged=!1,this.rotationChanged=!1,this.scaleChanged=!1,this._position=new t,this._rotation=new e,this._scale=new t(1,1,1),this._transform=new l,this._changeEvent=new r(this),this._renderedSplatsChanged=new F(this),this.update=()=>{},this.applyPosition=()=>{this.position=new t},this.applyRotation=()=>{this.rotation=new e},this.applyScale=()=>{this.scale=new t(1,1,1)},this.raiseChangeEvent=()=>{this.dispatchEvent(this._changeEvent)}}_updateMatrix(){this._transform=l.Compose(this._position,this._rotation,this._scale)}get position(){return this._position}set position(t){this._position.equals(t)||(this._position=t,this.positionChanged=!0,this._updateMatrix(),this.dispatchEvent(this._changeEvent))}get rotation(){return this._rotation}set rotation(t){this._rotation.equals(t)||(this._rotation=t,this.rotationChanged=!0,this._updateMatrix(),this.dispatchEvent(this._changeEvent))}get scale(){return this._scale}set scale(t){this._scale.equals(t)||(this._scale=t,this.scaleChanged=!0,this._updateMatrix(),this.dispatchEvent(this._changeEvent))}get forward(){let e=new t(0,0,1);return e=this.rotation.apply(e),e}get transform(){return this._transform}}class d{constructor(t=0,e=null,n=null,l=null,i=null){this.firstTime=!0,this.changed=!1,this.detached=!1,this._vertexCount=t,this._positions=e||new Float32Array(0),this._renderedPositions=e||new Float32Array(0),this._rotations=n||new Float32Array(0),this._renderedRotations=n||new Float32Array(0),this._scales=l||new Float32Array(0),this._renderedScales=l||new Float32Array(0),this._colors=i||new Uint8Array(0),this._renderedColors=i||new Uint8Array(0),this._selection=new Uint8Array(this.vertexCount),this._renderedSelection=new Uint8Array(this.vertexCount),this._rendered=new Uint8Array(this.vertexCount).fill(1),this._renderedSplats=t,this.resetRendering=()=>{this._rendered=new Uint8Array(this.vertexCount).fill(0)},this.translate=t=>{for(let e=0;e<this.vertexCount;e++)this.positions[3*e+0]+=t.x,this.positions[3*e+1]+=t.y,this.positions[3*e+2]+=t.z;this.changed=!0},this.serialize=()=>{console.log("Serialize");const t=new Uint8Array(this.vertexCount*d.RowLength),e=new Float32Array(t.buffer),n=new Uint8Array(t.buffer);for(let t=0;t<this.vertexCount;t++)e[8*t+0]=this.positions[3*t+0],e[8*t+1]=this.positions[3*t+1],e[8*t+2]=this.positions[3*t+2],n[32*t+24+0]=this.colors[4*t+0],n[32*t+24+1]=this.colors[4*t+1],n[32*t+24+2]=this.colors[4*t+2],n[32*t+24+3]=this.colors[4*t+3],e[8*t+3+0]=this.scales[3*t+0],e[8*t+3+1]=this.scales[3*t+1],e[8*t+3+2]=this.scales[3*t+2],n[32*t+28+0]=128*this.rotations[4*t+0]+128&255,n[32*t+28+1]=128*this.rotations[4*t+1]+128&255,n[32*t+28+2]=128*this.rotations[4*t+2]+128&255,n[32*t+28+3]=128*this.rotations[4*t+3]+128&255;return t},this.reattach=(t,e,n,l,i,s)=>{this._rendered=new Uint8Array(s);const r=this._rendered.reduce(((t,e)=>t+(0!==e?1:0)),0);console.assert(t.byteLength===3*r*4,`Expected ${3*r*4} bytes, got ${t.byteLength} bytes which are ${t.byteLength/3/4} splats`),this._renderedPositions=new Float32Array(t),this._renderedRotations=new Float32Array(e),this._renderedScales=new Float32Array(n),this._renderedColors=new Uint8Array(l),this._renderedSelection=new Uint8Array(i);let F=0;for(let t=0;t<this._rendered.length;t++)1===this._rendered[t]&&(this._positions[3*t]=this._renderedPositions[3*F],this._positions[3*t+1]=this._renderedPositions[3*F+1],this._positions[3*t+2]=this._renderedPositions[3*F+2],this._rotations[4*t]=this._renderedRotations[4*F],this._rotations[4*t+1]=this._renderedRotations[4*F+1],this._rotations[4*t+2]=this._renderedRotations[4*F+2],this._rotations[4*t+3]=this._renderedRotations[4*F+3],this._scales[3*t]=this._renderedScales[3*F],this._scales[3*t+1]=this._renderedScales[3*F+1],this._scales[3*t+2]=this._renderedScales[3*F+2],this._colors[4*t]=this._renderedColors[4*F],this._colors[4*t+1]=this._renderedColors[4*F+1],this._colors[4*t+2]=this._renderedColors[4*F+2],this._colors[4*t+3]=this._renderedColors[4*F+3],this._selection[t]=this._renderedSelection[F],F++);this.detached=!1}}static Deserialize(t){const e=t.length/d.RowLength,n=new Float32Array(3*e),l=new Float32Array(4*e),i=new Float32Array(3*e),s=new Uint8Array(4*e),r=new Float32Array(t.buffer),F=new Uint8Array(t.buffer);for(let t=0;t<e;t++)n[3*t+0]=r[8*t+0],n[3*t+1]=r[8*t+1],n[3*t+2]=r[8*t+2],l[4*t+0]=(F[32*t+28+0]-128)/128,l[4*t+1]=(F[32*t+28+1]-128)/128,l[4*t+2]=(F[32*t+28+2]-128)/128,l[4*t+3]=(F[32*t+28+3]-128)/128,i[3*t+0]=r[8*t+3+0],i[3*t+1]=r[8*t+3+1],i[3*t+2]=r[8*t+3+2],s[4*t+0]=F[32*t+24+0],s[4*t+1]=F[32*t+24+1],s[4*t+2]=F[32*t+24+2],s[4*t+3]=F[32*t+24+3];return new d(e,n,l,i,s)}get vertexCount(){return this._vertexCount}get renderedSplats(){return this._renderedSplats}get positions(){return this._positions}get renderedPositions(){return this._renderedPositions}get rotations(){return this._rotations}get renderedRotations(){return this._renderedRotations}get scales(){return this._scales}get renderedScales(){return this._renderedScales}get colors(){return this._colors}get renderedColors(){return this._renderedColors}get selection(){return this._selection}get renderedSelection(){return this._renderedSelection}get rendered(){return this._rendered}calculateRenderedTransforms(){this._renderedSplats=this._rendered.reduce(((t,e)=>t+e),0),this._renderedPositions=new Float32Array(3*this._renderedSplats),this._renderedRotations=new Float32Array(4*this._renderedSplats),this._renderedScales=new Float32Array(3*this._renderedSplats),this._renderedColors=new Uint8Array(4*this._renderedSplats),this._renderedSelection=new Uint8Array(this._renderedSplats);let t=0;this._rendered.forEach(((e,n)=>{if(1===e){const e=3*n,l=4*n;this._renderedPositions[3*t]=this._positions[e],this._renderedPositions[3*t+1]=this._positions[e+1],this._renderedPositions[3*t+2]=this._positions[e+2],this._renderedRotations[4*t]=this._rotations[l],this._renderedRotations[4*t+1]=this._rotations[l+1],this._renderedRotations[4*t+2]=this._rotations[l+2],this._renderedRotations[4*t+3]=this._rotations[l+3],this._renderedScales[3*t]=this._scales[e],this._renderedScales[3*t+1]=this._scales[e+1],this._renderedScales[3*t+2]=this._scales[e+2],this._renderedColors[4*t]=this._colors[l],this._renderedColors[4*t+1]=this._colors[l+1],this._renderedColors[4*t+2]=this._colors[l+2],this._renderedColors[4*t+3]=this._colors[l+3],this._renderedSelection[t]=this._selection[n],t++}}))}}d.RowLength=32;class U{constructor(t,e,n,l,i){this._vertexCount=t,this._positions=e,this._data=n,this._width=l,this._height=i,this.serialize=()=>new Uint8Array(this._data.buffer)}static Deserialize(t,e,n){const l=new Uint32Array(t.buffer),i=new Float32Array(t.buffer),s=Math.floor(i.byteLength/this.RowLength),r=new Float32Array(3*s);for(let t=0;t<s;t++)r[3*t+0]=i[16*t+0],r[3*t+1]=i[16*t+1],r[3*t+2]=i[16*t+2],r[3*t+0]=i[16*t+3];return new U(s,r,l,e,n)}get vertexCount(){return this._vertexCount}get positions(){return this._positions}get data(){return this._data}get width(){return this._width}get height(){return this._height}}U.RowLength=64;class o{static SplatToPLY(t,n){let l="ply\nformat binary_little_endian 1.0\n";l+=`element vertex ${n}\n`;const i=["x","y","z","nx","ny","nz","f_dc_0","f_dc_1","f_dc_2"];for(let t=0;t<45;t++)i.push(`f_rest_${t}`);i.push("opacity"),i.push("scale_0"),i.push("scale_1"),i.push("scale_2"),i.push("rot_0"),i.push("rot_1"),i.push("rot_2"),i.push("rot_3");for(const t of i)l+=`property float ${t}\n`;l+="end_header\n";const s=(new TextEncoder).encode(l),r=248,F=n*r,a=new DataView(new ArrayBuffer(s.length+F));new Uint8Array(a.buffer).set(s,0);const d=new Float32Array(t),U=new Uint8Array(t),o=s.length,Q=220,c=232;for(let t=0;t<n;t++){const n=d[8*t+0],l=d[8*t+1],i=d[8*t+2],s=(U[32*t+24+0]/255-.5)/this.SH_C0,F=(U[32*t+24+1]/255-.5)/this.SH_C0,A=(U[32*t+24+2]/255-.5)/this.SH_C0,h=U[32*t+24+3]/255,B=Math.log(h/(1-h)),V=Math.log(d[8*t+3+0]),R=Math.log(d[8*t+3+1]),Z=Math.log(d[8*t+3+2]);let m=new e((U[32*t+28+1]-128)/128,(U[32*t+28+2]-128)/128,(U[32*t+28+3]-128)/128,(U[32*t+28+0]-128)/128);m=m.normalize();const W=m.w,g=m.x,I=m.y,b=m.z;a.setFloat32(o+r*t+0,n,!0),a.setFloat32(o+r*t+4,l,!0),a.setFloat32(o+r*t+8,i,!0),a.setFloat32(o+r*t+24+0,s,!0),a.setFloat32(o+r*t+24+4,F,!0),a.setFloat32(o+r*t+24+8,A,!0),a.setFloat32(o+r*t+216,B,!0),a.setFloat32(o+r*t+Q+0,V,!0),a.setFloat32(o+r*t+Q+4,R,!0),a.setFloat32(o+r*t+Q+8,Z,!0),a.setFloat32(o+r*t+c+0,W,!0),a.setFloat32(o+r*t+c+4,g,!0),a.setFloat32(o+r*t+c+8,I,!0),a.setFloat32(o+r*t+c+12,b,!0)}return a.buffer}}o.SH_C0=.28209479177387814;class Q{constructor(t,e){this._scene=null,this._camera=null,this._started=!1,this._initialized=!1,this._renderer=t;const n=t.gl;this._program=n.createProgram(),this._passes=e||[];const l=n.createShader(n.VERTEX_SHADER);n.shaderSource(l,this._getVertexSource()),n.compileShader(l),n.getShaderParameter(l,n.COMPILE_STATUS)||console.error(n.getShaderInfoLog(l));const i=n.createShader(n.FRAGMENT_SHADER);n.shaderSource(i,this._getFragmentSource()),n.compileShader(i),n.getShaderParameter(i,n.COMPILE_STATUS)||console.error(n.getShaderInfoLog(i)),n.attachShader(this.program,l),n.attachShader(this.program,i),n.linkProgram(this.program),n.getProgramParameter(this.program,n.LINK_STATUS)||console.error(n.getProgramInfoLog(this.program)),this.resize=()=>{n.useProgram(this._program),this._resize()},this.initialize=()=>{console.assert(!this._initialized,"ShaderProgram already initialized"),n.useProgram(this._program),this._initialize();for(const t of this.passes)t.initialize(this);this._initialized=!0,this._started=!0},this.render=(t,e)=>{n.useProgram(this._program),this._scene===t&&this._camera===e||(this.dispose(),this._scene=t,this._camera=e,this.initialize());for(const t of this.passes)t.render();this._render()},this.dispose=()=>{if(this._initialized){n.useProgram(this._program);for(const t of this.passes)t.dispose();this._dispose(),this._scene=null,this._camera=null,this._initialized=!1}}}get renderer(){return this._renderer}get scene(){return this._scene}get camera(){return this._camera}get program(){return this._program}get passes(){return this._passes}get started(){return this._started}}class c extends Q{constructor(t,e,n,l=new Float32Array([1,0,0,.2])){2!=n.length&&8!=n.length&&console.error("Please provide 2 oder 8 corners"),super(t,e);const i=t.gl;let s,r,F,a,d,U,o;if(2===n.length){const[t,e,l]=n[0],[i,s,r]=n[1];U=new Float32Array([t,e,l,i,e,l,t,e,l,t,s,l,t,e,l,t,e,r,i,e,l,i,s,l,i,e,l,i,e,r,t,s,l,i,s,l,t,s,l,t,s,r,t,e,r,i,e,r,t,e,r,t,s,r,i,s,l,i,s,r,i,e,r,i,s,r,t,s,r,i,s,r]),o=new Float32Array([t,e,l,i,e,l,t,s,l,i,e,l,i,s,l,t,s,l,t,e,r,i,e,r,t,s,r,i,e,r,i,s,r,t,s,r,t,e,l,t,e,r,t,s,l,t,s,r,t,e,r,t,s,l,i,e,l,i,e,r,i,s,l,i,s,r,i,e,r,i,s,l,t,e,l,i,e,l,t,e,r,i,e,r,i,e,l,t,e,r,t,s,l,i,s,l,t,s,r,i,s,r,i,s,l,t,s,r])}else{const[t,e,l]=n[0],[i,s,r]=n[1],[F,a,d]=n[2],[Q,c,A]=n[3],[h,B,V]=n[4],[R,Z,m]=n[5],[W,g,I]=n[6],[b,J,C]=n[7];U=new Float32Array([t,e,l,i,s,r,t,e,l,F,a,d,t,e,l,h,B,V,i,s,r,Q,c,A,i,s,r,R,Z,m,F,a,d,Q,c,A,F,a,d,W,g,I,h,B,V,R,Z,m,h,B,V,W,g,I,Q,c,A,b,J,C,R,Z,m,b,J,C,W,g,I,b,J,C]),o=new Float32Array([t,e,l,i,s,r,F,a,d,i,s,r,Q,c,A,F,a,d,h,B,V,R,Z,m,W,g,I,R,Z,m,b,J,C,W,g,I,t,e,l,h,B,V,F,a,d,W,g,I,h,B,V,F,a,d,i,s,r,R,Z,m,Q,c,A,b,J,C,R,Z,m,Q,c,A,t,e,l,i,s,r,h,B,V,R,Z,m,i,s,r,h,B,V,F,a,d,Q,c,A,W,g,I,b,J,C,Q,c,A,W,g,I])}const Q=new Float32Array([0,0,0,1]);this._initialize=()=>{s=i.createBuffer(),r=i.getAttribLocation(this.program,"position"),i.enableVertexAttribArray(r),F=i.getUniformLocation(this.program,"projection"),a=i.getUniformLocation(this.program,"view"),d=i.getUniformLocation(this.program,"cubeColor")};this._render=()=>{if(!this._camera)throw new Error("Camera not set");i.enable(i.BLEND),i.blendFunc(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA),i.uniformMatrix4fv(F,!1,this._camera.data.projectionMatrix.buffer),i.uniformMatrix4fv(a,!1,this._camera.data.viewMatrix.buffer),((t,e)=>{i.lineWidth(5),i.uniform4fv(d,e),i.bindBuffer(i.ARRAY_BUFFER,s),i.bufferData(i.ARRAY_BUFFER,t,i.STATIC_DRAW),i.vertexAttribPointer(r,3,i.FLOAT,!1,0,0),i.drawArrays(i.LINES,0,24)})(U,Q),((t,e)=>{i.lineWidth(5),i.uniform4fv(d,e),i.bindBuffer(i.ARRAY_BUFFER,s),i.bufferData(i.ARRAY_BUFFER,t,i.STATIC_DRAW),i.vertexAttribPointer(r,3,i.FLOAT,!1,0,0),i.drawArrays(i.TRIANGLES,0,36)})(o,l)},this._resize=()=>{},this._dispose=()=>{}}_getFragmentSource(){return"#version 300 es\nprecision mediump float;\nuniform vec4 cubeColor;\nout vec4 outColor;\n\nvoid main() {\n    outColor = cubeColor;\n}\n"}_getVertexSource(){return"#version 300 es\nuniform mat4 projection, view;\n\nin vec3 position;\n\nvoid main() {\n    gl_Position = projection * view * vec4(position, 1.0);\n}\n"}}class A{constructor(t,e){this.min=t,this.max=e}contains(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y&&t.z>=this.min.z&&t.z<=this.max.z}intersects(t){return this.max.x>=t.min.x&&this.min.x<=t.max.x&&this.max.y>=t.min.y&&this.min.y<=t.max.y&&this.max.z>=t.min.z&&this.min.z<=t.max.z}intersectsBox(t){return this.max.x>=t.min.x&&this.min.x<=t.max.x&&this.max.y>=t.min.y&&this.min.y<=t.max.y&&this.max.z>=t.min.z&&this.min.z<=t.max.z}intersectsBasedOnCenter(t){const e=this.center(),n=t.center(),l=this.size(),i=t.size();return Math.abs(e.x-n.x)<=l.x/2+i.x/2&&Math.abs(e.y-n.y)<=l.y/2+i.y/2&&Math.abs(e.z-n.z)<=l.z/2+i.z/2}size(){return this.max.subtract(this.min)}center(){return this.min.add(this.max).divide(2)}expand(t){this.min=this.min.min(t),this.max=this.max.max(t)}permute(){const e=this.min,n=this.max;this.min=new t(Math.min(e.x,n.x),Math.min(e.y,n.y),Math.min(e.z,n.z)),this.max=new t(Math.max(e.x,n.x),Math.max(e.y,n.y),Math.max(e.z,n.z))}surfaceArea(){const t=this.max.x-this.min.x,e=this.max.y-this.min.y,n=this.max.z-this.min.z;return 2*(t*e+t*n+e*n)}drawBox(t){this.permute();let e=new Float32Array([0,1,0,.5]),n=new Float32Array([this.min.x,this.min.y,this.min.z]),l=new Float32Array([this.max.x,this.max.y,this.max.z]);this.boxRenderProgram=new c(t,[],[n,l],e),t.addProgram(this.boxRenderProgram)}ereaseBox(t){void 0!==this.boxRenderProgram&&t.removeProgram(this.boxRenderProgram)}expandByPoint(t){this.min=this.min.min(t),this.max=this.max.max(t)}getCorners(){return[new t(this.min.x,this.min.y,this.min.z),new t(this.max.x,this.min.y,this.min.z),new t(this.min.x,this.max.y,this.min.z),new t(this.max.x,this.max.y,this.min.z),new t(this.min.x,this.min.y,this.max.z),new t(this.max.x,this.min.y,this.max.z),new t(this.min.x,this.max.y,this.max.z),new t(this.max.x,this.max.y,this.max.z)]}}class h{constructor(t=1,e=0,n=0,l=0,i=1,s=0,r=0,F=0,a=1){this.buffer=[t,e,n,l,i,s,r,F,a]}equals(t){if(this.buffer.length!==t.buffer.length)return!1;if(this.buffer===t.buffer)return!0;for(let e=0;e<this.buffer.length;e++)if(this.buffer[e]!==t.buffer[e])return!1;return!0}multiply(t){const e=this.buffer,n=t.buffer;return new h(n[0]*e[0]+n[3]*e[1]+n[6]*e[2],n[1]*e[0]+n[4]*e[1]+n[7]*e[2],n[2]*e[0]+n[5]*e[1]+n[8]*e[2],n[0]*e[3]+n[3]*e[4]+n[6]*e[5],n[1]*e[3]+n[4]*e[4]+n[7]*e[5],n[2]*e[3]+n[5]*e[4]+n[8]*e[5],n[0]*e[6]+n[3]*e[7]+n[6]*e[8],n[1]*e[6]+n[4]*e[7]+n[7]*e[8],n[2]*e[6]+n[5]*e[7]+n[8]*e[8])}clone(){const t=this.buffer;return new h(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}static Eye(t=1){return new h(t,0,0,0,t,0,0,0,t)}static Diagonal(t){return new h(t.x,0,0,0,t.y,0,0,0,t.z)}static RotationFromQuaternion(t){return new h(1-2*t.y*t.y-2*t.z*t.z,2*t.x*t.y-2*t.z*t.w,2*t.x*t.z+2*t.y*t.w,2*t.x*t.y+2*t.z*t.w,1-2*t.x*t.x-2*t.z*t.z,2*t.y*t.z-2*t.x*t.w,2*t.x*t.z-2*t.y*t.w,2*t.y*t.z+2*t.x*t.w,1-2*t.x*t.x-2*t.y*t.y)}static RotationFromEuler(t){const e=Math.cos(t.x),n=Math.sin(t.x),l=Math.cos(t.y),i=Math.sin(t.y),s=Math.cos(t.z),r=Math.sin(t.z);return new h(...[l*s+i*n*r,-l*r+i*n*s,i*e,e*r,e*s,-n,-i*s+l*n*r,i*r+l*n*s,l*e])}toString(){return`[${this.buffer.join(", ")}]`}}class B{constructor(n,l){this._index=n,this._data=l,this._bounds=new A(new t(1/0,1/0,1/0),new t(-1/0,-1/0,-1/0)),this._defaultColor=new Uint8Array(l.colors.subarray(4*n,4*n+4)),this.recalculateBounds=()=>{const e=this.Position,n=this.Scale;this._bounds.min=new t(e[0]-n[0],e[1]-n[1],e[2]-n[2]),this._bounds.max=new t(e[0]+n[0],e[1]+n[1],e[2]+n[2])},this.translate=t=>{const e=this.Position;e[0]+=t.x,e[1]+=t.y,e[2]+=t.z},this.rotate=t=>{const n=h.RotationFromQuaternion(t).buffer,l=this.Position,i=l[0],s=l[1],r=l[2];l[0]=n[0]*i+n[1]*s+n[2]*r,l[1]=n[3]*i+n[4]*s+n[5]*r,l[2]=n[6]*i+n[7]*s+n[8]*r;const F=this.Rotation,a=new e(F[1],F[2],F[3],F[0]),d=t.multiply(a);F[0]=d.w,F[1]=d.x,F[2]=d.y,F[3]=d.z},this.scale=t=>{const e=this.Position,n=this.Scale;e[0]*=t.x,e[1]*=t.y,e[2]*=t.z,n[0]*=t.x,n[1]*=t.y,n[2]*=t.z},this.recalculateBounds()}reattach(t,e,n,l,i){this._data.positions.set(t,3*this._index),this._data.rotations.set(e,4*this._index),this._data.scales.set(n,3*this._index),this._data.colors.set(l,4*this._index),this._data.selection.set(i,this._index)}get Selected(){return this._data.selection[this._index]}set Selected(t){this._data.selection[this._index]=t}get Rendered(){return this._data.rendered[this._index]}set Rendered(t){this._data.rendered[this._index]=t}get Position(){const t=3*this._index;return this._data.positions.subarray(t,t+3)}get Rotation(){const t=4*this._index;return this._data.rotations.subarray(t,t+4)}get Scale(){const t=3*this._index;return this._data.scales.subarray(t,t+3)}set Color(t){const e=4*this._index;this._data.colors.set(t,e)}get Color(){const t=4*this._index;return this._data.colors.subarray(t,t+4)}ResetColor(){const t=4*this._index;this._data.colors.set(this._defaultColor,t)}get bounds(){return this._bounds}get PositionVec3(){const e=this.Position;return new t(e[0],e[1],e[2])}get index(){return this._index}get ScaleVec3(){const e=this.Scale;return new t(e[0],e[1],e[2])}}class V{}V.BYTE_OFFSET_FLOAT=4,V.BYTE_OFFSET_DOUBLE=8,V.BYTE_OFFSET_INT=4;const R=new A(new t(1/0,1/0,1/0),new t(-1/0,-1/0,-1/0));class Z{constructor(t,e=null){this.root=t,this.region=e,this.reset()}reset(){const t=this.root;return this.trace=[],this.indices=[],null!==t&&(R.min=t.min,R.max=t.max,(null===this.region||this.region.intersectsBox(R))&&(this.trace.push(t),this.indices.push(0))),this.result={done:!1},this}next(){const t=this.region,e=this.indices,n=this.trace;let l=null,i=n.length-1;for(;null===l&&i>=0;){const s=e[i]++,r=n[i].children;if(s<8)if(null!=r){const l=r[s];if(null!==t&&(R.min=l.min,R.max=l.max,!t.intersectsBox(R)))continue;n.push(l),e.push(0),++i}else l=n.pop(),e.pop();else n.pop(),e.pop(),--i}return this.result.value=l,this.result.done=null===l,this.result}[Symbol.iterator](){return this}}const m=new t;class W{constructor(e=new t,n=new t(0,0,-1)){this.origin=e,this.direction=n}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(e,n=new t){return n.copy(this.origin).addScaledVector(this.direction,e)}intersectPlane(t,e){const n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,m)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=m.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(m.copy(this.origin).addScaledVector(this.direction,e),m.distanceToSquared(t))}intersectBox(t,e){let n,l,i,s,r,F;const a=1/this.direction.x,d=1/this.direction.y,U=1/this.direction.z,o=this.origin;return a>=0?(n=(t.min.x-o.x)*a,l=(t.max.x-o.x)*a):(n=(t.max.x-o.x)*a,l=(t.min.x-o.x)*a),d>=0?(i=(t.min.y-o.y)*d,s=(t.max.y-o.y)*d):(i=(t.max.y-o.y)*d,s=(t.min.y-o.y)*d),n>s||i>l?null:((i>n||isNaN(n))&&(n=i),(s<l||isNaN(l))&&(l=s),U>=0?(r=(t.min.z-o.z)*U,F=(t.max.z-o.z)*U):(r=(t.max.z-o.z)*U,F=(t.min.z-o.z)*U),n>F||r>l?null:((r>n||n!=n)&&(n=r),(F<l||l!=l)&&(l=F),l<0?null:this.at(n>=0?n:l,e)))}intersectsBox(t){return null!==this.intersectBox(t,m)}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return(new(0,this.constructor)).copy(this)}}const g=new t,I=new A(new t(1/0,1/0,1/0),new t(-1/0,-1/0,-1/0)),b=new A(new t(1/0,1/0,1/0),new t(-1/0,-1/0,-1/0)),J=new W;const C=new class{constructor(){this.value=0}},u=[new Uint8Array([4,2,1]),new Uint8Array([5,3,8]),new Uint8Array([6,8,3]),new Uint8Array([7,8,8]),new Uint8Array([8,6,5]),new Uint8Array([8,7,8]),new Uint8Array([8,8,7]),new Uint8Array([8,8,8])];function p(t,e,n,l){let i,s;return e<n?(i=e,s=0):(i=n,s=1),l<i&&(s=2),u[t][s]}function N(t,e,n,l,i,s,r,F){if(i>=0&&s>=0&&r>=0){const a=t.children;if(null==a)F.push(t);else{const t=.5*(e+i),d=.5*(n+s),U=.5*(l+r),o=C.value;let Q=function(t,e,n,l,i,s){let r=0;return t>e&&t>n?(i<t&&(r|=2),s<t&&(r|=1)):e>n?(l<e&&(r|=4),s<e&&(r|=1)):(l<n&&(r|=4),i<n&&(r|=2)),r}(e,n,l,t,d,U);for(;Q<8;)switch(Q){case 0:N(a[o],e,n,l,t,d,U,F),Q=p(Q,t,d,U);break;case 1:N(a[1^o],e,n,U,t,d,r,F),Q=p(Q,t,d,r);break;case 2:N(a[2^o],e,d,l,t,s,U,F),Q=p(Q,t,s,U);break;case 3:N(a[3^o],e,d,U,t,s,r,F),Q=p(Q,t,s,r);break;case 4:N(a[4^o],t,n,l,i,d,U,F),Q=p(Q,i,d,U);break;case 5:N(a[5^o],t,n,U,i,d,r,F),Q=p(Q,i,d,r);break;case 6:N(a[6^o],t,d,l,i,s,U,F),Q=p(Q,i,s,U);break;case 7:N(a[7^o],t,d,U,i,s,r,F),Q=8}}}}class y{static intersectOctree(t,e){const n=[],l=function(t,e,n){const l=I.min.set(0,0,0),i=I.max.subVectors(t.max,t.min),s=t.getDimensions(b.min),r=b.max.copy(s).multiply(.5),F=J.origin.copy(e.origin),a=J.direction.copy(e.direction);F.sub(t.getCenter(g)).add(r),n.value=0,a.x<0?(F.x=s.x-F.x,a.x=-a.x,n.value|=4):0===a.x&&(a.x=Number.EPSILON),a.y<0?(F.y=s.y-F.y,a.y=-a.y,n.value|=2):0===a.y&&(a.y=Number.EPSILON),a.z<0?(F.z=s.z-F.z,a.z=-a.z,n.value|=1):0===a.z&&(a.z=Number.EPSILON);const d=1/a.x,U=1/a.y,o=1/a.z,Q=(l.x-F.x)*d,c=(i.x-F.x)*d,A=(l.y-F.y)*U,h=(i.y-F.y)*U,B=(l.z-F.z)*o,V=(i.z-F.z)*o;return Math.max(Q,A,B)<Math.min(c,h,V)?[Q,A,B,c,h,V]:null}(t,e,C);return null!==l&&N(t,l[0],l[1],l[2],l[3],l[4],l[5],n),n}}const G=new A(new t(1/0,1/0,1/0),new t(-1/0,-1/0,-1/0));function E(t){const e=t.children;let n=0;if(null!=e)for(let t=0;t<e.length;++t){const l=1+E(e[t]);l>n&&(n=l)}return n}function S(t,e,n,l){const i=t.children;if(G.min=t.min,G.max=t.max,e.intersectsBox(G,l))if(null!=i)for(let t=0;t<i.length;++t)S(i[t],e,n,l);else n.push(t)}function X(t,e,n,l){const i=t.children;if(n===e)l.push(t);else if(null!=i){++n;for(let t=0;t<i.length;++t)X(i[t],e,n,l)}}class Y{constructor(t){this.root=t}get min(){return this.root.min}get max(){return this.root.max}get children(){return this.root.children||null}getCenter(t){return this.root.getCenter(t)}getDimensions(t){return this.root.getDimensions(t)}cull(t,e){const n=[];return S(this.root,t,n,e),n}getDepth(){return E(this.root)}findNodesByLevel(t){const e=[];return X(this.root,t,0,e),e}getIntersectingNodes(t){return y.intersectOctree(this.root,t.ray)}leaves(t=null){return new Z(this.root,t)}[Symbol.iterator](){return new Z(this.root)}}const T=[new Uint8Array([0,0,0]),new Uint8Array([0,0,1]),new Uint8Array([0,1,0]),new Uint8Array([0,1,1]),new Uint8Array([1,0,0]),new Uint8Array([1,0,1]),new Uint8Array([1,1,0]),new Uint8Array([1,1,1])],k=new t;class f{constructor(e=new t,n=new t){this.min=e,this.max=n,this.children=null,this.data=null}getCenter(t){return t.addVectors(this.min,this.max).multiply(.5)}getDimensions(t){return t.subVectors(this.max,this.min)}split(){const t=this.min,e=this.max,n=this.getCenter(k),l=this.children=[];for(let i=0;i<8;++i){const s=T[i],r=new this.constructor;r.min.set(0===s[0]?t.x:n.x,0===s[1]?t.y:n.y,0===s[2]?t.z:n.z),r.max.set(0===s[0]?n.x:e.x,0===s[1]?n.y:e.y,0===s[2]?n.z:e.z),l[i]=r}}}class x{constructor(t=null,e=null,n=0){this.point=t,this.data=e,this.distance=n}}class w extends x{constructor(t,e,n,l=null){super(n,l,t),this.distanceToRay=e}}class H{constructor(){this.points=[],this.data=[]}testPoints(e,n){const l=void 0!==e.params.Points?e.params.Points.threshold:0,i=l*l,s=e.ray,r=this.points,F=this.data;for(let l=0,a=r.length;l<a;++l){const a=r[l],d=s.distanceSqToPoint(a);if(d<i){const i=s.closestPointToPoint(a,new t),r=s.origin.distanceTo(i);r>=e.near&&r<=e.far&&n.push(new w(r,Math.sqrt(d),i,F[l]))}}}}const v=new t;class z extends f{constructor(t,e){super(t,e)}distanceToSquared(t){return v.copy(t).clamp(this.min,this.max).sub(t).lengthSq()}distanceToCenterSquared(t){const e=this.getCenter(v),n=t.x-e.x,l=t.y-e.x,i=t.z-e.z;return n*n+l*l+i*i}contains(t,e){const n=this.min,l=this.max;return t.x>=n.x-e&&t.y>=n.y-e&&t.z>=n.z-e&&t.x<=l.x+e&&t.y<=l.y+e&&t.z<=l.z+e}redistribute(t){const e=this.children,n=this.data;if(null!==e&&null!==n){const l=n.points,i=n.data;for(let n=0,s=l.length;n<s;++n){const s=l[n],r=i[n];for(let n=0,l=e.length;n<l;++n){const l=e[n];if(l.contains(s,t)){null===l.data&&(l.data=new H);const t=l.data;t.points.push(s),t.data.push(r);break}}}this.data=null}}merge(){const t=this.children;if(null!==t){const e=new H;for(let n=0,l=t.length;n<l;++n){const l=t[n].data;null!==l&&(e.points=e.points.concat(l.points),e.data=e.data.concat(l.data))}this.children=null,this.data=e}}}function D(t){const e=t.children;let n=0;if(null!==e)for(let t=0,l=e.length;t<l;++t)n+=D(e[t]);else if(null!==t.data){n=t.data.points.length}return n}function M(t,e,n,l,i){let s=!1,r=!1;if(null!==l&&l.contains(t,n.getBias())){let F=l.children;if(null===F){let a=0;if(null===l.data)l.data=new H;else{const e=l.data.points;for(let n=0,l=e.length;!s&&n<l;++n)s=e[n].equals(t),a=n}const d=l.data;s?(d.data[a]=e,r=!0):d.points.length<n.getMaxPoints()||i===n.getMaxDepth()?(d.points.push(t.clone()),d.data.push(e),r=!0):(l.split(),l.redistribute(n.getBias()),F=l.children)}if(null!==F){++i;for(let l=0,s=F.length;!r&&l<s;++l)r=M(t,e,n,F[l],i)}}return r}function j(t,e,n,l){const i=n.children;let s=null;if(n.contains(t,e.getBias()))if(null!==i)for(let l=0,r=i.length;null===s&&l<r;++l)s=j(t,e,i[l],n);else if(null!==n.data){const i=n.data,r=i.points,F=i.data;for(let n=0,i=r.length;n<i;++n)if(r[n].equals(t)){const t=i-1;s=F[n],n<t&&(r[n]=r[t],F[n]=F[t]),r.pop(),F.pop(),null!==l&&D(l)<=e.getMaxPoints()&&l.merge();break}}return s}function K(t,e,n){const l=n.children;let i=null;if(n.contains(t,e.getBias()))if(null!==l)for(let n=0,s=l.length;null===i&&n<s;++n)i=K(t,e,l[n]);else if(null!==n.data){const e=n.data,l=e.points,s=e.data;for(let e=0,n=l.length;null===i&&e<n;++e)t.equals(l[e])&&(i=s[e])}return i}function _(t,e,n,l,i,s){const r=l.children;let F=null;if(l.contains(t,n.getBias()))if(l.contains(e,n.getBias())){if(null!==r){++s;for(let i=0,a=r.length;null===F&&i<a;++i){F=_(t,e,n,r[i],l,s)}}else if(null!==l.data){const n=l.data,i=n.points,s=n.data;for(let n=0,l=i.length;n<l;++n)if(t.equals(i[n])){i[n].copy(e),F=s[n];break}}}else F=j(t,n,l,i),M(e,F,n,i,s-1);return F}function P(t,e,n,l){let i=null,s=e;if(null!==l.children){const e=l.children.map((e=>{const n=e;return{distance:n.distanceToCenterSquared(t),octant:n}})).sort(((t,e)=>t.distance-e.distance));for(let l=0,r=e.length;l<r;++l){const r=e[l].octant;if(r.contains(t,s)){const e=P(t,s,n,r);if(null!==e&&(s=e.distance,i=e,0===s))break}}}else if(null!==l.data){const e=l.data,r=e.points,F=e.data;let a=-1;for(let e=0,l=r.length;e<l;++e)if(r[e].equals(t)){if(!n){s=0,a=e;break}}else{const n=t.distanceTo(r[e]);n<s&&(s=n,a=e)}a>=0&&(i=new x(r[a],F[a],s))}return i}function O(t,e,n,l,i){const s=l.children;if(null!==s)for(let l=0,r=s.length;l<r;++l){const r=s[l];r.contains(t,e)&&O(t,e,n,r,i)}else if(null!==l.data){const s=l.data,r=s.points,F=s.data;for(let l=0,s=r.length;l<s;++l){const s=r[l];if(s.equals(t))n||i.push(new x(s.clone(),F[l],0));else{const n=e*e,r=s.distanceToSquared(t);r<=n&&i.push(new x(s.clone(),F[l],Math.sqrt(r)))}}}}class L extends Y{constructor(t,e,n=0,l=8,i=8){super(new z(t,e)),this.bias=Math.max(0,n),this.maxPoints=Math.max(1,Math.round(l)),this.maxDepth=Math.max(0,Math.round(i))}getBias(){return this.bias}getMaxPoints(){return this.maxPoints}getMaxDepth(){return this.maxDepth}countPoints(t=this.root){return D(t)}set(t,e){return M(t,e,this,this.root,0)}remove(t){return j(t,this,this.root,null)}get(t){return K(t,this,this.root)}move(t,e){return _(t,e,this,this.root,null,0)}findNearestPoint(t,e=Number.POSITIVE_INFINITY,n=!1){const l=P(t,e,n,this.root);return null!==l&&null!==l.point&&(l.point=l.point.clone()),l}findPoints(t,e,n=!1){const l=[];return O(t,e,n,this.root,l),l}raycast(t){const e=[],n=super.getIntersectingNodes(t);if(n.length>0)for(let l=0,i=n.length;l<i;++l){const i=n[l].data;null!==i&&i.testPoints(t,e)}return e}}class q extends a{constructor(n=void 0){super(),this.selectedChanged=!1,this.renderNumberChanged=!1,this.colorTransformChanged=!1,this._splats=[],this._selected=!1,this._colorTransforms=[],this._colorTransformsMap=new Map,this.serialize=()=>{console.log("serialize splat");const t=new Uint8Array(this._numberOfSplats*d.RowLength),e=new Float32Array(t.buffer),n=new Uint8Array(t.buffer);for(let t=0;t<this._numberOfSplats;t++)e[8*t+0]=this._splats[t].Position[0],e[8*t+1]=this._splats[t].Position[1],e[8*t+2]=this._splats[t].Position[2],n[32*t+24+0]=this._splats[t].Color[0],n[32*t+24+1]=this._splats[t].Color[1],n[32*t+24+2]=this._splats[t].Color[2],n[32*t+24+3]=this._splats[t].Color[3],e[8*t+3+0]=this._splats[t].Scale[0],e[8*t+3+1]=this._splats[t].Scale[1],e[8*t+3+2]=this._splats[t].Scale[2],n[32*t+28+0]=128*this._splats[t].Rotation[0]+128&255,n[32*t+28+1]=128*this._splats[t].Rotation[1]+128&255,n[32*t+28+2]=128*this._splats[t].Rotation[2]+128&255,n[32*t+28+3]=128*this._splats[t].Rotation[3]+128&255;return t},this.reattach=(t,e,n,l,i)=>{console.assert(t.byteLength===3*this._numberOfRenderedSplats*4,`Expected ${3*this._numberOfRenderedSplats*4} bytes, got ${t.byteLength} bytes`);for(let s=0;s<this._numberOfSplats;s++)if(1===this._splats[s].Rendered){let r=new Float32Array(t,3*s*V.BYTE_OFFSET_FLOAT,3),F=new Float32Array(e,4*s*V.BYTE_OFFSET_FLOAT,4),a=new Float32Array(n,3*s*V.BYTE_OFFSET_FLOAT,3),d=new Uint8Array(l,1*s*V.BYTE_OFFSET_INT,4),U=new Uint8Array(i,s,1);this._splats[s].reattach(r,F,a,d,U)}this._data.detached=!1},this._splats=new Array,this._data=n||new d,this._bounds=new A(new t(1/0,1/0,1/0),new t(-1/0,-1/0,-1/0)),this._numberOfSplats=0,this._numberOfRenderedSplats=0,this.applyPosition=()=>{this.data.translate(this.position),this.position=new t},this.applyRotation=()=>{this._splats.forEach(((t,e)=>{t.rotate(this.rotation)})),this.rotation=new e,this.data.changed=!0},this.applyScale=()=>{this._splats.forEach(((t,e)=>{t.scale(this.scale)})),this.scale=new t(1,1,1)},this.applySelection=()=>{this.selectedChanged=!0,this.dispatchEvent(this._changeEvent),this.data.changed=!0},this.applyRendering=()=>{this.renderNumberChanged=!0,this.dispatchEvent(this._changeEvent),this.data.changed=!0},(async()=>{await this.createSplatsData(n),await this.recalculateBounds(),await this.createOctree(),this.data.changed=!0})()}async createSplatsData(t){if(null!=t){this._numberOfSplats=t.vertexCount,this._numberOfRenderedSplats=t.vertexCount,console.time("Splats creation");for(let e=0;e<t.vertexCount;e++){let t=new B(e,this._data);this._splats.push(t),e%1e3==0&&await Promise.resolve()}console.timeEnd("Splats creation")}}async recalculateBounds(){console.time("Bounds calculation");for(let e=0;e<this._numberOfSplats;e++){const n=this._splats[e].Position;this._bounds.expand(new t(n[0],n[1],n[2])),e%1e3==0&&await Promise.resolve()}console.timeEnd("Bounds calculation")}async createOctree(){this._octree=new L(this._bounds.min,this._bounds.max,0,8,8),console.time("Octree creation");const e=new t;for(let t=0;t<this._numberOfSplats;t++){const n=this._splats[t].Position;e.set(n[0],n[1],n[2]),this._octree.set(e,this._splats[t]),t%1e3==0&&await Promise.resolve()}console.timeEnd("Octree creation")}saveToFile(t=null,e=null){if(!document)return;if(e){if("splat"!==e&&"ply"!==e)throw new Error("Invalid format. Must be 'splat' or 'ply'")}else e="splat";if(!t){const n=new Date;t=`splat-${n.getFullYear()}-${n.getMonth()+1}-${n.getDate()}.${e}`}this.applyRotation(),this.applyScale(),this.applyPosition();const n=this.serialize();let l;if("ply"===e){const t=o.SplatToPLY(n.buffer,this._numberOfSplats);l=new Blob([t],{type:"application/octet-stream"})}else l=new Blob([n.buffer],{type:"application/octet-stream"});const i=document.createElement("a");i.download=t,i.href=URL.createObjectURL(l),i.click()}get data(){return this._data}get splats(){return this._splats}getSplatAtIndex(t){if(!(t<0||t>=this._numberOfSplats))return this._splats[t];console.error("Index out of bounds")}get selected(){return this._selected}set selected(t){this._selected!==t&&(this._selected=t,this.selectedChanged=!0,this.dispatchEvent(this._changeEvent))}selectSplat(t,e){this._splats[t].Selected=e,this.selectedChanged=!0,this.dispatchEvent(this._changeEvent)}renderSplat(t,e){this._data.rendered[t]=e}updateRenderingOfSplats(){this.data.changed=!0}get colorTransforms(){return this._colorTransforms}get colorTransformsMap(){return this._colorTransformsMap}get bounds(){let t=this._bounds.center();t=t.add(this.position);let e=this._bounds.size();return e=e.multiply(this.scale),new A(t.subtract(e.divide(2)),t.add(e.divide(2)))}get splatCount(){return this._numberOfSplats}get numberOfRenderedSplats(){return this._data.renderedSplats}get Positions(){return this._data.renderedPositions}get Scales(){return this._data.renderedScales}get Rotations(){return this._data.renderedRotations}get Colors(){return this._data.renderedColors}get Selections(){return this._data.renderedSelection}get Rendered(){return this.data.rendered}get octree(){return this._octree}}class $ extends a{constructor(t){super(),this._data=t}get data(){return this._data}}class tt{constructor(){this._fx=1132,this._fy=1132,this._near=.1,this._far=30,this._width=512,this._height=512,this._projectionMatrix=new l,this._viewMatrix=new l,this._viewProj=new l,this._updateProjectionMatrix=()=>{this._projectionMatrix=new l(2*this.fx/this.width,0,0,0,0,-2*this.fy/this.height,0,0,0,0,this.far/(this.far-this.near),1,0,0,-this.far*this.near/(this.far-this.near),0),this._viewProj=this.projectionMatrix.multiply(this.viewMatrix)},this.update=(t,e)=>{const n=h.RotationFromQuaternion(e).buffer,i=t.flat();this._viewMatrix=new l(n[0],n[1],n[2],0,n[3],n[4],n[5],0,n[6],n[7],n[8],0,-i[0]*n[0]-i[1]*n[3]-i[2]*n[6],-i[0]*n[1]-i[1]*n[4]-i[2]*n[7],-i[0]*n[2]-i[1]*n[5]-i[2]*n[8],1),this._viewProj=this.projectionMatrix.multiply(this.viewMatrix)},this.setSize=(t,e)=>{this._width=t,this._height=e,this._updateProjectionMatrix()}}get fx(){return this._fx}set fx(t){this._fx!==t&&(this._fx=t,this._updateProjectionMatrix())}get fy(){return this._fy}set fy(t){this._fy!==t&&(this._fy=t,this._updateProjectionMatrix())}get near(){return this._near}set near(t){this._near!==t&&(this._near=t,this._updateProjectionMatrix())}get far(){return this._far}set far(t){this._far!==t&&(this._far=t,this._updateProjectionMatrix())}get width(){return this._width}get height(){return this._height}get projectionMatrix(){return this._projectionMatrix}get viewMatrix(){return this._viewMatrix}get viewProj(){return this._viewProj}get direction(){const e=this._viewMatrix.invert().buffer;return new t(e[8],e[9],e[10]).normalize()}}class et{constructor(t=0,e=0,n=0,l=0){this.x=t,this.y=e,this.z=n,this.w=l}equals(t){return this.x===t.x&&(this.y===t.y&&(this.z===t.z&&this.w===t.w))}add(t){return"number"==typeof t?new et(this.x+t,this.y+t,this.z+t,this.w+t):new et(this.x+t.x,this.y+t.y,this.z+t.z,this.w+t.w)}subtract(t){return"number"==typeof t?new et(this.x-t,this.y-t,this.z-t,this.w-t):new et(this.x-t.x,this.y-t.y,this.z-t.z,this.w-t.w)}multiply(t){return"number"==typeof t?new et(this.x*t,this.y*t,this.z*t,this.w*t):t instanceof et?new et(this.x*t.x,this.y*t.y,this.z*t.z,this.w*t.w):new et(this.x*t.buffer[0]+this.y*t.buffer[4]+this.z*t.buffer[8]+this.w*t.buffer[12],this.x*t.buffer[1]+this.y*t.buffer[5]+this.z*t.buffer[9]+this.w*t.buffer[13],this.x*t.buffer[2]+this.y*t.buffer[6]+this.z*t.buffer[10]+this.w*t.buffer[14],this.x*t.buffer[3]+this.y*t.buffer[7]+this.z*t.buffer[11]+this.w*t.buffer[15])}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lerp(t,e){return new et(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e,this.z+(t.z-this.z)*e,this.w+(t.w-this.w)*e)}magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}distanceTo(t){return Math.sqrt((this.x-t.x)**2+(this.y-t.y)**2+(this.z-t.z)**2+(this.w-t.w)**2)}normalize(){const t=this.magnitude();return new et(this.x/t,this.y/t,this.z/t,this.w/t)}flat(){return[this.x,this.y,this.z,this.w]}clone(){return new et(this.x,this.y,this.z,this.w)}toString(){return`[${this.flat().join(", ")}]`}}class nt extends a{constructor(e=void 0){super(),this._data=e||new tt,this._position=new t(0,0,-5),this.update=()=>{this.data.update(this.position,this.rotation)},this.worldToScreenPoint=e=>{const n=new et(e.x,e.y,e.z,1),l=this._data.viewMatrix,i=n.multiply(l),s=this._data.projectionMatrix,r=i.multiply(s);return new t(r.x/r.w,r.y/r.w,r.z/r.w)},this.worldToCameraPoint=e=>{const n=new et(e.x,e.y,e.z,1),l=this._data.viewMatrix,i=n.multiply(l);return new t(i.x/i.w,i.y/i.w,i.z/i.w)},this.screenToWorldPoint=(e,n,l=-1)=>{const i=new et(e,n,l,1),s=this._data.projectionMatrix.invert(),r=i.multiply(s),F=this._data.viewMatrix.invert(),a=r.multiply(F);return new t(a.x/a.w,a.y/a.w,a.z/a.w)},this.screenPointToRay=(e,n)=>{const l=new et(e,n,-1,1),i=this._data.projectionMatrix.invert(),s=l.multiply(i),r=this._data.viewMatrix.invert(),F=s.multiply(r);return new t(F.x/F.w,F.y/F.w,F.z/F.w).subtract(this.position).normalize()}}get data(){return this._data}}class lt extends n{constructor(){super(),this._objects=[],this.addObject=t=>{this.objects.push(t),this.dispatchEvent(new i(t))},this.removeObject=t=>{const e=this.objects.indexOf(t);if(e<0)throw new Error("Object not found in scene");this.objects.splice(e,1),this.dispatchEvent(new s(t))},this.findObject=t=>{for(const e of this.objects)if(t(e))return e},this.findObjectOfType=t=>{for(const e of this.objects)if(e instanceof t)return e},this.reset=()=>{const t=this.objects.slice();for(const e of t)this.removeObject(e)},this.reset()}saveToFile(t=null,e=null){if(!document)return;if(e){if("splat"!==e&&"ply"!==e)throw new Error("Invalid format. Must be 'splat' or 'ply'")}else e="splat";if(!t){const n=new Date;t=`scene-${n.getFullYear()}-${n.getMonth()+1}-${n.getDate()}.${e}`}const n=[];let l=0;for(const t of this.objects)if(t.applyRotation(),t.applyScale(),t.applyPosition(),t instanceof q){const e=t.serialize();n.push(e),l+=t.splatCount}const i=new Uint8Array(l*d.RowLength);let s,r=0;for(const t of n)i.set(t,r),r+=t.length;if("ply"===e){const t=o.SplatToPLY(i.buffer,l);s=new Blob([t],{type:"application/octet-stream"})}else s=new Blob([i.buffer],{type:"application/octet-stream"});const F=document.createElement("a");F.download=t,F.href=URL.createObjectURL(s),F.click()}get objects(){return this._objects}}async function it(t,e){const n=await fetch(t,{mode:"cors",credentials:"omit",cache:e?"force-cache":"default"});if(200!=n.status)throw new Error(n.status+" Unable to load "+n.url);return n}async function st(t,e){return t.headers.has("content-length")?async function(t,e){const n=t.body.getReader(),l=parseInt(t.headers.get("content-length")),i=new Uint8Array(l);let s=0;for(;;){const{done:t,value:r}=await n.read();if(t)break;i.set(r,s),s+=r.length,null==e||e(s/l)}return i}(t,e):async function(t,e){const n=t.body.getReader(),l=[];let i=0;for(;;){const{done:t,value:e}=await n.read();if(t)break;l.push(e),i+=e.length}const s=new Uint8Array(i);let r=0;for(const t of l)s.set(t,r),r+=t.length,null==e||e(r/i);return s}(t,e)}class rt{static async LoadAsync(t,e,n,l=!1){const i=await it(t,l),s=await st(i,n);return this.LoadFromArrayBuffer(s,e)}static async LoadFromFileAsync(t,e,n){const l=new FileReader;let i=new q;return l.onload=t=>{i=this.LoadFromArrayBuffer(t.target.result,e)},l.onprogress=t=>{null==n||n(t.loaded/t.total)},l.readAsArrayBuffer(t),await new Promise((t=>{l.onloadend=()=>{t()}})),i}static LoadFromArrayBuffer(t,e){const n=new Uint8Array(t),l=d.Deserialize(n),i=new q(l);return e.addObject(i),i}}class Ft{static async LoadAsync(t,e,n,l="",i=!1){const s=await it(t,i),r=await st(s,n);if(112!==r[0]||108!==r[1]||121!==r[2]||10!==r[3])throw new Error("Invalid PLY file");return this.LoadFromArrayBuffer(r.buffer,e,l)}static async LoadFromFileAsync(t,e,n,l=""){const i=new FileReader;let s=new q;return i.onload=t=>{s=this.LoadFromArrayBuffer(t.target.result,e,l)},i.onprogress=t=>{null==n||n(t.loaded/t.total)},i.readAsArrayBuffer(t),await new Promise((t=>{i.onloadend=()=>{t()}})),s}static LoadFromArrayBuffer(t,e,n=""){const l=new Uint8Array(this._ParsePLYBuffer(t,n)),i=d.Deserialize(l),s=new q(i);return e.addObject(s),s}static _ParsePLYBuffer(n,l){const i=new Uint8Array(n),s=(new TextDecoder).decode(i.slice(0,10240)),r="end_header\n",F=s.indexOf(r);if(F<0)throw new Error("Unable to read .ply file header");const a=parseInt(/element vertex (\d+)\n/.exec(s)[1]);let U=0;const Q={double:8,int:4,uint:4,float:4,short:2,ushort:2,uchar:1},c=[];for(const t of s.slice(0,F).split("\n").filter((t=>t.startsWith("property ")))){const[e,n,l]=t.split(" ");if(c.push({name:l,type:n,offset:U}),!Q[n])throw new Error(`Unsupported property type: ${n}`);U+=Q[n]}const A=new DataView(n,F+11),h=new ArrayBuffer(d.RowLength*a),B=e.FromEuler(new t(Math.PI/2,0,0));for(let t=0;t<a;t++){const n=new Float32Array(h,t*d.RowLength,3),i=new Float32Array(h,t*d.RowLength+12,3),s=new Uint8ClampedArray(h,t*d.RowLength+24,4),r=new Uint8ClampedArray(h,t*d.RowLength+28,4);let F=255,a=0,Q=0,V=0;c.forEach((e=>{let l;switch(e.type){case"float":l=A.getFloat32(e.offset+t*U,!0);break;case"int":l=A.getInt32(e.offset+t*U,!0);break;default:throw new Error(`Unsupported property type: ${e.type}`)}switch(e.name){case"x":n[0]=l;break;case"y":n[1]=l;break;case"z":n[2]=l;break;case"scale_0":case"scaling_0":i[0]=Math.exp(l);break;case"scale_1":case"scaling_1":i[1]=Math.exp(l);break;case"scale_2":case"scaling_2":i[2]=Math.exp(l);break;case"red":s[0]=l;break;case"green":s[1]=l;break;case"blue":s[2]=l;break;case"f_dc_0":case"features_0":s[0]=255*(.5+o.SH_C0*l);break;case"f_dc_1":case"features_1":s[1]=255*(.5+o.SH_C0*l);break;case"f_dc_2":case"features_2":s[2]=255*(.5+o.SH_C0*l);break;case"f_dc_3":s[3]=255*(.5+o.SH_C0*l);break;case"opacity":case"opacity_0":s[3]=1/(1+Math.exp(-l))*255;break;case"rot_0":case"rotation_0":F=l;break;case"rot_1":case"rotation_1":a=l;break;case"rot_2":case"rotation_2":Q=l;break;case"rot_3":case"rotation_3":V=l}}));let R=new e(a,Q,V,F);switch(l){case"polycam":{const t=n[1];n[1]=-n[2],n[2]=t,R=B.multiply(R);break}case"":break;default:throw new Error(`Unsupported format: ${l}`)}R=R.normalize(),r[0]=128*R.w+128,r[1]=128*R.x+128,r[2]=128*R.y+128,r[3]=128*R.z+128}return h}}class at{static async LoadAsync(t,e,n,l,i=!1){const s=await it(t,i),r=await st(s,l);return this._ParseSplatvBuffer(r.buffer,e,n)}static async LoadFromFileAsync(t,e,n,l){const i=new FileReader;let s=null;if(i.onload=t=>{s=this._ParseSplatvBuffer(t.target.result,e,n)},i.onprogress=t=>{null==l||l(t.loaded/t.total)},i.readAsArrayBuffer(t),await new Promise((t=>{i.onloadend=()=>{t()}})),!s)throw new Error("Failed to load splatv file");return s}static _ParseSplatvBuffer(n,l,i){let s=null;const r=(n,r,F)=>{if("magic"===n.type){const t=new Int32Array(r.buffer);if(26443!==t[0])throw new Error("Invalid splatv file");F.push({size:t[1],type:"chunks"})}else if("chunks"===n.type){const n=JSON.parse(new TextDecoder("utf-8").decode(r));if(0==n.length)throw new Error("Invalid splatv file");n.length>1&&console.warn("Splatv file contains more than one chunk, only the first one will be loaded");const l=n[0],s=l.cameras;if(i&&s&&s.length){const n=s[0],l=new t(n.position[0],n.position[1],n.position[2]),r=e.FromMatrix3(new h(n.rotation[0][0],n.rotation[0][1],n.rotation[0][2],n.rotation[1][0],n.rotation[1][1],n.rotation[1][2],n.rotation[2][0],n.rotation[2][1],n.rotation[2][2]));i.position=l,i.rotation=r}F.push(l)}else if("splat"===n.type){const t=U.Deserialize(r,n.texwidth,n.texheight),e=new $(t);l.addObject(e),s=e}},F=new Uint8Array(n),a=[{size:8,type:"magic",texwidth:0,texheight:0}];let d=a.shift(),o=new Uint8Array(d.size),Q=0,c=0;for(;d;){for(;Q<d.size;){const t=Math.min(d.size-Q,F.length-c);o.set(F.subarray(c,c+t),Q),Q+=t,c+=t}if(r(d,o,a),s)return s;d=a.shift(),d&&(o=new Uint8Array(d.size),Q=0)}throw new Error("Invalid splatv file")}}function dt(t,e,n){var l=void 0===e?null:e,i=function(t,e){var n=atob(t);if(e){for(var l=new Uint8Array(n.length),i=0,s=n.length;i<s;++i)l[i]=n.charCodeAt(i);return String.fromCharCode.apply(null,new Uint16Array(l.buffer))}return n}(t,void 0!==n&&n),s=i.indexOf("\n",10)+1,r=i.substring(s)+(l?"//# sourceMappingURL="+l:""),F=new Blob([r],{type:"application/javascript"});return URL.createObjectURL(F)}function Ut(t,e,n){var l;return function(i){return l=l||dt(t,e,n),new Worker(l,i)}}var ot=Ut("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKCiAgdmFyIGxvYWRXYXNtID0gKCgpID0+IHsKICAgIAogICAgcmV0dXJuICgKICBmdW5jdGlvbihtb2R1bGVBcmcgPSB7fSkgewoKICB2YXIgTW9kdWxlPW1vZHVsZUFyZzt2YXIgcmVhZHlQcm9taXNlUmVzb2x2ZSxyZWFkeVByb21pc2VSZWplY3Q7dmFyIHJlYWR5UHJvbWlzZT1uZXcgUHJvbWlzZSgocmVzb2x2ZSxyZWplY3QpPT57cmVhZHlQcm9taXNlUmVzb2x2ZT1yZXNvbHZlO3JlYWR5UHJvbWlzZVJlamVjdD1yZWplY3Q7fSk7dmFyIG1vZHVsZU92ZXJyaWRlcz1PYmplY3QuYXNzaWduKHt9LE1vZHVsZSk7dmFyIHNjcmlwdERpcmVjdG9yeT0iIjt2YXIgcmVhZEJpbmFyeTt7e3NjcmlwdERpcmVjdG9yeT1zZWxmLmxvY2F0aW9uLmhyZWY7fWlmKHNjcmlwdERpcmVjdG9yeS5zdGFydHNXaXRoKCJibG9iOiIpKXtzY3JpcHREaXJlY3Rvcnk9IiI7fWVsc2Uge3NjcmlwdERpcmVjdG9yeT1zY3JpcHREaXJlY3Rvcnkuc3Vic3RyKDAsc2NyaXB0RGlyZWN0b3J5LnJlcGxhY2UoL1s/I10uKi8sIiIpLmxhc3RJbmRleE9mKCIvIikrMSk7fXt7cmVhZEJpbmFyeT11cmw9Pnt2YXIgeGhyPW5ldyBYTUxIdHRwUmVxdWVzdDt4aHIub3BlbigiR0VUIix1cmwsZmFsc2UpO3hoci5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIjt4aHIuc2VuZChudWxsKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoeGhyLnJlc3BvbnNlKX07fX19TW9kdWxlWyJwcmludCJdfHxjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpO3ZhciBlcnI9TW9kdWxlWyJwcmludEVyciJdfHxjb25zb2xlLmVycm9yLmJpbmQoY29uc29sZSk7T2JqZWN0LmFzc2lnbihNb2R1bGUsbW9kdWxlT3ZlcnJpZGVzKTttb2R1bGVPdmVycmlkZXM9bnVsbDtpZihNb2R1bGVbImFyZ3VtZW50cyJdKU1vZHVsZVsiYXJndW1lbnRzIl07aWYoTW9kdWxlWyJ0aGlzUHJvZ3JhbSJdKU1vZHVsZVsidGhpc1Byb2dyYW0iXTtpZihNb2R1bGVbInF1aXQiXSlNb2R1bGVbInF1aXQiXTt2YXIgd2FzbUJpbmFyeTtpZihNb2R1bGVbIndhc21CaW5hcnkiXSl3YXNtQmluYXJ5PU1vZHVsZVsid2FzbUJpbmFyeSJdO2Z1bmN0aW9uIGludEFycmF5RnJvbUJhc2U2NChzKXt2YXIgZGVjb2RlZD1hdG9iKHMpO3ZhciBieXRlcz1uZXcgVWludDhBcnJheShkZWNvZGVkLmxlbmd0aCk7Zm9yKHZhciBpPTA7aTxkZWNvZGVkLmxlbmd0aDsrK2kpe2J5dGVzW2ldPWRlY29kZWQuY2hhckNvZGVBdChpKTt9cmV0dXJuIGJ5dGVzfWZ1bmN0aW9uIHRyeVBhcnNlQXNEYXRhVVJJKGZpbGVuYW1lKXtpZighaXNEYXRhVVJJKGZpbGVuYW1lKSl7cmV0dXJufXJldHVybiBpbnRBcnJheUZyb21CYXNlNjQoZmlsZW5hbWUuc2xpY2UoZGF0YVVSSVByZWZpeC5sZW5ndGgpKX12YXIgd2FzbU1lbW9yeTt2YXIgQUJPUlQ9ZmFsc2U7dmFyIEhFQVA4LEhFQVBVOCxIRUFQMTYsSEVBUFUxNixIRUFQMzIsSEVBUFUzMixIRUFQRjMyLEhFQVBGNjQ7ZnVuY3Rpb24gdXBkYXRlTWVtb3J5Vmlld3MoKXt2YXIgYj13YXNtTWVtb3J5LmJ1ZmZlcjtNb2R1bGVbIkhFQVA4Il09SEVBUDg9bmV3IEludDhBcnJheShiKTtNb2R1bGVbIkhFQVAxNiJdPUhFQVAxNj1uZXcgSW50MTZBcnJheShiKTtNb2R1bGVbIkhFQVBVOCJdPUhFQVBVOD1uZXcgVWludDhBcnJheShiKTtNb2R1bGVbIkhFQVBVMTYiXT1IRUFQVTE2PW5ldyBVaW50MTZBcnJheShiKTtNb2R1bGVbIkhFQVAzMiJdPUhFQVAzMj1uZXcgSW50MzJBcnJheShiKTtNb2R1bGVbIkhFQVBVMzIiXT1IRUFQVTMyPW5ldyBVaW50MzJBcnJheShiKTtNb2R1bGVbIkhFQVBGMzIiXT1IRUFQRjMyPW5ldyBGbG9hdDMyQXJyYXkoYik7TW9kdWxlWyJIRUFQRjY0Il09SEVBUEY2ND1uZXcgRmxvYXQ2NEFycmF5KGIpO312YXIgX19BVFBSRVJVTl9fPVtdO3ZhciBfX0FUSU5JVF9fPVtdO3ZhciBfX0FUUE9TVFJVTl9fPVtdO2Z1bmN0aW9uIHByZVJ1bigpe2lmKE1vZHVsZVsicHJlUnVuIl0pe2lmKHR5cGVvZiBNb2R1bGVbInByZVJ1biJdPT0iZnVuY3Rpb24iKU1vZHVsZVsicHJlUnVuIl09W01vZHVsZVsicHJlUnVuIl1dO3doaWxlKE1vZHVsZVsicHJlUnVuIl0ubGVuZ3RoKXthZGRPblByZVJ1bihNb2R1bGVbInByZVJ1biJdLnNoaWZ0KCkpO319Y2FsbFJ1bnRpbWVDYWxsYmFja3MoX19BVFBSRVJVTl9fKTt9ZnVuY3Rpb24gaW5pdFJ1bnRpbWUoKXtjYWxsUnVudGltZUNhbGxiYWNrcyhfX0FUSU5JVF9fKTt9ZnVuY3Rpb24gcG9zdFJ1bigpe2lmKE1vZHVsZVsicG9zdFJ1biJdKXtpZih0eXBlb2YgTW9kdWxlWyJwb3N0UnVuIl09PSJmdW5jdGlvbiIpTW9kdWxlWyJwb3N0UnVuIl09W01vZHVsZVsicG9zdFJ1biJdXTt3aGlsZShNb2R1bGVbInBvc3RSdW4iXS5sZW5ndGgpe2FkZE9uUG9zdFJ1bihNb2R1bGVbInBvc3RSdW4iXS5zaGlmdCgpKTt9fWNhbGxSdW50aW1lQ2FsbGJhY2tzKF9fQVRQT1NUUlVOX18pO31mdW5jdGlvbiBhZGRPblByZVJ1bihjYil7X19BVFBSRVJVTl9fLnVuc2hpZnQoY2IpO31mdW5jdGlvbiBhZGRPbkluaXQoY2Ipe19fQVRJTklUX18udW5zaGlmdChjYik7fWZ1bmN0aW9uIGFkZE9uUG9zdFJ1bihjYil7X19BVFBPU1RSVU5fXy51bnNoaWZ0KGNiKTt9dmFyIHJ1bkRlcGVuZGVuY2llcz0wO3ZhciBkZXBlbmRlbmNpZXNGdWxmaWxsZWQ9bnVsbDtmdW5jdGlvbiBhZGRSdW5EZXBlbmRlbmN5KGlkKXtydW5EZXBlbmRlbmNpZXMrKztNb2R1bGVbIm1vbml0b3JSdW5EZXBlbmRlbmNpZXMiXT8uKHJ1bkRlcGVuZGVuY2llcyk7fWZ1bmN0aW9uIHJlbW92ZVJ1bkRlcGVuZGVuY3koaWQpe3J1bkRlcGVuZGVuY2llcy0tO01vZHVsZVsibW9uaXRvclJ1bkRlcGVuZGVuY2llcyJdPy4ocnVuRGVwZW5kZW5jaWVzKTtpZihydW5EZXBlbmRlbmNpZXM9PTApe2lmKGRlcGVuZGVuY2llc0Z1bGZpbGxlZCl7dmFyIGNhbGxiYWNrPWRlcGVuZGVuY2llc0Z1bGZpbGxlZDtkZXBlbmRlbmNpZXNGdWxmaWxsZWQ9bnVsbDtjYWxsYmFjaygpO319fWZ1bmN0aW9uIGFib3J0KHdoYXQpe01vZHVsZVsib25BYm9ydCJdPy4od2hhdCk7d2hhdD0iQWJvcnRlZCgiK3doYXQrIikiO2Vycih3aGF0KTtBQk9SVD10cnVlO3doYXQrPSIuIEJ1aWxkIHdpdGggLXNBU1NFUlRJT05TIGZvciBtb3JlIGluZm8uIjt2YXIgZT1uZXcgV2ViQXNzZW1ibHkuUnVudGltZUVycm9yKHdoYXQpO3JlYWR5UHJvbWlzZVJlamVjdChlKTt0aHJvdyBlfXZhciBkYXRhVVJJUHJlZml4PSJkYXRhOmFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbTtiYXNlNjQsIjt2YXIgaXNEYXRhVVJJPWZpbGVuYW1lPT5maWxlbmFtZS5zdGFydHNXaXRoKGRhdGFVUklQcmVmaXgpO3ZhciB3YXNtQmluYXJ5RmlsZTt3YXNtQmluYXJ5RmlsZT0iZGF0YTphcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07YmFzZTY0LEFHRnpiUUVBQUFBQldnMWdCSDkvZjM4QVlBTi9mMzhBWUFWL2YzOS9md0JnQm45L2YzOS9md0JnQVg4QVlBRi9BWDlnQTM5L2Z3Ri9ZQUovZndCZ0FuOS9BWDlnQUFCZ0IzOS9mMzkvZjM4QVlBUi9mMzUrQUdBSmYzOS9mMzkvZjM5L0FBSTlDZ0ZoQVdFQUFRRmhBV0lBQWdGaEFXTUFBUUZoQVdRQUJ3RmhBV1VBQVFGaEFXWUFDZ0ZoQVdjQUJBRmhBV2dBQUFGaEFXa0FCd0ZoQVdvQUJRTVpHQVlGQ0FRSkJBc0pBUUFCQkFVRkF3TUNBZ0FBQ0FZR0RBUUZBWEFCRUJBRkJ3RUJnZ0tBZ0FJR0NBRi9BVUd3bmdRTEJ4a0dBV3NDQUFGc0FBNEJiUUFoQVc0QkFBRnZBQmNCY0FBUENSVUJBRUVCQ3c4V0RSVVZJQTBmR0JvZERSa2JIQkVLd1VvWWNRRUJmeUFDUlFSQUlBQW9BZ1FnQVNnQ0JFWVBDeUFBSUFGR0JFQkJBUThMQWtBZ0FDZ0NCQ0lDTFFBQUlnQkZJQUFnQVNnQ0JDSUJMUUFBSWdOSGNnMEFBMEFnQVMwQUFTRURJQUl0QUFFaUFFVU5BU0FCUVFGcUlRRWdBa0VCYWlFQ0lBQWdBMFlOQUFzTElBQWdBMFlMVHdFQ2YwR29HaWdDQUNJQklBQkJCMnBCZUhFaUFtb2hBQUpBSUFKQkFDQUFJQUZORzBVRVFDQUFQd0JCRUhSTkRRRWdBQkFKRFFFTFFhd2FRVEEyQWdCQmZ3OExRYWdhSUFBMkFnQWdBUXNwQVFGL0lBRUVRQ0FBSVFJRFFDQUNRUUE2QUFBZ0FrRUJhaUVDSUFGQkFXc2lBUTBBQ3dzZ0FBc0dBQ0FBRUE4TEtRQkJwQjVCRHpZQ0FFR29Ia0VBTmdJQUVCRkJxQjVCb0I0b0FnQTJBZ0JCb0I1QnBCNDJBZ0FMMlFzQkIzOENRQ0FBUlEwQUlBQkJDR3NpQXlBQVFRUnJLQUlBSWdGQmVIRWlBR29oQlFKQUlBRkJBWEVOQUNBQlFRSnhSUTBCSUFNZ0F5Z0NBQ0lCYXlJRFFjQWFLQUlBU1EwQklBQWdBV29oQUFKQUFrQkJ4Qm9vQWdBZ0EwY0VRQ0FES0FJTUlRSWdBVUgvQVUwRVFDQUJRUU4ySVFFZ0F5Z0NDQ0lFSUFKR0JFQkJzQnBCc0Jvb0FnQkJmaUFCZDNFMkFnQU1CUXNnQkNBQ05nSU1JQUlnQkRZQ0NBd0VDeUFES0FJWUlRWWdBaUFEUndSQUlBTW9BZ2dpQVNBQ05nSU1JQUlnQVRZQ0NBd0RDeUFES0FJVUlnRUVmeUFEUVJScUJTQURLQUlRSWdGRkRRSWdBMEVRYWdzaEJBTkFJQVFoQnlBQklnSkJGR29oQkNBQ0tBSVVJZ0VOQUNBQ1FSQnFJUVFnQWlnQ0VDSUJEUUFMSUFkQkFEWUNBQXdDQ3lBRktBSUVJZ0ZCQTNGQkEwY05Ba0c0R2lBQU5nSUFJQVVnQVVGK2NUWUNCQ0FESUFCQkFYSTJBZ1FnQlNBQU5nSUFEd3RCQUNFQ0N5QUdSUTBBQWtBZ0F5Z0NIQ0lCUVFKMFFlQWNhaUlFS0FJQUlBTkdCRUFnQkNBQ05nSUFJQUlOQVVHMEdrRzBHaWdDQUVGK0lBRjNjVFlDQUF3Q0N5QUdRUkJCRkNBR0tBSVFJQU5HRzJvZ0FqWUNBQ0FDUlEwQkN5QUNJQVkyQWhnZ0F5Z0NFQ0lCQkVBZ0FpQUJOZ0lRSUFFZ0FqWUNHQXNnQXlnQ0ZDSUJSUTBBSUFJZ0FUWUNGQ0FCSUFJMkFoZ0xJQU1nQlU4TkFDQUZLQUlFSWdGQkFYRkZEUUFDUUFKQUFrQUNRQ0FCUVFKeFJRUkFRY2dhS0FJQUlBVkdCRUJCeUJvZ0F6WUNBRUc4R2tHOEdpZ0NBQ0FBYWlJQU5nSUFJQU1nQUVFQmNqWUNCQ0FEUWNRYUtBSUFSdzBHUWJnYVFRQTJBZ0JCeEJwQkFEWUNBQThMUWNRYUtBSUFJQVZHQkVCQnhCb2dBellDQUVHNEdrRzRHaWdDQUNBQWFpSUFOZ0lBSUFNZ0FFRUJjallDQkNBQUlBTnFJQUEyQWdBUEN5QUJRWGh4SUFCcUlRQWdCU2dDRENFQ0lBRkIvd0ZOQkVBZ0FVRURkaUVCSUFVb0FnZ2lCQ0FDUmdSQVFiQWFRYkFhS0FJQVFYNGdBWGR4TmdJQURBVUxJQVFnQWpZQ0RDQUNJQVEyQWdnTUJBc2dCU2dDR0NFR0lBSWdCVWNFUUVIQUdpZ0NBQm9nQlNnQ0NDSUJJQUkyQWd3Z0FpQUJOZ0lJREFNTElBVW9BaFFpQVFSL0lBVkJGR29GSUFVb0FoQWlBVVVOQWlBRlFSQnFDeUVFQTBBZ0JDRUhJQUVpQWtFVWFpRUVJQUlvQWhRaUFRMEFJQUpCRUdvaEJDQUNLQUlRSWdFTkFBc2dCMEVBTmdJQURBSUxJQVVnQVVGK2NUWUNCQ0FESUFCQkFYSTJBZ1FnQUNBRGFpQUFOZ0lBREFNTFFRQWhBZ3NnQmtVTkFBSkFJQVVvQWh3aUFVRUNkRUhnSEdvaUJDZ0NBQ0FGUmdSQUlBUWdBallDQUNBQ0RRRkJ0QnBCdEJvb0FnQkJmaUFCZDNFMkFnQU1BZ3NnQmtFUVFSUWdCaWdDRUNBRlJodHFJQUkyQWdBZ0FrVU5BUXNnQWlBR05nSVlJQVVvQWhBaUFRUkFJQUlnQVRZQ0VDQUJJQUkyQWhnTElBVW9BaFFpQVVVTkFDQUNJQUUyQWhRZ0FTQUNOZ0lZQ3lBRElBQkJBWEkyQWdRZ0FDQURhaUFBTmdJQUlBTkJ4Qm9vQWdCSERRQkJ1Qm9nQURZQ0FBOExJQUJCL3dGTkJFQWdBRUY0Y1VIWUdtb2hBUUovUWJBYUtBSUFJZ1JCQVNBQVFRTjJkQ0lBY1VVRVFFR3dHaUFBSUFSeU5nSUFJQUVNQVFzZ0FTZ0NDQXNoQUNBQklBTTJBZ2dnQUNBRE5nSU1JQU1nQVRZQ0RDQURJQUEyQWdnUEMwRWZJUUlnQUVILy8vOEhUUVJBSUFCQkppQUFRUWgyWnlJQmEzWkJBWEVnQVVFQmRHdEJQbW9oQWdzZ0F5QUNOZ0ljSUFOQ0FEY0NFQ0FDUVFKMFFlQWNhaUVIQW44Q1FBSi9RYlFhS0FJQUlnRkJBU0FDZENJRWNVVUVRRUcwR2lBQklBUnlOZ0lBUVJnaEFpQUhJUVJCQ0F3QkN5QUFRUmtnQWtFQmRtdEJBQ0FDUVI5SEczUWhBaUFIS0FJQUlRUURRQ0FFSWdFb0FnUkJlSEVnQUVZTkFpQUNRUjEySVFRZ0FrRUJkQ0VDSUFFZ0JFRUVjV3BCRUdvaUJ5Z0NBQ0lFRFFBTFFSZ2hBaUFCSVFSQkNBc2hBQ0FESWdFTUFRc2dBU2dDQ0NJRUlBTTJBZ3hCQ0NFQ0lBRkJDR29oQjBFWUlRQkJBQXNoQlNBSElBTTJBZ0FnQWlBRGFpQUVOZ0lBSUFNZ0FUWUNEQ0FBSUFOcUlBVTJBZ0JCMEJwQjBCb29BZ0JCQVdzaUFFRi9JQUFiTmdJQUN3c2NBQ0FBSUFGQkNDQUNweUFDUWlDSXB5QURweUFEUWlDSXB4QUZDOTREQUVHc0NrSHFEUkFJUWJnS1Faa05RUUZCQUJBSFFjUUtRWlFOUVFGQmdIOUIvd0FRQVVIY0NrR05EVUVCUVlCL1FmOEFFQUZCMEFwQml3MUJBVUVBUWY4QkVBRkI2QXBCNlF4QkFrR0FnSDVCLy84QkVBRkI5QXBCNEF4QkFrRUFRZi8vQXhBQlFZQUxRZmdNUVFSQmdJQ0FnSGhCLy8vLy93Y1FBVUdNQzBIdkRFRUVRUUJCZnhBQlFaZ0xRYWNOUVFSQmdJQ0FnSGhCLy8vLy93Y1FBVUdrQzBHZURVRUVRUUJCZnhBQlFiQUxRWU1OUW9DQWdJQ0FnSUNBZ0g5Qy8vLy8vLy8vLy8vL0FCQVFRYndMUVlJTlFnQkNmeEFRUWNnTFFmd01RUVFRQkVIVUMwSGpEVUVJRUFSQjFCTkJ1UTBRQTBHY0ZFSG5FUkFEUWVRVVFRUkJyQTBRQWtHd0ZVRUNRY1VORUFKQi9CVkJCRUhVRFJBQ1FaZ1dFQVpCd0JaQkFFR2lFUkFBUWVnV1FRQkJpQklRQUVHUUYwRUJRY0FSRUFCQnVCZEJBa0h2RFJBQVFlQVhRUU5Camc0UUFFR0lHRUVFUWJZT0VBQkJzQmhCQlVIVERoQUFRZGdZUVFSQnJSSVFBRUdBR1VFRlFjc1NFQUJCNkJaQkFFRzVEeEFBUVpBWFFRRkJtQThRQUVHNEYwRUNRZnNQRUFCQjRCZEJBMEhaRHhBQVFZZ1lRUVJCZ1JFUUFFR3dHRUVGUWQ4UUVBQkJxQmxCQ0VHK0VCQUFRZEFaUVFsQm5CQVFBRUg0R1VFR1Fma09FQUJCb0JwQkIwSHlFaEFBQ3lBQUFrQWdBQ2dDQkNBQlJ3MEFJQUFvQWh4QkFVWU5BQ0FBSUFJMkFod0xDNW9CQUNBQVFRRTZBRFVDUUNBQUtBSUVJQUpIRFFBZ0FFRUJPZ0EwQWtBZ0FDZ0NFQ0lDUlFSQUlBQkJBVFlDSkNBQUlBTTJBaGdnQUNBQk5nSVFJQU5CQVVjTkFpQUFLQUl3UVFGR0RRRU1BZ3NnQVNBQ1JnUkFJQUFvQWhnaUFrRUNSZ1JBSUFBZ0F6WUNHQ0FESVFJTElBQW9BakJCQVVjTkFpQUNRUUZHRFFFTUFnc2dBQ0FBS0FJa1FRRnFOZ0lrQ3lBQVFRRTZBRFlMQzNZQkFYOGdBQ2dDSkNJRFJRUkFJQUFnQWpZQ0dDQUFJQUUyQWhBZ0FFRUJOZ0lrSUFBZ0FDZ0NPRFlDRkE4TEFrQUNRQ0FBS0FJVUlBQW9BamhIRFFBZ0FDZ0NFQ0FCUncwQUlBQW9BaGhCQWtjTkFTQUFJQUkyQWhnUEN5QUFRUUU2QURZZ0FFRUNOZ0lZSUFBZ0EwRUJhallDSkFzTEFnQUxCQUFnQUF2WEp3RU1meU1BUVJCcklnb2tBQUpBQWtBQ1FBSkFBa0FDUUFKQUFrQUNRQUpBSUFCQjlBRk5CRUJCc0Jvb0FnQWlCRUVRSUFCQkMycEIrQU54SUFCQkMwa2JJZ1pCQTNZaUFIWWlBVUVEY1FSQUFrQWdBVUYvYzBFQmNTQUFhaUlDUVFOMElnRkIyQnBxSWdBZ0FVSGdHbW9vQWdBaUFTZ0NDQ0lGUmdSQVFiQWFJQVJCZmlBQ2QzRTJBZ0FNQVFzZ0JTQUFOZ0lNSUFBZ0JUWUNDQXNnQVVFSWFpRUFJQUVnQWtFRGRDSUNRUU55TmdJRUlBRWdBbW9pQVNBQktBSUVRUUZ5TmdJRURBc0xJQVpCdUJvb0FnQWlDRTBOQVNBQkJFQUNRRUVDSUFCMElnSkJBQ0FDYTNJZ0FTQUFkSEZvSWdGQkEzUWlBRUhZR21vaUFpQUFRZUFhYWlnQ0FDSUFLQUlJSWdWR0JFQkJzQm9nQkVGK0lBRjNjU0lFTmdJQURBRUxJQVVnQWpZQ0RDQUNJQVUyQWdnTElBQWdCa0VEY2pZQ0JDQUFJQVpxSWdjZ0FVRURkQ0lCSUFacklnVkJBWEkyQWdRZ0FDQUJhaUFGTmdJQUlBZ0VRQ0FJUVhoeFFkZ2FhaUVCUWNRYUtBSUFJUUlDZnlBRVFRRWdDRUVEZG5RaUEzRkZCRUJCc0JvZ0F5QUVjallDQUNBQkRBRUxJQUVvQWdnTElRTWdBU0FDTmdJSUlBTWdBallDRENBQ0lBRTJBZ3dnQWlBRE5nSUlDeUFBUVFocUlRQkJ4Qm9nQnpZQ0FFRzRHaUFGTmdJQURBc0xRYlFhS0FJQUlndEZEUUVnQzJoQkFuUkI0QnhxS0FJQUlnSW9BZ1JCZUhFZ0Jtc2hBeUFDSVFFRFFBSkFJQUVvQWhBaUFFVUVRQ0FCS0FJVUlnQkZEUUVMSUFBb0FnUkJlSEVnQm1zaUFTQURJQUVnQTBraUFSc2hBeUFBSUFJZ0FSc2hBaUFBSVFFTUFRc0xJQUlvQWhnaENTQUNJQUlvQWd3aUFFY0VRRUhBR2lnQ0FCb2dBaWdDQ0NJQklBQTJBZ3dnQUNBQk5nSUlEQW9MSUFJb0FoUWlBUVIvSUFKQkZHb0ZJQUlvQWhBaUFVVU5BeUFDUVJCcUN5RUZBMEFnQlNFSElBRWlBRUVVYWlFRklBQW9BaFFpQVEwQUlBQkJFR29oQlNBQUtBSVFJZ0VOQUFzZ0IwRUFOZ0lBREFrTFFYOGhCaUFBUWI5L1N3MEFJQUJCQzJvaUFFRjRjU0VHUWJRYUtBSUFJZ2RGRFFCQkFDQUdheUVEQWtBQ1FBSkFBbjlCQUNBR1FZQUNTUTBBR2tFZklBWkIvLy8vQjBzTkFCb2dCa0VtSUFCQkNIWm5JZ0JyZGtFQmNTQUFRUUYwYTBFK2Fnc2lDRUVDZEVIZ0hHb29BZ0FpQVVVRVFFRUFJUUFNQVF0QkFDRUFJQVpCR1NBSVFRRjJhMEVBSUFoQkgwY2JkQ0VDQTBBQ1FDQUJLQUlFUVhoeElBWnJJZ1FnQTA4TkFDQUJJUVVnQkNJRERRQkJBQ0VESUFFaEFBd0RDeUFBSUFFb0FoUWlCQ0FFSUFFZ0FrRWRka0VFY1dvb0FoQWlBVVliSUFBZ0JCc2hBQ0FDUVFGMElRSWdBUTBBQ3dzZ0FDQUZja1VFUUVFQUlRVkJBaUFJZENJQVFRQWdBR3R5SUFkeElnQkZEUU1nQUdoQkFuUkI0QnhxS0FJQUlRQUxJQUJGRFFFTEEwQWdBQ2dDQkVGNGNTQUdheUlDSUFOSklRRWdBaUFESUFFYklRTWdBQ0FGSUFFYklRVWdBQ2dDRUNJQkJIOGdBUVVnQUNnQ0ZBc2lBQTBBQ3dzZ0JVVU5BQ0FEUWJnYUtBSUFJQVpyVHcwQUlBVW9BaGdoQ0NBRklBVW9BZ3dpQUVjRVFFSEFHaWdDQUJvZ0JTZ0NDQ0lCSUFBMkFnd2dBQ0FCTmdJSURBZ0xJQVVvQWhRaUFRUi9JQVZCRkdvRklBVW9BaEFpQVVVTkF5QUZRUkJxQ3lFQ0EwQWdBaUVFSUFFaUFFRVVhaUVDSUFBb0FoUWlBUTBBSUFCQkVHb2hBaUFBS0FJUUlnRU5BQXNnQkVFQU5nSUFEQWNMSUFaQnVCb29BZ0FpQlUwRVFFSEVHaWdDQUNFQUFrQWdCU0FHYXlJQlFSQlBCRUFnQUNBR2FpSUNJQUZCQVhJMkFnUWdBQ0FGYWlBQk5nSUFJQUFnQmtFRGNqWUNCQXdCQ3lBQUlBVkJBM0kyQWdRZ0FDQUZhaUlCSUFFb0FnUkJBWEkyQWdSQkFDRUNRUUFoQVF0QnVCb2dBVFlDQUVIRUdpQUNOZ0lBSUFCQkNHb2hBQXdKQ3lBR1Fid2FLQUlBSWdKSkJFQkJ2Qm9nQWlBR2F5SUJOZ0lBUWNnYVFjZ2FLQUlBSWdBZ0Jtb2lBallDQUNBQ0lBRkJBWEkyQWdRZ0FDQUdRUU55TmdJRUlBQkJDR29oQUF3SkMwRUFJUUFnQmtFdmFpSURBbjlCaUI0b0FnQUVRRUdRSGlnQ0FBd0JDMEdVSGtKL053SUFRWXdlUW9DZ2dJQ0FnQVEzQWdCQmlCNGdDa0VNYWtGd2NVSFlxdFdxQlhNMkFnQkJuQjVCQURZQ0FFSHNIVUVBTmdJQVFZQWdDeUlCYWlJRVFRQWdBV3NpQjNFaUFTQUdUUTBJUWVnZEtBSUFJZ1VFUUVIZ0hTZ0NBQ0lJSUFGcUlna2dDRTBnQlNBSlNYSU5DUXNDUUVIc0hTMEFBRUVFY1VVRVFBSkFBa0FDUUFKQVFjZ2FLQUlBSWdVRVFFSHdIU0VBQTBBZ0JTQUFLQUlBSWdoUEJFQWdDQ0FBS0FJRWFpQUZTdzBEQ3lBQUtBSUlJZ0FOQUFzTFFRQVFDeUlDUVg5R0RRTWdBU0VFUVl3ZUtBSUFJZ0JCQVdzaUJTQUNjUVJBSUFFZ0Ftc2dBaUFGYWtFQUlBQnJjV29oQkFzZ0JDQUdUUTBEUWVnZEtBSUFJZ0FFUUVIZ0hTZ0NBQ0lGSUFScUlnY2dCVTBnQUNBSFNYSU5CQXNnQkJBTElnQWdBa2NOQVF3RkN5QUVJQUpySUFkeElnUVFDeUlDSUFBb0FnQWdBQ2dDQkdwR0RRRWdBaUVBQ3lBQVFYOUdEUUVnQmtFd2FpQUVUUVJBSUFBaEFnd0VDMEdRSGlnQ0FDSUNJQU1nQkd0cVFRQWdBbXR4SWdJUUMwRi9SZzBCSUFJZ0JHb2hCQ0FBSVFJTUF3c2dBa0YvUncwQ0MwSHNIVUhzSFNnQ0FFRUVjallDQUFzZ0FSQUxJZ0pCZjBaQkFCQUxJZ0JCZjBaeUlBQWdBazF5RFFVZ0FDQUNheUlFSUFaQktHcE5EUVVMUWVBZFFlQWRLQUlBSUFScUlnQTJBZ0JCNUIwb0FnQWdBRWtFUUVIa0hTQUFOZ0lBQ3dKQVFjZ2FLQUlBSWdNRVFFSHdIU0VBQTBBZ0FpQUFLQUlBSWdFZ0FDZ0NCQ0lGYWtZTkFpQUFLQUlJSWdBTkFBc01CQXRCd0Jvb0FnQWlBRUVBSUFBZ0FrMGJSUVJBUWNBYUlBSTJBZ0FMUVFBaEFFSDBIU0FFTmdJQVFmQWRJQUkyQWdCQjBCcEJmellDQUVIVUdrR0lIaWdDQURZQ0FFSDhIVUVBTmdJQUEwQWdBRUVEZENJQlFlQWFhaUFCUWRnYWFpSUZOZ0lBSUFGQjVCcHFJQVUyQWdBZ0FFRUJhaUlBUVNCSERRQUxRYndhSUFSQktHc2lBRUY0SUFKclFRZHhJZ0ZySWdVMkFnQkJ5Qm9nQVNBQ2FpSUJOZ0lBSUFFZ0JVRUJjallDQkNBQUlBSnFRU2cyQWdSQnpCcEJtQjRvQWdBMkFnQU1CQXNnQWlBRFRTQUJJQU5MY2cwQ0lBQW9BZ3hCQ0hFTkFpQUFJQVFnQldvMkFnUkJ5Qm9nQTBGNElBTnJRUWR4SWdCcUlnRTJBZ0JCdkJwQnZCb29BZ0FnQkdvaUFpQUFheUlBTmdJQUlBRWdBRUVCY2pZQ0JDQUNJQU5xUVNnMkFnUkJ6QnBCbUI0b0FnQTJBZ0FNQXd0QkFDRUFEQVlMUVFBaEFBd0VDMEhBR2lnQ0FDQUNTd1JBUWNBYUlBSTJBZ0FMSUFJZ0JHb2hBVUh3SFNFQUFrQURRQ0FCSUFBb0FnQkhCRUFnQUNnQ0NDSUFEUUVNQWdzTElBQXRBQXhCQ0hGRkRRTUxRZkFkSVFBRFFBSkFJQU1nQUNnQ0FDSUJUd1JBSUFFZ0FDZ0NCR29pQlNBRFN3MEJDeUFBS0FJSUlRQU1BUXNMUWJ3YUlBUkJLR3NpQUVGNElBSnJRUWR4SWdGcklnYzJBZ0JCeUJvZ0FTQUNhaUlCTmdJQUlBRWdCMEVCY2pZQ0JDQUFJQUpxUVNnMkFnUkJ6QnBCbUI0b0FnQTJBZ0FnQXlBRlFTY2dCV3RCQjNGcVFTOXJJZ0FnQUNBRFFSQnFTUnNpQVVFYk5nSUVJQUZCK0IwcEFnQTNBaEFnQVVId0hTa0NBRGNDQ0VINEhTQUJRUWhxTmdJQVFmUWRJQVEyQWdCQjhCMGdBallDQUVIOEhVRUFOZ0lBSUFGQkdHb2hBQU5BSUFCQkJ6WUNCQ0FBUVFocUlRd2dBRUVFYWlFQUlBd2dCVWtOQUFzZ0FTQURSZzBBSUFFZ0FTZ0NCRUYrY1RZQ0JDQURJQUVnQTJzaUFrRUJjallDQkNBQklBSTJBZ0FDZnlBQ1FmOEJUUVJBSUFKQmVIRkIyQnBxSVFBQ2YwR3dHaWdDQUNJQlFRRWdBa0VEZG5RaUFuRkZCRUJCc0JvZ0FTQUNjallDQUNBQURBRUxJQUFvQWdnTElRRWdBQ0FETmdJSUlBRWdBellDREVFTUlRSkJDQXdCQzBFZklRQWdBa0gvLy84SFRRUkFJQUpCSmlBQ1FRaDJaeUlBYTNaQkFYRWdBRUVCZEd0QlBtb2hBQXNnQXlBQU5nSWNJQU5DQURjQ0VDQUFRUUowUWVBY2FpRUJBa0FDUUVHMEdpZ0NBQ0lGUVFFZ0FIUWlCSEZGQkVCQnRCb2dCQ0FGY2pZQ0FDQUJJQU0yQWdBTUFRc2dBa0VaSUFCQkFYWnJRUUFnQUVFZlJ4dDBJUUFnQVNnQ0FDRUZBMEFnQlNJQktBSUVRWGh4SUFKR0RRSWdBRUVkZGlFRklBQkJBWFFoQUNBQklBVkJCSEZxSWdRb0FoQWlCUTBBQ3lBRUlBTTJBaEFMSUFNZ0FUWUNHRUVJSVFJZ0F5SUJJUUJCREF3QkN5QUJLQUlJSWdBZ0F6WUNEQ0FCSUFNMkFnZ2dBeUFBTmdJSVFRQWhBRUVZSVFKQkRBc2dBMm9nQVRZQ0FDQUNJQU5xSUFBMkFnQUxRYndhS0FJQUlnQWdCazBOQUVHOEdpQUFJQVpySWdFMkFnQkJ5QnBCeUJvb0FnQWlBQ0FHYWlJQ05nSUFJQUlnQVVFQmNqWUNCQ0FBSUFaQkEzSTJBZ1FnQUVFSWFpRUFEQVFMUWF3YVFUQTJBZ0JCQUNFQURBTUxJQUFnQWpZQ0FDQUFJQUFvQWdRZ0JHbzJBZ1FnQWtGNElBSnJRUWR4YWlJSUlBWkJBM0kyQWdRZ0FVRjRJQUZyUVFkeGFpSUVJQVlnQ0dvaUEyc2hCd0pBUWNnYUtBSUFJQVJHQkVCQnlCb2dBellDQUVHOEdrRzhHaWdDQUNBSGFpSUFOZ0lBSUFNZ0FFRUJjallDQkF3QkMwSEVHaWdDQUNBRVJnUkFRY1FhSUFNMkFnQkJ1QnBCdUJvb0FnQWdCMm9pQURZQ0FDQURJQUJCQVhJMkFnUWdBQ0FEYWlBQU5nSUFEQUVMSUFRb0FnUWlBRUVEY1VFQlJnUkFJQUJCZUhFaENTQUVLQUlNSVFJQ1FDQUFRZjhCVFFSQUlBUW9BZ2dpQVNBQ1JnUkFRYkFhUWJBYUtBSUFRWDRnQUVFRGRuZHhOZ0lBREFJTElBRWdBallDRENBQ0lBRTJBZ2dNQVFzZ0JDZ0NHQ0VHQWtBZ0FpQUVSd1JBUWNBYUtBSUFHaUFFS0FJSUlnQWdBallDRENBQ0lBQTJBZ2dNQVFzQ1FDQUVLQUlVSWdBRWZ5QUVRUlJxQlNBRUtBSVFJZ0JGRFFFZ0JFRVFhZ3NoQVFOQUlBRWhCU0FBSWdKQkZHb2hBU0FBS0FJVUlnQU5BQ0FDUVJCcUlRRWdBaWdDRUNJQURRQUxJQVZCQURZQ0FBd0JDMEVBSVFJTElBWkZEUUFDUUNBRUtBSWNJZ0JCQW5SQjRCeHFJZ0VvQWdBZ0JFWUVRQ0FCSUFJMkFnQWdBZzBCUWJRYVFiUWFLQUlBUVg0Z0FIZHhOZ0lBREFJTElBWkJFRUVVSUFZb0FoQWdCRVliYWlBQ05nSUFJQUpGRFFFTElBSWdCallDR0NBRUtBSVFJZ0FFUUNBQ0lBQTJBaEFnQUNBQ05nSVlDeUFFS0FJVUlnQkZEUUFnQWlBQU5nSVVJQUFnQWpZQ0dBc2dCeUFKYWlFSElBUWdDV29pQkNnQ0JDRUFDeUFFSUFCQmZuRTJBZ1FnQXlBSFFRRnlOZ0lFSUFNZ0Iyb2dCellDQUNBSFFmOEJUUVJBSUFkQmVIRkIyQnBxSVFBQ2YwR3dHaWdDQUNJQlFRRWdCMEVEZG5RaUFuRkZCRUJCc0JvZ0FTQUNjallDQUNBQURBRUxJQUFvQWdnTElRRWdBQ0FETmdJSUlBRWdBellDRENBRElBQTJBZ3dnQXlBQk5nSUlEQUVMUVI4aEFpQUhRZi8vL3dkTkJFQWdCMEVtSUFkQkNIWm5JZ0JyZGtFQmNTQUFRUUYwYTBFK2FpRUNDeUFESUFJMkFod2dBMElBTndJUUlBSkJBblJCNEJ4cUlRQUNRQUpBUWJRYUtBSUFJZ0ZCQVNBQ2RDSUZjVVVFUUVHMEdpQUJJQVZ5TmdJQUlBQWdBellDQUF3QkN5QUhRUmtnQWtFQmRtdEJBQ0FDUVI5SEczUWhBaUFBS0FJQUlRRURRQ0FCSWdBb0FnUkJlSEVnQjBZTkFpQUNRUjEySVFFZ0FrRUJkQ0VDSUFBZ0FVRUVjV29pQlNnQ0VDSUJEUUFMSUFVZ0F6WUNFQXNnQXlBQU5nSVlJQU1nQXpZQ0RDQURJQU0yQWdnTUFRc2dBQ2dDQ0NJQklBTTJBZ3dnQUNBRE5nSUlJQU5CQURZQ0dDQURJQUEyQWd3Z0F5QUJOZ0lJQ3lBSVFRaHFJUUFNQWdzQ1FDQUlSUTBBQWtBZ0JTZ0NIQ0lCUVFKMFFlQWNhaUlDS0FJQUlBVkdCRUFnQWlBQU5nSUFJQUFOQVVHMEdpQUhRWDRnQVhkeElnYzJBZ0FNQWdzZ0NFRVFRUlFnQ0NnQ0VDQUZSaHRxSUFBMkFnQWdBRVVOQVFzZ0FDQUlOZ0lZSUFVb0FoQWlBUVJBSUFBZ0FUWUNFQ0FCSUFBMkFoZ0xJQVVvQWhRaUFVVU5BQ0FBSUFFMkFoUWdBU0FBTmdJWUN3SkFJQU5CRDAwRVFDQUZJQU1nQm1vaUFFRURjallDQkNBQUlBVnFJZ0FnQUNnQ0JFRUJjallDQkF3QkN5QUZJQVpCQTNJMkFnUWdCU0FHYWlJRUlBTkJBWEkyQWdRZ0F5QUVhaUFETmdJQUlBTkIvd0ZOQkVBZ0EwRjRjVUhZR21vaEFBSi9RYkFhS0FJQUlnRkJBU0FEUVFOMmRDSUNjVVVFUUVHd0dpQUJJQUp5TmdJQUlBQU1BUXNnQUNnQ0NBc2hBU0FBSUFRMkFnZ2dBU0FFTmdJTUlBUWdBRFlDRENBRUlBRTJBZ2dNQVF0Qkh5RUFJQU5CLy8vL0IwMEVRQ0FEUVNZZ0EwRUlkbWNpQUd0MlFRRnhJQUJCQVhSclFUNXFJUUFMSUFRZ0FEWUNIQ0FFUWdBM0FoQWdBRUVDZEVIZ0hHb2hBUUpBQWtBZ0IwRUJJQUIwSWdKeFJRUkFRYlFhSUFJZ0IzSTJBZ0FnQVNBRU5nSUFJQVFnQVRZQ0dBd0JDeUFEUVJrZ0FFRUJkbXRCQUNBQVFSOUhHM1FoQUNBQktBSUFJUUVEUUNBQklnSW9BZ1JCZUhFZ0EwWU5BaUFBUVIxMklRRWdBRUVCZENFQUlBSWdBVUVFY1dvaUJ5Z0NFQ0lCRFFBTElBY2dCRFlDRUNBRUlBSTJBaGdMSUFRZ0JEWUNEQ0FFSUFRMkFnZ01BUXNnQWlnQ0NDSUFJQVEyQWd3Z0FpQUVOZ0lJSUFSQkFEWUNHQ0FFSUFJMkFnd2dCQ0FBTmdJSUN5QUZRUWhxSVFBTUFRc0NRQ0FKUlEwQUFrQWdBaWdDSENJQlFRSjBRZUFjYWlJRktBSUFJQUpHQkVBZ0JTQUFOZ0lBSUFBTkFVRzBHaUFMUVg0Z0FYZHhOZ0lBREFJTElBbEJFRUVVSUFrb0FoQWdBa1liYWlBQU5nSUFJQUJGRFFFTElBQWdDVFlDR0NBQ0tBSVFJZ0VFUUNBQUlBRTJBaEFnQVNBQU5nSVlDeUFDS0FJVUlnRkZEUUFnQUNBQk5nSVVJQUVnQURZQ0dBc0NRQ0FEUVE5TkJFQWdBaUFESUFacUlnQkJBM0kyQWdRZ0FDQUNhaUlBSUFBb0FnUkJBWEkyQWdRTUFRc2dBaUFHUVFOeU5nSUVJQUlnQm1vaUJTQURRUUZ5TmdJRUlBTWdCV29nQXpZQ0FDQUlCRUFnQ0VGNGNVSFlHbW9oQUVIRUdpZ0NBQ0VCQW45QkFTQUlRUU4yZENJSElBUnhSUVJBUWJBYUlBUWdCM0kyQWdBZ0FBd0JDeUFBS0FJSUN5RUVJQUFnQVRZQ0NDQUVJQUUyQWd3Z0FTQUFOZ0lNSUFFZ0JEWUNDQXRCeEJvZ0JUWUNBRUc0R2lBRE5nSUFDeUFDUVFocUlRQUxJQXBCRUdva0FDQUFDeG9BSUFBZ0FTZ0NDQ0FGRUFvRVFDQUJJQUlnQXlBRUVCTUxDemNBSUFBZ0FTZ0NDQ0FGRUFvRVFDQUJJQUlnQXlBRUVCTVBDeUFBS0FJSUlnQWdBU0FDSUFNZ0JDQUZJQUFvQWdBb0FoUVJBd0FMa1FFQUlBQWdBU2dDQ0NBRUVBb0VRQ0FCSUFJZ0F4QVNEd3NDUUNBQUlBRW9BZ0FnQkJBS1JRMEFBa0FnQWlBQktBSVFSd1JBSUFFb0FoUWdBa2NOQVFzZ0EwRUJSdzBCSUFGQkFUWUNJQThMSUFFZ0FqWUNGQ0FCSUFNMkFpQWdBU0FCS0FJb1FRRnFOZ0lvQWtBZ0FTZ0NKRUVCUncwQUlBRW9BaGhCQWtjTkFDQUJRUUU2QURZTElBRkJCRFlDTEFzTDlRRUFJQUFnQVNnQ0NDQUVFQW9FUUNBQklBSWdBeEFTRHdzQ1FDQUFJQUVvQWdBZ0JCQUtCRUFDUUNBQ0lBRW9BaEJIQkVBZ0FTZ0NGQ0FDUncwQkN5QURRUUZIRFFJZ0FVRUJOZ0lnRHdzZ0FTQUROZ0lnQWtBZ0FTZ0NMRUVFUmcwQUlBRkJBRHNCTkNBQUtBSUlJZ0FnQVNBQ0lBSkJBU0FFSUFBb0FnQW9BaFFSQXdBZ0FTMEFOVUVCUmdSQUlBRkJBellDTENBQkxRQTBSUTBCREFNTElBRkJCRFlDTEFzZ0FTQUNOZ0lVSUFFZ0FTZ0NLRUVCYWpZQ0tDQUJLQUlrUVFGSERRRWdBU2dDR0VFQ1J3MEJJQUZCQVRvQU5nOExJQUFvQWdnaUFDQUJJQUlnQXlBRUlBQW9BZ0FvQWhnUkFnQUxDekVBSUFBZ0FTZ0NDRUVBRUFvRVFDQUJJQUlnQXhBVUR3c2dBQ2dDQ0NJQUlBRWdBaUFESUFBb0FnQW9BaHdSQUFBTEdBQWdBQ0FCS0FJSVFRQVFDZ1JBSUFFZ0FpQURFQlFMQytJREFRVi9Jd0JCRUdzaUF5UUFJQU1nQUNnQ0FDSUVRUWhyS0FJQUlnSTJBZ3dnQXlBQUlBSnFOZ0lFSUFNZ0JFRUVheWdDQURZQ0NDQURLQUlJSWdRZ0FVRUFFQW9oQWlBREtBSUVJUVVDUUNBQ0JFQWdBeWdDRENFQUl3QkJRR29pQVNRQUlBRkJRR3NrQUVFQUlBVWdBQnNoQWd3QkN5TUFRVUJxSWdJa0FDQUFJQVZPQkVBZ0FrSUFOd0ljSUFKQ0FEY0NKQ0FDUWdBM0Fpd2dBa0lBTndJVUlBSkJBRFlDRUNBQ0lBRTJBZ3dnQWlBRU5nSUVJQUpCQURZQ1BDQUNRb0dBZ0lDQWdJQ0FBVGNDTkNBQ0lBQTJBZ2dnQkNBQ1FRUnFJQVVnQlVFQlFRQWdCQ2dDQUNnQ0ZCRURBQ0FBUVFBZ0FpZ0NIQnNoQmdzZ0FrRkFheVFBSUFZaUFnMEFJd0JCUUdvaUFpUUFJQUpCQURZQ0VDQUNRYndJTmdJTUlBSWdBRFlDQ0NBQ0lBRTJBZ1JCQUNFQUlBSkJGR3BCSnhBTUdpQUNRUUEyQWp3Z0FrRUJPZ0E3SUFRZ0FrRUVhaUFGUVFGQkFDQUVLQUlBS0FJWUVRSUFBa0FDUUFKQUlBSW9BaWdPQWdBQkFnc2dBaWdDR0VFQUlBSW9BaVJCQVVZYlFRQWdBaWdDSUVFQlJodEJBQ0FDS0FJc1FRRkdHeUVBREFFTElBSW9BaHhCQVVjRVFDQUNLQUlzRFFFZ0FpZ0NJRUVCUncwQklBSW9BaVJCQVVjTkFRc2dBaWdDRkNFQUN5QUNRVUJySkFBZ0FDRUNDeUFEUVJCcUpBQWdBZ3VoQVFFQ2Z5TUFRVUJxSWdNa0FBSi9RUUVnQUNBQlFRQVFDZzBBR2tFQUlBRkZEUUFhUVFBZ0FVSHNDQkFlSWdGRkRRQWFJQU5CQ0dwQk9CQU1HaUFEUVFFNkFEc2dBMEYvTmdJUUlBTWdBRFlDRENBRElBRTJBZ1FnQTBFQk5nSTBJQUVnQTBFRWFpQUNLQUlBUVFFZ0FTZ0NBQ2dDSEJFQUFDQURLQUljSWdCQkFVWUVRQ0FDSUFNb0FoUTJBZ0FMSUFCQkFVWUxJUVFnQTBGQWF5UUFJQVFMQ2dBZ0FDQUJRUUFRQ2d2NkJBSUdmd3A5UWYvLy8vOEhJUXhCZ0lDQWdIZ2hEVUYvSVFvRFFDQURJQXRHQkVCQkFDRUpJQWhCZ0lBUUVBd2hBRU1BLzM5SElBMGdER3V5bFNFUUEwQWdBeUFKUmdSQVFRQWhDU0FIUVFBMkFnQWdBRUVFYXlFQVFRQWhERUVCSVFzRFFDQUxRWUNBQkVaRkJFQWdCeUFMUVFKMElnRnFJQUFnQVdvb0FnQWdER29pRERZQ0FDQUxRUUZxSVFzTUFRc0xBMEFnQXlBSlJrVUVRQ0FISUFVZ0NVRUNkR29vQWdCQkFuUnFJZ0FnQUNnQ0FDSUFRUUZxTmdJQUlBWWdBRUVDZEdvZ0NUWUNBQ0FKUVFGcUlRa01BUXNMQlFKL0lCQWdCU0FKUVFKMGFpSUJLQUlBSUF4cnM1UWlEME1BQUlCUFhTQVBRd0FBQUFCZ2NRUkFJQStwREFFTFFRQUxJUXNnQVNBTE5nSUFJQUFnQzBFQ2RHb2lBU0FCS0FJQVFRRnFOZ0lBSUFsQkFXb2hDUXdCQ3dzRklBUWdDMEVNYkdvaUNTb0NBQ0VUSUFrcUFnZ2hGQ0FKS2dJRUlSVWdDaUFDSUF0QkFuUWlEbW9vQWdBaUNVY0VRQ0FCSUFsQjBBQnNhaUlLS2dJOElBQXFBamdpRDVRZ0Npb0NPQ0FBS2dJb0loQ1VJQW9xQWpBZ0FDb0NDQ0lSbENBQUtnSVlJaElnQ2lvQ05KU1NrcEloRmlBS0tnSXNJQStVSUFvcUFpZ2dFSlFnQ2lvQ0lDQVJsQ0FTSUFvcUFpU1VrcEtTSVJjZ0Npb0NIQ0FQbENBS0tnSVlJQkNVSUFvcUFoQWdFWlFnRWlBS0tnSVVsSktTa2lFWUlBb3FBZ3dnRDVRZ0Npb0NDQ0FRbENBS0tnSUFJQkdVSUFvcUFnUWdFcFNTa3BJaER5QUpJUW9MSUFVZ0Rtb0NmeUFXSUJjZ0ZKUWdEeUFUbENBVklCaVVrcEtTUXdBQWdFV1VJaENMUXdBQUFFOWRCRUFnRUtnTUFRdEJnSUNBZ0hnTElnazJBZ0FnRENBSklBa2dERW9iSVF3Z0RTQUpJQWtnRFVnYklRMGdDMEVCYWlFTERBRUxDd3NMdHhJQ0FFR0FDQXVtRWxOME9YUjVjR1ZmYVc1bWJ3QUFBQURrQlFBQUFBUUFBRTR4TUY5ZlkzaDRZV0pwZGpFeE5sOWZjMmhwYlY5MGVYQmxYMmx1Wm05RkFBQUFBQXdHQUFBWUJBQUFFQVFBQUU0eE1GOWZZM2g0WVdKcGRqRXhOMTlmWTJ4aGMzTmZkSGx3WlY5cGJtWnZSUUFBQUF3R0FBQklCQUFBUEFRQUFFNHhNRjlmWTNoNFlXSnBkakV4TjE5ZmNHSmhjMlZmZEhsd1pWOXBibVp2UlFBQUFBd0dBQUI0QkFBQVBBUUFBRTR4TUY5ZlkzaDRZV0pwZGpFeE9WOWZjRzlwYm5SbGNsOTBlWEJsWDJsdVptOUZBQXdHQUFDb0JBQUFuQVFBQUFBQUFBQWNCUUFBQVFBQUFBSUFBQUFEQUFBQUJBQUFBQVVBQUFCT01UQmZYMk40ZUdGaWFYWXhNak5mWDJaMWJtUmhiV1Z1ZEdGc1gzUjVjR1ZmYVc1bWIwVUFEQVlBQVBRRUFBQThCQUFBZGdBQUFPQUVBQUFvQlFBQVlnQUFBT0FFQUFBMEJRQUFZd0FBQU9BRUFBQkFCUUFBYUFBQUFPQUVBQUJNQlFBQVlRQUFBT0FFQUFCWUJRQUFjd0FBQU9BRUFBQmtCUUFBZEFBQUFPQUVBQUJ3QlFBQWFRQUFBT0FFQUFCOEJRQUFhZ0FBQU9BRUFBQ0lCUUFBYkFBQUFPQUVBQUNVQlFBQWJRQUFBT0FFQUFDZ0JRQUFlQUFBQU9BRUFBQ3NCUUFBZVFBQUFPQUVBQUM0QlFBQVpnQUFBT0FFQUFERUJRQUFaQUFBQU9BRUFBRFFCUUFBQUFBQUFHd0VBQUFCQUFBQUJnQUFBQU1BQUFBRUFBQUFCd0FBQUFnQUFBQUpBQUFBQ2dBQUFBQUFBQUJVQmdBQUFRQUFBQXNBQUFBREFBQUFCQUFBQUFjQUFBQU1BQUFBRFFBQUFBNEFBQUJPTVRCZlgyTjRlR0ZpYVhZeE1qQmZYM05wWDJOc1lYTnpYM1I1Y0dWZmFXNW1iMFVBQUFBQURBWUFBQ3dHQUFCc0JBQUFkVzV6YVdkdVpXUWdjMmh2Y25RQWRXNXphV2R1WldRZ2FXNTBBR1pzYjJGMEFIVnBiblEyTkY5MEFIVnVjMmxuYm1Wa0lHTm9ZWElBWW05dmJBQjFibk5wWjI1bFpDQnNiMjVuQUhOMFpEbzZkM04wY21sdVp3QnpkR1E2T25OMGNtbHVad0J6ZEdRNk9uVXhObk4wY21sdVp3QnpkR1E2T25Vek1uTjBjbWx1WndCa2IzVmliR1VBZG05cFpBQmxiWE5qY21sd2RHVnVPanB0WlcxdmNubGZkbWxsZHp4emFHOXlkRDRBWlcxelkzSnBjSFJsYmpvNmJXVnRiM0o1WDNacFpYYzhkVzV6YVdkdVpXUWdjMmh2Y25RK0FHVnRjMk55YVhCMFpXNDZPbTFsYlc5eWVWOTJhV1YzUEdsdWRENEFaVzF6WTNKcGNIUmxiam82YldWdGIzSjVYM1pwWlhjOGRXNXphV2R1WldRZ2FXNTBQZ0JsYlhOamNtbHdkR1Z1T2pwdFpXMXZjbmxmZG1sbGR6eG1iRzloZEQ0QVpXMXpZM0pwY0hSbGJqbzZiV1Z0YjNKNVgzWnBaWGM4ZFdsdWREaGZkRDRBWlcxelkzSnBjSFJsYmpvNmJXVnRiM0o1WDNacFpYYzhhVzUwT0Y5MFBnQmxiWE5qY21sd2RHVnVPanB0WlcxdmNubGZkbWxsZHp4MWFXNTBNVFpmZEQ0QVpXMXpZM0pwY0hSbGJqbzZiV1Z0YjNKNVgzWnBaWGM4YVc1ME1UWmZkRDRBWlcxelkzSnBjSFJsYmpvNmJXVnRiM0o1WDNacFpYYzhkV2x1ZERZMFgzUStBR1Z0YzJOeWFYQjBaVzQ2T20xbGJXOXllVjkyYVdWM1BHbHVkRFkwWDNRK0FHVnRjMk55YVhCMFpXNDZPbTFsYlc5eWVWOTJhV1YzUEhWcGJuUXpNbDkwUGdCbGJYTmpjbWx3ZEdWdU9qcHRaVzF2Y25sZmRtbGxkenhwYm5Rek1sOTBQZ0JsYlhOamNtbHdkR1Z1T2pwdFpXMXZjbmxmZG1sbGR6eGphR0Z5UGdCbGJYTmpjbWx3ZEdWdU9qcHRaVzF2Y25sZmRtbGxkengxYm5OcFoyNWxaQ0JqYUdGeVBnQnpkR1E2T21KaGMybGpYM04wY21sdVp6eDFibk5wWjI1bFpDQmphR0Z5UGdCbGJYTmpjbWx3ZEdWdU9qcHRaVzF2Y25sZmRtbGxkenh6YVdkdVpXUWdZMmhoY2o0QVpXMXpZM0pwY0hSbGJqbzZiV1Z0YjNKNVgzWnBaWGM4Ykc5dVp6NEFaVzF6WTNKcGNIUmxiam82YldWdGIzSjVYM1pwWlhjOGRXNXphV2R1WldRZ2JHOXVaejRBWlcxelkzSnBjSFJsYmpvNmJXVnRiM0o1WDNacFpYYzhaRzkxWW14bFBnQk9VM1F6WDE4eU1USmlZWE5wWTE5emRISnBibWRKWTA1VFh6RXhZMmhoY2w5MGNtRnBkSE5KWTBWRlRsTmZPV0ZzYkc5allYUnZja2xqUlVWRlJRQUFBQURrQlFBQWtna0FBRTVUZEROZlh6SXhNbUpoYzJsalgzTjBjbWx1WjBsb1RsTmZNVEZqYUdGeVgzUnlZV2wwYzBsb1JVVk9VMTg1WVd4c2IyTmhkRzl5U1doRlJVVkZBQURrQlFBQTNBa0FBRTVUZEROZlh6SXhNbUpoYzJsalgzTjBjbWx1WjBsM1RsTmZNVEZqYUdGeVgzUnlZV2wwYzBsM1JVVk9VMTg1WVd4c2IyTmhkRzl5U1hkRlJVVkZBQURrQlFBQUpBb0FBRTVUZEROZlh6SXhNbUpoYzJsalgzTjBjbWx1WjBsRWMwNVRYekV4WTJoaGNsOTBjbUZwZEhOSlJITkZSVTVUWHpsaGJHeHZZMkYwYjNKSlJITkZSVVZGQUFBQTVBVUFBR3dLQUFCT1UzUXpYMTh5TVRKaVlYTnBZMTl6ZEhKcGJtZEpSR2xPVTE4eE1XTm9ZWEpmZEhKaGFYUnpTVVJwUlVWT1UxODVZV3hzYjJOaGRHOXlTVVJwUlVWRlJRQUFBT1FGQUFDNENnQUFUakV3WlcxelkzSnBjSFJsYmpOMllXeEZBQURrQlFBQUJBc0FBRTR4TUdWdGMyTnlhWEIwWlc0eE1XMWxiVzl5ZVY5MmFXVjNTV05GUlFBQTVBVUFBQ0FMQUFCT01UQmxiWE5qY21sd2RHVnVNVEZ0WlcxdmNubGZkbWxsZDBsaFJVVUFBT1FGQUFCSUN3QUFUakV3WlcxelkzSnBjSFJsYmpFeGJXVnRiM0o1WDNacFpYZEphRVZGQUFEa0JRQUFjQXNBQUU0eE1HVnRjMk55YVhCMFpXNHhNVzFsYlc5eWVWOTJhV1YzU1hORlJRQUE1QVVBQUpnTEFBQk9NVEJsYlhOamNtbHdkR1Z1TVRGdFpXMXZjbmxmZG1sbGQwbDBSVVVBQU9RRkFBREFDd0FBVGpFd1pXMXpZM0pwY0hSbGJqRXhiV1Z0YjNKNVgzWnBaWGRKYVVWRkFBRGtCUUFBNkFzQUFFNHhNR1Z0YzJOeWFYQjBaVzR4TVcxbGJXOXllVjkyYVdWM1NXcEZSUUFBNUFVQUFCQU1BQUJPTVRCbGJYTmpjbWx3ZEdWdU1URnRaVzF2Y25sZmRtbGxkMGxzUlVVQUFPUUZBQUE0REFBQVRqRXdaVzF6WTNKcGNIUmxiakV4YldWdGIzSjVYM1pwWlhkSmJVVkZBQURrQlFBQVlBd0FBRTR4TUdWdGMyTnlhWEIwWlc0eE1XMWxiVzl5ZVY5MmFXVjNTWGhGUlFBQTVBVUFBSWdNQUFCT01UQmxiWE5qY21sd2RHVnVNVEZ0WlcxdmNubGZkbWxsZDBsNVJVVUFBT1FGQUFDd0RBQUFUakV3WlcxelkzSnBjSFJsYmpFeGJXVnRiM0o1WDNacFpYZEpaa1ZGQUFEa0JRQUEyQXdBQUU0eE1HVnRjMk55YVhCMFpXNHhNVzFsYlc5eWVWOTJhV1YzU1dSRlJRQUE1QVVBQUFBTkFFR29HZ3NETUE4QiI7ZnVuY3Rpb24gZ2V0QmluYXJ5U3luYyhmaWxlKXtpZihmaWxlPT13YXNtQmluYXJ5RmlsZSYmd2FzbUJpbmFyeSl7cmV0dXJuIG5ldyBVaW50OEFycmF5KHdhc21CaW5hcnkpfXZhciBiaW5hcnk9dHJ5UGFyc2VBc0RhdGFVUkkoZmlsZSk7aWYoYmluYXJ5KXtyZXR1cm4gYmluYXJ5fWlmKHJlYWRCaW5hcnkpe3JldHVybiByZWFkQmluYXJ5KGZpbGUpfXRocm93ICJib3RoIGFzeW5jIGFuZCBzeW5jIGZldGNoaW5nIG9mIHRoZSB3YXNtIGZhaWxlZCJ9ZnVuY3Rpb24gZ2V0QmluYXJ5UHJvbWlzZShiaW5hcnlGaWxlKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKT0+Z2V0QmluYXJ5U3luYyhiaW5hcnlGaWxlKSl9ZnVuY3Rpb24gaW5zdGFudGlhdGVBcnJheUJ1ZmZlcihiaW5hcnlGaWxlLGltcG9ydHMscmVjZWl2ZXIpe3JldHVybiBnZXRCaW5hcnlQcm9taXNlKGJpbmFyeUZpbGUpLnRoZW4oYmluYXJ5PT5XZWJBc3NlbWJseS5pbnN0YW50aWF0ZShiaW5hcnksaW1wb3J0cykpLnRoZW4ocmVjZWl2ZXIscmVhc29uPT57ZXJyKGBmYWlsZWQgdG8gYXN5bmNocm9ub3VzbHkgcHJlcGFyZSB3YXNtOiAke3JlYXNvbn1gKTthYm9ydChyZWFzb24pO30pfWZ1bmN0aW9uIGluc3RhbnRpYXRlQXN5bmMoYmluYXJ5LGJpbmFyeUZpbGUsaW1wb3J0cyxjYWxsYmFjayl7cmV0dXJuIGluc3RhbnRpYXRlQXJyYXlCdWZmZXIoYmluYXJ5RmlsZSxpbXBvcnRzLGNhbGxiYWNrKX1mdW5jdGlvbiBjcmVhdGVXYXNtKCl7dmFyIGluZm89eyJhIjp3YXNtSW1wb3J0c307ZnVuY3Rpb24gcmVjZWl2ZUluc3RhbmNlKGluc3RhbmNlLG1vZHVsZSl7d2FzbUV4cG9ydHM9aW5zdGFuY2UuZXhwb3J0czt3YXNtTWVtb3J5PXdhc21FeHBvcnRzWyJrIl07dXBkYXRlTWVtb3J5Vmlld3MoKTthZGRPbkluaXQod2FzbUV4cG9ydHNbImwiXSk7cmVtb3ZlUnVuRGVwZW5kZW5jeSgpO3JldHVybiB3YXNtRXhwb3J0c31hZGRSdW5EZXBlbmRlbmN5KCk7ZnVuY3Rpb24gcmVjZWl2ZUluc3RhbnRpYXRpb25SZXN1bHQocmVzdWx0KXtyZWNlaXZlSW5zdGFuY2UocmVzdWx0WyJpbnN0YW5jZSJdKTt9aWYoTW9kdWxlWyJpbnN0YW50aWF0ZVdhc20iXSl7dHJ5e3JldHVybiBNb2R1bGVbImluc3RhbnRpYXRlV2FzbSJdKGluZm8scmVjZWl2ZUluc3RhbmNlKX1jYXRjaChlKXtlcnIoYE1vZHVsZS5pbnN0YW50aWF0ZVdhc20gY2FsbGJhY2sgZmFpbGVkIHdpdGggZXJyb3I6ICR7ZX1gKTtyZWFkeVByb21pc2VSZWplY3QoZSk7fX1pbnN0YW50aWF0ZUFzeW5jKHdhc21CaW5hcnksd2FzbUJpbmFyeUZpbGUsaW5mbyxyZWNlaXZlSW5zdGFudGlhdGlvblJlc3VsdCkuY2F0Y2gocmVhZHlQcm9taXNlUmVqZWN0KTtyZXR1cm4ge319dmFyIGNhbGxSdW50aW1lQ2FsbGJhY2tzPWNhbGxiYWNrcz0+e3doaWxlKGNhbGxiYWNrcy5sZW5ndGg+MCl7Y2FsbGJhY2tzLnNoaWZ0KCkoTW9kdWxlKTt9fTtNb2R1bGVbIm5vRXhpdFJ1bnRpbWUiXXx8dHJ1ZTt2YXIgX19lbWJpbmRfcmVnaXN0ZXJfYmlnaW50PShwcmltaXRpdmVUeXBlLG5hbWUsc2l6ZSxtaW5SYW5nZSxtYXhSYW5nZSk9Pnt9O3ZhciBlbWJpbmRfaW5pdF9jaGFyQ29kZXM9KCk9Pnt2YXIgY29kZXM9bmV3IEFycmF5KDI1Nik7Zm9yKHZhciBpPTA7aTwyNTY7KytpKXtjb2Rlc1tpXT1TdHJpbmcuZnJvbUNoYXJDb2RlKGkpO31lbWJpbmRfY2hhckNvZGVzPWNvZGVzO307dmFyIGVtYmluZF9jaGFyQ29kZXM7dmFyIHJlYWRMYXRpbjFTdHJpbmc9cHRyPT57dmFyIHJldD0iIjt2YXIgYz1wdHI7d2hpbGUoSEVBUFU4W2NdKXtyZXQrPWVtYmluZF9jaGFyQ29kZXNbSEVBUFU4W2MrK11dO31yZXR1cm4gcmV0fTt2YXIgYXdhaXRpbmdEZXBlbmRlbmNpZXM9e307dmFyIHJlZ2lzdGVyZWRUeXBlcz17fTt2YXIgQmluZGluZ0Vycm9yO3ZhciB0aHJvd0JpbmRpbmdFcnJvcj1tZXNzYWdlPT57dGhyb3cgbmV3IEJpbmRpbmdFcnJvcihtZXNzYWdlKX07ZnVuY3Rpb24gc2hhcmVkUmVnaXN0ZXJUeXBlKHJhd1R5cGUscmVnaXN0ZXJlZEluc3RhbmNlLG9wdGlvbnM9e30pe3ZhciBuYW1lPXJlZ2lzdGVyZWRJbnN0YW5jZS5uYW1lO2lmKCFyYXdUeXBlKXt0aHJvd0JpbmRpbmdFcnJvcihgdHlwZSAiJHtuYW1lfSIgbXVzdCBoYXZlIGEgcG9zaXRpdmUgaW50ZWdlciB0eXBlaWQgcG9pbnRlcmApO31pZihyZWdpc3RlcmVkVHlwZXMuaGFzT3duUHJvcGVydHkocmF3VHlwZSkpe2lmKG9wdGlvbnMuaWdub3JlRHVwbGljYXRlUmVnaXN0cmF0aW9ucyl7cmV0dXJufWVsc2Uge3Rocm93QmluZGluZ0Vycm9yKGBDYW5ub3QgcmVnaXN0ZXIgdHlwZSAnJHtuYW1lfScgdHdpY2VgKTt9fXJlZ2lzdGVyZWRUeXBlc1tyYXdUeXBlXT1yZWdpc3RlcmVkSW5zdGFuY2U7aWYoYXdhaXRpbmdEZXBlbmRlbmNpZXMuaGFzT3duUHJvcGVydHkocmF3VHlwZSkpe3ZhciBjYWxsYmFja3M9YXdhaXRpbmdEZXBlbmRlbmNpZXNbcmF3VHlwZV07ZGVsZXRlIGF3YWl0aW5nRGVwZW5kZW5jaWVzW3Jhd1R5cGVdO2NhbGxiYWNrcy5mb3JFYWNoKGNiPT5jYigpKTt9fWZ1bmN0aW9uIHJlZ2lzdGVyVHlwZShyYXdUeXBlLHJlZ2lzdGVyZWRJbnN0YW5jZSxvcHRpb25zPXt9KXtpZighKCJhcmdQYWNrQWR2YW5jZSJpbiByZWdpc3RlcmVkSW5zdGFuY2UpKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJyZWdpc3RlclR5cGUgcmVnaXN0ZXJlZEluc3RhbmNlIHJlcXVpcmVzIGFyZ1BhY2tBZHZhbmNlIil9cmV0dXJuIHNoYXJlZFJlZ2lzdGVyVHlwZShyYXdUeXBlLHJlZ2lzdGVyZWRJbnN0YW5jZSxvcHRpb25zKX12YXIgR2VuZXJpY1dpcmVUeXBlU2l6ZT04O3ZhciBfX2VtYmluZF9yZWdpc3Rlcl9ib29sPShyYXdUeXBlLG5hbWUsdHJ1ZVZhbHVlLGZhbHNlVmFsdWUpPT57bmFtZT1yZWFkTGF0aW4xU3RyaW5nKG5hbWUpO3JlZ2lzdGVyVHlwZShyYXdUeXBlLHtuYW1lOm5hbWUsImZyb21XaXJlVHlwZSI6ZnVuY3Rpb24od3Qpe3JldHVybiAhIXd0fSwidG9XaXJlVHlwZSI6ZnVuY3Rpb24oZGVzdHJ1Y3RvcnMsbyl7cmV0dXJuIG8/dHJ1ZVZhbHVlOmZhbHNlVmFsdWV9LCJhcmdQYWNrQWR2YW5jZSI6R2VuZXJpY1dpcmVUeXBlU2l6ZSwicmVhZFZhbHVlRnJvbVBvaW50ZXIiOmZ1bmN0aW9uKHBvaW50ZXIpe3JldHVybiB0aGlzWyJmcm9tV2lyZVR5cGUiXShIRUFQVThbcG9pbnRlcl0pfSxkZXN0cnVjdG9yRnVuY3Rpb246bnVsbH0pO307dmFyIGVtdmFsX2ZyZWVsaXN0PVtdO3ZhciBlbXZhbF9oYW5kbGVzPVtdO3ZhciBfX2VtdmFsX2RlY3JlZj1oYW5kbGU9PntpZihoYW5kbGU+OSYmMD09PS0tZW12YWxfaGFuZGxlc1toYW5kbGUrMV0pe2VtdmFsX2hhbmRsZXNbaGFuZGxlXT11bmRlZmluZWQ7ZW12YWxfZnJlZWxpc3QucHVzaChoYW5kbGUpO319O3ZhciBjb3VudF9lbXZhbF9oYW5kbGVzPSgpPT5lbXZhbF9oYW5kbGVzLmxlbmd0aC8yLTUtZW12YWxfZnJlZWxpc3QubGVuZ3RoO3ZhciBpbml0X2VtdmFsPSgpPT57ZW12YWxfaGFuZGxlcy5wdXNoKDAsMSx1bmRlZmluZWQsMSxudWxsLDEsdHJ1ZSwxLGZhbHNlLDEpO01vZHVsZVsiY291bnRfZW12YWxfaGFuZGxlcyJdPWNvdW50X2VtdmFsX2hhbmRsZXM7fTt2YXIgRW12YWw9e3RvVmFsdWU6aGFuZGxlPT57aWYoIWhhbmRsZSl7dGhyb3dCaW5kaW5nRXJyb3IoIkNhbm5vdCB1c2UgZGVsZXRlZCB2YWwuIGhhbmRsZSA9ICIraGFuZGxlKTt9cmV0dXJuIGVtdmFsX2hhbmRsZXNbaGFuZGxlXX0sdG9IYW5kbGU6dmFsdWU9Pntzd2l0Y2godmFsdWUpe2Nhc2UgdW5kZWZpbmVkOnJldHVybiAyO2Nhc2UgbnVsbDpyZXR1cm4gNDtjYXNlIHRydWU6cmV0dXJuIDY7Y2FzZSBmYWxzZTpyZXR1cm4gODtkZWZhdWx0Ontjb25zdCBoYW5kbGU9ZW12YWxfZnJlZWxpc3QucG9wKCl8fGVtdmFsX2hhbmRsZXMubGVuZ3RoO2VtdmFsX2hhbmRsZXNbaGFuZGxlXT12YWx1ZTtlbXZhbF9oYW5kbGVzW2hhbmRsZSsxXT0xO3JldHVybiBoYW5kbGV9fX19O2Z1bmN0aW9uIHJlYWRQb2ludGVyKHBvaW50ZXIpe3JldHVybiB0aGlzWyJmcm9tV2lyZVR5cGUiXShIRUFQVTMyW3BvaW50ZXI+PjJdKX12YXIgRW1WYWxUeXBlPXtuYW1lOiJlbXNjcmlwdGVuOjp2YWwiLCJmcm9tV2lyZVR5cGUiOmhhbmRsZT0+e3ZhciBydj1FbXZhbC50b1ZhbHVlKGhhbmRsZSk7X19lbXZhbF9kZWNyZWYoaGFuZGxlKTtyZXR1cm4gcnZ9LCJ0b1dpcmVUeXBlIjooZGVzdHJ1Y3RvcnMsdmFsdWUpPT5FbXZhbC50b0hhbmRsZSh2YWx1ZSksImFyZ1BhY2tBZHZhbmNlIjpHZW5lcmljV2lyZVR5cGVTaXplLCJyZWFkVmFsdWVGcm9tUG9pbnRlciI6cmVhZFBvaW50ZXIsZGVzdHJ1Y3RvckZ1bmN0aW9uOm51bGx9O3ZhciBfX2VtYmluZF9yZWdpc3Rlcl9lbXZhbD1yYXdUeXBlPT5yZWdpc3RlclR5cGUocmF3VHlwZSxFbVZhbFR5cGUpO3ZhciBmbG9hdFJlYWRWYWx1ZUZyb21Qb2ludGVyPShuYW1lLHdpZHRoKT0+e3N3aXRjaCh3aWR0aCl7Y2FzZSA0OnJldHVybiBmdW5jdGlvbihwb2ludGVyKXtyZXR1cm4gdGhpc1siZnJvbVdpcmVUeXBlIl0oSEVBUEYzMltwb2ludGVyPj4yXSl9O2Nhc2UgODpyZXR1cm4gZnVuY3Rpb24ocG9pbnRlcil7cmV0dXJuIHRoaXNbImZyb21XaXJlVHlwZSJdKEhFQVBGNjRbcG9pbnRlcj4+M10pfTtkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoYGludmFsaWQgZmxvYXQgd2lkdGggKCR7d2lkdGh9KTogJHtuYW1lfWApfX07dmFyIF9fZW1iaW5kX3JlZ2lzdGVyX2Zsb2F0PShyYXdUeXBlLG5hbWUsc2l6ZSk9PntuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7cmVnaXN0ZXJUeXBlKHJhd1R5cGUse25hbWU6bmFtZSwiZnJvbVdpcmVUeXBlIjp2YWx1ZT0+dmFsdWUsInRvV2lyZVR5cGUiOihkZXN0cnVjdG9ycyx2YWx1ZSk9PnZhbHVlLCJhcmdQYWNrQWR2YW5jZSI6R2VuZXJpY1dpcmVUeXBlU2l6ZSwicmVhZFZhbHVlRnJvbVBvaW50ZXIiOmZsb2F0UmVhZFZhbHVlRnJvbVBvaW50ZXIobmFtZSxzaXplKSxkZXN0cnVjdG9yRnVuY3Rpb246bnVsbH0pO307dmFyIGludGVnZXJSZWFkVmFsdWVGcm9tUG9pbnRlcj0obmFtZSx3aWR0aCxzaWduZWQpPT57c3dpdGNoKHdpZHRoKXtjYXNlIDE6cmV0dXJuIHNpZ25lZD9wb2ludGVyPT5IRUFQOFtwb2ludGVyXTpwb2ludGVyPT5IRUFQVThbcG9pbnRlcl07Y2FzZSAyOnJldHVybiBzaWduZWQ/cG9pbnRlcj0+SEVBUDE2W3BvaW50ZXI+PjFdOnBvaW50ZXI9PkhFQVBVMTZbcG9pbnRlcj4+MV07Y2FzZSA0OnJldHVybiBzaWduZWQ/cG9pbnRlcj0+SEVBUDMyW3BvaW50ZXI+PjJdOnBvaW50ZXI9PkhFQVBVMzJbcG9pbnRlcj4+Ml07ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKGBpbnZhbGlkIGludGVnZXIgd2lkdGggKCR7d2lkdGh9KTogJHtuYW1lfWApfX07dmFyIF9fZW1iaW5kX3JlZ2lzdGVyX2ludGVnZXI9KHByaW1pdGl2ZVR5cGUsbmFtZSxzaXplLG1pblJhbmdlLG1heFJhbmdlKT0+e25hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTt2YXIgZnJvbVdpcmVUeXBlPXZhbHVlPT52YWx1ZTtpZihtaW5SYW5nZT09PTApe3ZhciBiaXRzaGlmdD0zMi04KnNpemU7ZnJvbVdpcmVUeXBlPXZhbHVlPT52YWx1ZTw8Yml0c2hpZnQ+Pj5iaXRzaGlmdDt9dmFyIGlzVW5zaWduZWRUeXBlPW5hbWUuaW5jbHVkZXMoInVuc2lnbmVkIik7dmFyIGNoZWNrQXNzZXJ0aW9ucz0odmFsdWUsdG9UeXBlTmFtZSk9Pnt9O3ZhciB0b1dpcmVUeXBlO2lmKGlzVW5zaWduZWRUeXBlKXt0b1dpcmVUeXBlPWZ1bmN0aW9uKGRlc3RydWN0b3JzLHZhbHVlKXtjaGVja0Fzc2VydGlvbnModmFsdWUsdGhpcy5uYW1lKTtyZXR1cm4gdmFsdWU+Pj4wfTt9ZWxzZSB7dG9XaXJlVHlwZT1mdW5jdGlvbihkZXN0cnVjdG9ycyx2YWx1ZSl7Y2hlY2tBc3NlcnRpb25zKHZhbHVlLHRoaXMubmFtZSk7cmV0dXJuIHZhbHVlfTt9cmVnaXN0ZXJUeXBlKHByaW1pdGl2ZVR5cGUse25hbWU6bmFtZSwiZnJvbVdpcmVUeXBlIjpmcm9tV2lyZVR5cGUsInRvV2lyZVR5cGUiOnRvV2lyZVR5cGUsImFyZ1BhY2tBZHZhbmNlIjpHZW5lcmljV2lyZVR5cGVTaXplLCJyZWFkVmFsdWVGcm9tUG9pbnRlciI6aW50ZWdlclJlYWRWYWx1ZUZyb21Qb2ludGVyKG5hbWUsc2l6ZSxtaW5SYW5nZSE9PTApLGRlc3RydWN0b3JGdW5jdGlvbjpudWxsfSk7fTt2YXIgX19lbWJpbmRfcmVnaXN0ZXJfbWVtb3J5X3ZpZXc9KHJhd1R5cGUsZGF0YVR5cGVJbmRleCxuYW1lKT0+e3ZhciB0eXBlTWFwcGluZz1bSW50OEFycmF5LFVpbnQ4QXJyYXksSW50MTZBcnJheSxVaW50MTZBcnJheSxJbnQzMkFycmF5LFVpbnQzMkFycmF5LEZsb2F0MzJBcnJheSxGbG9hdDY0QXJyYXldO3ZhciBUQT10eXBlTWFwcGluZ1tkYXRhVHlwZUluZGV4XTtmdW5jdGlvbiBkZWNvZGVNZW1vcnlWaWV3KGhhbmRsZSl7dmFyIHNpemU9SEVBUFUzMltoYW5kbGU+PjJdO3ZhciBkYXRhPUhFQVBVMzJbaGFuZGxlKzQ+PjJdO3JldHVybiBuZXcgVEEoSEVBUDguYnVmZmVyLGRhdGEsc2l6ZSl9bmFtZT1yZWFkTGF0aW4xU3RyaW5nKG5hbWUpO3JlZ2lzdGVyVHlwZShyYXdUeXBlLHtuYW1lOm5hbWUsImZyb21XaXJlVHlwZSI6ZGVjb2RlTWVtb3J5VmlldywiYXJnUGFja0FkdmFuY2UiOkdlbmVyaWNXaXJlVHlwZVNpemUsInJlYWRWYWx1ZUZyb21Qb2ludGVyIjpkZWNvZGVNZW1vcnlWaWV3fSx7aWdub3JlRHVwbGljYXRlUmVnaXN0cmF0aW9uczp0cnVlfSk7fTt2YXIgc3RyaW5nVG9VVEY4QXJyYXk9KHN0cixoZWFwLG91dElkeCxtYXhCeXRlc1RvV3JpdGUpPT57aWYoIShtYXhCeXRlc1RvV3JpdGU+MCkpcmV0dXJuIDA7dmFyIHN0YXJ0SWR4PW91dElkeDt2YXIgZW5kSWR4PW91dElkeCttYXhCeXRlc1RvV3JpdGUtMTtmb3IodmFyIGk9MDtpPHN0ci5sZW5ndGg7KytpKXt2YXIgdT1zdHIuY2hhckNvZGVBdChpKTtpZih1Pj01NTI5NiYmdTw9NTczNDMpe3ZhciB1MT1zdHIuY2hhckNvZGVBdCgrK2kpO3U9NjU1MzYrKCh1JjEwMjMpPDwxMCl8dTEmMTAyMzt9aWYodTw9MTI3KXtpZihvdXRJZHg+PWVuZElkeClicmVhaztoZWFwW291dElkeCsrXT11O31lbHNlIGlmKHU8PTIwNDcpe2lmKG91dElkeCsxPj1lbmRJZHgpYnJlYWs7aGVhcFtvdXRJZHgrK109MTkyfHU+PjY7aGVhcFtvdXRJZHgrK109MTI4fHUmNjM7fWVsc2UgaWYodTw9NjU1MzUpe2lmKG91dElkeCsyPj1lbmRJZHgpYnJlYWs7aGVhcFtvdXRJZHgrK109MjI0fHU+PjEyO2hlYXBbb3V0SWR4KytdPTEyOHx1Pj42JjYzO2hlYXBbb3V0SWR4KytdPTEyOHx1JjYzO31lbHNlIHtpZihvdXRJZHgrMz49ZW5kSWR4KWJyZWFrO2hlYXBbb3V0SWR4KytdPTI0MHx1Pj4xODtoZWFwW291dElkeCsrXT0xMjh8dT4+MTImNjM7aGVhcFtvdXRJZHgrK109MTI4fHU+PjYmNjM7aGVhcFtvdXRJZHgrK109MTI4fHUmNjM7fX1oZWFwW291dElkeF09MDtyZXR1cm4gb3V0SWR4LXN0YXJ0SWR4fTt2YXIgc3RyaW5nVG9VVEY4PShzdHIsb3V0UHRyLG1heEJ5dGVzVG9Xcml0ZSk9PnN0cmluZ1RvVVRGOEFycmF5KHN0cixIRUFQVTgsb3V0UHRyLG1heEJ5dGVzVG9Xcml0ZSk7dmFyIGxlbmd0aEJ5dGVzVVRGOD1zdHI9Pnt2YXIgbGVuPTA7Zm9yKHZhciBpPTA7aTxzdHIubGVuZ3RoOysraSl7dmFyIGM9c3RyLmNoYXJDb2RlQXQoaSk7aWYoYzw9MTI3KXtsZW4rKzt9ZWxzZSBpZihjPD0yMDQ3KXtsZW4rPTI7fWVsc2UgaWYoYz49NTUyOTYmJmM8PTU3MzQzKXtsZW4rPTQ7KytpO31lbHNlIHtsZW4rPTM7fX1yZXR1cm4gbGVufTt2YXIgVVRGOERlY29kZXI9dHlwZW9mIFRleHREZWNvZGVyIT0idW5kZWZpbmVkIj9uZXcgVGV4dERlY29kZXIoInV0ZjgiKTp1bmRlZmluZWQ7dmFyIFVURjhBcnJheVRvU3RyaW5nPShoZWFwT3JBcnJheSxpZHgsbWF4Qnl0ZXNUb1JlYWQpPT57dmFyIGVuZElkeD1pZHgrbWF4Qnl0ZXNUb1JlYWQ7dmFyIGVuZFB0cj1pZHg7d2hpbGUoaGVhcE9yQXJyYXlbZW5kUHRyXSYmIShlbmRQdHI+PWVuZElkeCkpKytlbmRQdHI7aWYoZW5kUHRyLWlkeD4xNiYmaGVhcE9yQXJyYXkuYnVmZmVyJiZVVEY4RGVjb2Rlcil7cmV0dXJuIFVURjhEZWNvZGVyLmRlY29kZShoZWFwT3JBcnJheS5zdWJhcnJheShpZHgsZW5kUHRyKSl9dmFyIHN0cj0iIjt3aGlsZShpZHg8ZW5kUHRyKXt2YXIgdTA9aGVhcE9yQXJyYXlbaWR4KytdO2lmKCEodTAmMTI4KSl7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHUwKTtjb250aW51ZX12YXIgdTE9aGVhcE9yQXJyYXlbaWR4KytdJjYzO2lmKCh1MCYyMjQpPT0xOTIpe3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZSgodTAmMzEpPDw2fHUxKTtjb250aW51ZX12YXIgdTI9aGVhcE9yQXJyYXlbaWR4KytdJjYzO2lmKCh1MCYyNDApPT0yMjQpe3UwPSh1MCYxNSk8PDEyfHUxPDw2fHUyO31lbHNlIHt1MD0odTAmNyk8PDE4fHUxPDwxMnx1Mjw8NnxoZWFwT3JBcnJheVtpZHgrK10mNjM7fWlmKHUwPDY1NTM2KXtzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUodTApO31lbHNlIHt2YXIgY2g9dTAtNjU1MzY7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2fGNoPj4xMCw1NjMyMHxjaCYxMDIzKTt9fXJldHVybiBzdHJ9O3ZhciBVVEY4VG9TdHJpbmc9KHB0cixtYXhCeXRlc1RvUmVhZCk9PnB0cj9VVEY4QXJyYXlUb1N0cmluZyhIRUFQVTgscHRyLG1heEJ5dGVzVG9SZWFkKToiIjt2YXIgX19lbWJpbmRfcmVnaXN0ZXJfc3RkX3N0cmluZz0ocmF3VHlwZSxuYW1lKT0+e25hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTt2YXIgc3RkU3RyaW5nSXNVVEY4PW5hbWU9PT0ic3RkOjpzdHJpbmciO3JlZ2lzdGVyVHlwZShyYXdUeXBlLHtuYW1lOm5hbWUsImZyb21XaXJlVHlwZSIodmFsdWUpe3ZhciBsZW5ndGg9SEVBUFUzMlt2YWx1ZT4+Ml07dmFyIHBheWxvYWQ9dmFsdWUrNDt2YXIgc3RyO2lmKHN0ZFN0cmluZ0lzVVRGOCl7dmFyIGRlY29kZVN0YXJ0UHRyPXBheWxvYWQ7Zm9yKHZhciBpPTA7aTw9bGVuZ3RoOysraSl7dmFyIGN1cnJlbnRCeXRlUHRyPXBheWxvYWQraTtpZihpPT1sZW5ndGh8fEhFQVBVOFtjdXJyZW50Qnl0ZVB0cl09PTApe3ZhciBtYXhSZWFkPWN1cnJlbnRCeXRlUHRyLWRlY29kZVN0YXJ0UHRyO3ZhciBzdHJpbmdTZWdtZW50PVVURjhUb1N0cmluZyhkZWNvZGVTdGFydFB0cixtYXhSZWFkKTtpZihzdHI9PT11bmRlZmluZWQpe3N0cj1zdHJpbmdTZWdtZW50O31lbHNlIHtzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUoMCk7c3RyKz1zdHJpbmdTZWdtZW50O31kZWNvZGVTdGFydFB0cj1jdXJyZW50Qnl0ZVB0cisxO319fWVsc2Uge3ZhciBhPW5ldyBBcnJheShsZW5ndGgpO2Zvcih2YXIgaT0wO2k8bGVuZ3RoOysraSl7YVtpXT1TdHJpbmcuZnJvbUNoYXJDb2RlKEhFQVBVOFtwYXlsb2FkK2ldKTt9c3RyPWEuam9pbigiIik7fV9mcmVlKHZhbHVlKTtyZXR1cm4gc3RyfSwidG9XaXJlVHlwZSIoZGVzdHJ1Y3RvcnMsdmFsdWUpe2lmKHZhbHVlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpe3ZhbHVlPW5ldyBVaW50OEFycmF5KHZhbHVlKTt9dmFyIGxlbmd0aDt2YXIgdmFsdWVJc09mVHlwZVN0cmluZz10eXBlb2YgdmFsdWU9PSJzdHJpbmciO2lmKCEodmFsdWVJc09mVHlwZVN0cmluZ3x8dmFsdWUgaW5zdGFuY2VvZiBVaW50OEFycmF5fHx2YWx1ZSBpbnN0YW5jZW9mIFVpbnQ4Q2xhbXBlZEFycmF5fHx2YWx1ZSBpbnN0YW5jZW9mIEludDhBcnJheSkpe3Rocm93QmluZGluZ0Vycm9yKCJDYW5ub3QgcGFzcyBub24tc3RyaW5nIHRvIHN0ZDo6c3RyaW5nIik7fWlmKHN0ZFN0cmluZ0lzVVRGOCYmdmFsdWVJc09mVHlwZVN0cmluZyl7bGVuZ3RoPWxlbmd0aEJ5dGVzVVRGOCh2YWx1ZSk7fWVsc2Uge2xlbmd0aD12YWx1ZS5sZW5ndGg7fXZhciBiYXNlPV9tYWxsb2MoNCtsZW5ndGgrMSk7dmFyIHB0cj1iYXNlKzQ7SEVBUFUzMltiYXNlPj4yXT1sZW5ndGg7aWYoc3RkU3RyaW5nSXNVVEY4JiZ2YWx1ZUlzT2ZUeXBlU3RyaW5nKXtzdHJpbmdUb1VURjgodmFsdWUscHRyLGxlbmd0aCsxKTt9ZWxzZSB7aWYodmFsdWVJc09mVHlwZVN0cmluZyl7Zm9yKHZhciBpPTA7aTxsZW5ndGg7KytpKXt2YXIgY2hhckNvZGU9dmFsdWUuY2hhckNvZGVBdChpKTtpZihjaGFyQ29kZT4yNTUpe19mcmVlKHB0cik7dGhyb3dCaW5kaW5nRXJyb3IoIlN0cmluZyBoYXMgVVRGLTE2IGNvZGUgdW5pdHMgdGhhdCBkbyBub3QgZml0IGluIDggYml0cyIpO31IRUFQVThbcHRyK2ldPWNoYXJDb2RlO319ZWxzZSB7Zm9yKHZhciBpPTA7aTxsZW5ndGg7KytpKXtIRUFQVThbcHRyK2ldPXZhbHVlW2ldO319fWlmKGRlc3RydWN0b3JzIT09bnVsbCl7ZGVzdHJ1Y3RvcnMucHVzaChfZnJlZSxiYXNlKTt9cmV0dXJuIGJhc2V9LCJhcmdQYWNrQWR2YW5jZSI6R2VuZXJpY1dpcmVUeXBlU2l6ZSwicmVhZFZhbHVlRnJvbVBvaW50ZXIiOnJlYWRQb2ludGVyLGRlc3RydWN0b3JGdW5jdGlvbihwdHIpe19mcmVlKHB0cik7fX0pO307dmFyIFVURjE2RGVjb2Rlcj10eXBlb2YgVGV4dERlY29kZXIhPSJ1bmRlZmluZWQiP25ldyBUZXh0RGVjb2RlcigidXRmLTE2bGUiKTp1bmRlZmluZWQ7dmFyIFVURjE2VG9TdHJpbmc9KHB0cixtYXhCeXRlc1RvUmVhZCk9Pnt2YXIgZW5kUHRyPXB0cjt2YXIgaWR4PWVuZFB0cj4+MTt2YXIgbWF4SWR4PWlkeCttYXhCeXRlc1RvUmVhZC8yO3doaWxlKCEoaWR4Pj1tYXhJZHgpJiZIRUFQVTE2W2lkeF0pKytpZHg7ZW5kUHRyPWlkeDw8MTtpZihlbmRQdHItcHRyPjMyJiZVVEYxNkRlY29kZXIpcmV0dXJuIFVURjE2RGVjb2Rlci5kZWNvZGUoSEVBUFU4LnN1YmFycmF5KHB0cixlbmRQdHIpKTt2YXIgc3RyPSIiO2Zvcih2YXIgaT0wOyEoaT49bWF4Qnl0ZXNUb1JlYWQvMik7KytpKXt2YXIgY29kZVVuaXQ9SEVBUDE2W3B0citpKjI+PjFdO2lmKGNvZGVVbml0PT0wKWJyZWFrO3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZShjb2RlVW5pdCk7fXJldHVybiBzdHJ9O3ZhciBzdHJpbmdUb1VURjE2PShzdHIsb3V0UHRyLG1heEJ5dGVzVG9Xcml0ZSk9PnttYXhCeXRlc1RvV3JpdGU/Pz0yMTQ3NDgzNjQ3O2lmKG1heEJ5dGVzVG9Xcml0ZTwyKXJldHVybiAwO21heEJ5dGVzVG9Xcml0ZS09Mjt2YXIgc3RhcnRQdHI9b3V0UHRyO3ZhciBudW1DaGFyc1RvV3JpdGU9bWF4Qnl0ZXNUb1dyaXRlPHN0ci5sZW5ndGgqMj9tYXhCeXRlc1RvV3JpdGUvMjpzdHIubGVuZ3RoO2Zvcih2YXIgaT0wO2k8bnVtQ2hhcnNUb1dyaXRlOysraSl7dmFyIGNvZGVVbml0PXN0ci5jaGFyQ29kZUF0KGkpO0hFQVAxNltvdXRQdHI+PjFdPWNvZGVVbml0O291dFB0cis9Mjt9SEVBUDE2W291dFB0cj4+MV09MDtyZXR1cm4gb3V0UHRyLXN0YXJ0UHRyfTt2YXIgbGVuZ3RoQnl0ZXNVVEYxNj1zdHI9PnN0ci5sZW5ndGgqMjt2YXIgVVRGMzJUb1N0cmluZz0ocHRyLG1heEJ5dGVzVG9SZWFkKT0+e3ZhciBpPTA7dmFyIHN0cj0iIjt3aGlsZSghKGk+PW1heEJ5dGVzVG9SZWFkLzQpKXt2YXIgdXRmMzI9SEVBUDMyW3B0citpKjQ+PjJdO2lmKHV0ZjMyPT0wKWJyZWFrOysraTtpZih1dGYzMj49NjU1MzYpe3ZhciBjaD11dGYzMi02NTUzNjtzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTZ8Y2g+PjEwLDU2MzIwfGNoJjEwMjMpO31lbHNlIHtzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUodXRmMzIpO319cmV0dXJuIHN0cn07dmFyIHN0cmluZ1RvVVRGMzI9KHN0cixvdXRQdHIsbWF4Qnl0ZXNUb1dyaXRlKT0+e21heEJ5dGVzVG9Xcml0ZT8/PTIxNDc0ODM2NDc7aWYobWF4Qnl0ZXNUb1dyaXRlPDQpcmV0dXJuIDA7dmFyIHN0YXJ0UHRyPW91dFB0cjt2YXIgZW5kUHRyPXN0YXJ0UHRyK21heEJ5dGVzVG9Xcml0ZS00O2Zvcih2YXIgaT0wO2k8c3RyLmxlbmd0aDsrK2kpe3ZhciBjb2RlVW5pdD1zdHIuY2hhckNvZGVBdChpKTtpZihjb2RlVW5pdD49NTUyOTYmJmNvZGVVbml0PD01NzM0Myl7dmFyIHRyYWlsU3Vycm9nYXRlPXN0ci5jaGFyQ29kZUF0KCsraSk7Y29kZVVuaXQ9NjU1MzYrKChjb2RlVW5pdCYxMDIzKTw8MTApfHRyYWlsU3Vycm9nYXRlJjEwMjM7fUhFQVAzMltvdXRQdHI+PjJdPWNvZGVVbml0O291dFB0cis9NDtpZihvdXRQdHIrND5lbmRQdHIpYnJlYWt9SEVBUDMyW291dFB0cj4+Ml09MDtyZXR1cm4gb3V0UHRyLXN0YXJ0UHRyfTt2YXIgbGVuZ3RoQnl0ZXNVVEYzMj1zdHI9Pnt2YXIgbGVuPTA7Zm9yKHZhciBpPTA7aTxzdHIubGVuZ3RoOysraSl7dmFyIGNvZGVVbml0PXN0ci5jaGFyQ29kZUF0KGkpO2lmKGNvZGVVbml0Pj01NTI5NiYmY29kZVVuaXQ8PTU3MzQzKSsraTtsZW4rPTQ7fXJldHVybiBsZW59O3ZhciBfX2VtYmluZF9yZWdpc3Rlcl9zdGRfd3N0cmluZz0ocmF3VHlwZSxjaGFyU2l6ZSxuYW1lKT0+e25hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTt2YXIgZGVjb2RlU3RyaW5nLGVuY29kZVN0cmluZyxyZWFkQ2hhckF0LGxlbmd0aEJ5dGVzVVRGO2lmKGNoYXJTaXplPT09Mil7ZGVjb2RlU3RyaW5nPVVURjE2VG9TdHJpbmc7ZW5jb2RlU3RyaW5nPXN0cmluZ1RvVVRGMTY7bGVuZ3RoQnl0ZXNVVEY9bGVuZ3RoQnl0ZXNVVEYxNjtyZWFkQ2hhckF0PXBvaW50ZXI9PkhFQVBVMTZbcG9pbnRlcj4+MV07fWVsc2UgaWYoY2hhclNpemU9PT00KXtkZWNvZGVTdHJpbmc9VVRGMzJUb1N0cmluZztlbmNvZGVTdHJpbmc9c3RyaW5nVG9VVEYzMjtsZW5ndGhCeXRlc1VURj1sZW5ndGhCeXRlc1VURjMyO3JlYWRDaGFyQXQ9cG9pbnRlcj0+SEVBUFUzMltwb2ludGVyPj4yXTt9cmVnaXN0ZXJUeXBlKHJhd1R5cGUse25hbWU6bmFtZSwiZnJvbVdpcmVUeXBlIjp2YWx1ZT0+e3ZhciBsZW5ndGg9SEVBUFUzMlt2YWx1ZT4+Ml07dmFyIHN0cjt2YXIgZGVjb2RlU3RhcnRQdHI9dmFsdWUrNDtmb3IodmFyIGk9MDtpPD1sZW5ndGg7KytpKXt2YXIgY3VycmVudEJ5dGVQdHI9dmFsdWUrNCtpKmNoYXJTaXplO2lmKGk9PWxlbmd0aHx8cmVhZENoYXJBdChjdXJyZW50Qnl0ZVB0cik9PTApe3ZhciBtYXhSZWFkQnl0ZXM9Y3VycmVudEJ5dGVQdHItZGVjb2RlU3RhcnRQdHI7dmFyIHN0cmluZ1NlZ21lbnQ9ZGVjb2RlU3RyaW5nKGRlY29kZVN0YXJ0UHRyLG1heFJlYWRCeXRlcyk7aWYoc3RyPT09dW5kZWZpbmVkKXtzdHI9c3RyaW5nU2VnbWVudDt9ZWxzZSB7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDApO3N0cis9c3RyaW5nU2VnbWVudDt9ZGVjb2RlU3RhcnRQdHI9Y3VycmVudEJ5dGVQdHIrY2hhclNpemU7fX1fZnJlZSh2YWx1ZSk7cmV0dXJuIHN0cn0sInRvV2lyZVR5cGUiOihkZXN0cnVjdG9ycyx2YWx1ZSk9PntpZighKHR5cGVvZiB2YWx1ZT09InN0cmluZyIpKXt0aHJvd0JpbmRpbmdFcnJvcihgQ2Fubm90IHBhc3Mgbm9uLXN0cmluZyB0byBDKysgc3RyaW5nIHR5cGUgJHtuYW1lfWApO312YXIgbGVuZ3RoPWxlbmd0aEJ5dGVzVVRGKHZhbHVlKTt2YXIgcHRyPV9tYWxsb2MoNCtsZW5ndGgrY2hhclNpemUpO0hFQVBVMzJbcHRyPj4yXT1sZW5ndGgvY2hhclNpemU7ZW5jb2RlU3RyaW5nKHZhbHVlLHB0cis0LGxlbmd0aCtjaGFyU2l6ZSk7aWYoZGVzdHJ1Y3RvcnMhPT1udWxsKXtkZXN0cnVjdG9ycy5wdXNoKF9mcmVlLHB0cik7fXJldHVybiBwdHJ9LCJhcmdQYWNrQWR2YW5jZSI6R2VuZXJpY1dpcmVUeXBlU2l6ZSwicmVhZFZhbHVlRnJvbVBvaW50ZXIiOnJlYWRQb2ludGVyLGRlc3RydWN0b3JGdW5jdGlvbihwdHIpe19mcmVlKHB0cik7fX0pO307dmFyIF9fZW1iaW5kX3JlZ2lzdGVyX3ZvaWQ9KHJhd1R5cGUsbmFtZSk9PntuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7cmVnaXN0ZXJUeXBlKHJhd1R5cGUse2lzVm9pZDp0cnVlLG5hbWU6bmFtZSwiYXJnUGFja0FkdmFuY2UiOjAsImZyb21XaXJlVHlwZSI6KCk9PnVuZGVmaW5lZCwidG9XaXJlVHlwZSI6KGRlc3RydWN0b3JzLG8pPT51bmRlZmluZWR9KTt9O3ZhciBnZXRIZWFwTWF4PSgpPT4yMTQ3NDgzNjQ4O3ZhciBncm93TWVtb3J5PXNpemU9Pnt2YXIgYj13YXNtTWVtb3J5LmJ1ZmZlcjt2YXIgcGFnZXM9KHNpemUtYi5ieXRlTGVuZ3RoKzY1NTM1KS82NTUzNjt0cnl7d2FzbU1lbW9yeS5ncm93KHBhZ2VzKTt1cGRhdGVNZW1vcnlWaWV3cygpO3JldHVybiAxfWNhdGNoKGUpe319O3ZhciBfZW1zY3JpcHRlbl9yZXNpemVfaGVhcD1yZXF1ZXN0ZWRTaXplPT57dmFyIG9sZFNpemU9SEVBUFU4Lmxlbmd0aDtyZXF1ZXN0ZWRTaXplPj4+PTA7dmFyIG1heEhlYXBTaXplPWdldEhlYXBNYXgoKTtpZihyZXF1ZXN0ZWRTaXplPm1heEhlYXBTaXplKXtyZXR1cm4gZmFsc2V9dmFyIGFsaWduVXA9KHgsbXVsdGlwbGUpPT54KyhtdWx0aXBsZS14JW11bHRpcGxlKSVtdWx0aXBsZTtmb3IodmFyIGN1dERvd249MTtjdXREb3duPD00O2N1dERvd24qPTIpe3ZhciBvdmVyR3Jvd25IZWFwU2l6ZT1vbGRTaXplKigxKy4yL2N1dERvd24pO292ZXJHcm93bkhlYXBTaXplPU1hdGgubWluKG92ZXJHcm93bkhlYXBTaXplLHJlcXVlc3RlZFNpemUrMTAwNjYzMjk2KTt2YXIgbmV3U2l6ZT1NYXRoLm1pbihtYXhIZWFwU2l6ZSxhbGlnblVwKE1hdGgubWF4KHJlcXVlc3RlZFNpemUsb3Zlckdyb3duSGVhcFNpemUpLDY1NTM2KSk7dmFyIHJlcGxhY2VtZW50PWdyb3dNZW1vcnkobmV3U2l6ZSk7aWYocmVwbGFjZW1lbnQpe3JldHVybiB0cnVlfX1yZXR1cm4gZmFsc2V9O2VtYmluZF9pbml0X2NoYXJDb2RlcygpO0JpbmRpbmdFcnJvcj1Nb2R1bGVbIkJpbmRpbmdFcnJvciJdPWNsYXNzIEJpbmRpbmdFcnJvciBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKG1lc3NhZ2Upe3N1cGVyKG1lc3NhZ2UpO3RoaXMubmFtZT0iQmluZGluZ0Vycm9yIjt9fTtNb2R1bGVbIkludGVybmFsRXJyb3IiXT1jbGFzcyBJbnRlcm5hbEVycm9yIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IobWVzc2FnZSl7c3VwZXIobWVzc2FnZSk7dGhpcy5uYW1lPSJJbnRlcm5hbEVycm9yIjt9fTtpbml0X2VtdmFsKCk7dmFyIHdhc21JbXBvcnRzPXtmOl9fZW1iaW5kX3JlZ2lzdGVyX2JpZ2ludCxoOl9fZW1iaW5kX3JlZ2lzdGVyX2Jvb2wsZzpfX2VtYmluZF9yZWdpc3Rlcl9lbXZhbCxlOl9fZW1iaW5kX3JlZ2lzdGVyX2Zsb2F0LGI6X19lbWJpbmRfcmVnaXN0ZXJfaW50ZWdlcixhOl9fZW1iaW5kX3JlZ2lzdGVyX21lbW9yeV92aWV3LGQ6X19lbWJpbmRfcmVnaXN0ZXJfc3RkX3N0cmluZyxjOl9fZW1iaW5kX3JlZ2lzdGVyX3N0ZF93c3RyaW5nLGk6X19lbWJpbmRfcmVnaXN0ZXJfdm9pZCxqOl9lbXNjcmlwdGVuX3Jlc2l6ZV9oZWFwfTt2YXIgd2FzbUV4cG9ydHM9Y3JlYXRlV2FzbSgpO01vZHVsZVsiX3NvcnQiXT0oYTAsYTEsYTIsYTMsYTQsYTUsYTYsYTcsYTgpPT4oTW9kdWxlWyJfc29ydCJdPXdhc21FeHBvcnRzWyJtIl0pKGEwLGExLGEyLGEzLGE0LGE1LGE2LGE3LGE4KTt2YXIgX21hbGxvYz1Nb2R1bGVbIl9tYWxsb2MiXT1hMD0+KF9tYWxsb2M9TW9kdWxlWyJfbWFsbG9jIl09d2FzbUV4cG9ydHNbIm8iXSkoYTApO3ZhciBfZnJlZT1Nb2R1bGVbIl9mcmVlIl09YTA9PihfZnJlZT1Nb2R1bGVbIl9mcmVlIl09d2FzbUV4cG9ydHNbInAiXSkoYTApO3ZhciBjYWxsZWRSdW47ZGVwZW5kZW5jaWVzRnVsZmlsbGVkPWZ1bmN0aW9uIHJ1bkNhbGxlcigpe2lmKCFjYWxsZWRSdW4pcnVuKCk7aWYoIWNhbGxlZFJ1bilkZXBlbmRlbmNpZXNGdWxmaWxsZWQ9cnVuQ2FsbGVyO307ZnVuY3Rpb24gcnVuKCl7aWYocnVuRGVwZW5kZW5jaWVzPjApe3JldHVybn1wcmVSdW4oKTtpZihydW5EZXBlbmRlbmNpZXM+MCl7cmV0dXJufWZ1bmN0aW9uIGRvUnVuKCl7aWYoY2FsbGVkUnVuKXJldHVybjtjYWxsZWRSdW49dHJ1ZTtNb2R1bGVbImNhbGxlZFJ1biJdPXRydWU7aWYoQUJPUlQpcmV0dXJuO2luaXRSdW50aW1lKCk7cmVhZHlQcm9taXNlUmVzb2x2ZShNb2R1bGUpO2lmKE1vZHVsZVsib25SdW50aW1lSW5pdGlhbGl6ZWQiXSlNb2R1bGVbIm9uUnVudGltZUluaXRpYWxpemVkIl0oKTtwb3N0UnVuKCk7fWlmKE1vZHVsZVsic2V0U3RhdHVzIl0pe01vZHVsZVsic2V0U3RhdHVzIl0oIlJ1bm5pbmcuLi4iKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe01vZHVsZVsic2V0U3RhdHVzIl0oIiIpO30sMSk7ZG9SdW4oKTt9LDEpO31lbHNlIHtkb1J1bigpO319aWYoTW9kdWxlWyJwcmVJbml0Il0pe2lmKHR5cGVvZiBNb2R1bGVbInByZUluaXQiXT09ImZ1bmN0aW9uIilNb2R1bGVbInByZUluaXQiXT1bTW9kdWxlWyJwcmVJbml0Il1dO3doaWxlKE1vZHVsZVsicHJlSW5pdCJdLmxlbmd0aD4wKXtNb2R1bGVbInByZUluaXQiXS5wb3AoKSgpO319cnVuKCk7CgoKICAgIHJldHVybiByZWFkeVByb21pc2UKICB9CiAgKTsKICB9KSgpOwoKICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueQogIGxldCB3YXNtTW9kdWxlOwogIGFzeW5jIGZ1bmN0aW9uIGluaXRXYXNtKCkgewogICAgICB3YXNtTW9kdWxlID0gYXdhaXQgbG9hZFdhc20oKTsKICB9CiAgbGV0IHNvcnREYXRhOwogIGxldCB2aWV3UHJvalB0cjsKICBsZXQgdHJhbnNmb3Jtc1B0cjsKICBsZXQgdHJhbnNmb3JtSW5kaWNlc1B0cjsKICBsZXQgcG9zaXRpb25zUHRyOwogIGxldCBkZXB0aEJ1ZmZlclB0cjsKICBsZXQgZGVwdGhJbmRleFB0cjsKICBsZXQgc3RhcnRzUHRyOwogIGxldCBjb3VudHNQdHI7CiAgbGV0IGFsbG9jYXRlZFZlcnRleENvdW50ID0gMDsKICBsZXQgYWxsb2NhdGVkVHJhbnNmb3JtQ291bnQgPSAwOwogIGxldCB2aWV3UHJvaiA9IFtdOwogIGxldCBkaXJ0eSA9IHRydWU7CiAgbGV0IGxvY2sgPSBmYWxzZTsKICBsZXQgYWxsb2NhdGlvblBlbmRpbmcgPSBmYWxzZTsKICBsZXQgc29ydGluZyA9IGZhbHNlOwogIGNvbnN0IGFsbG9jYXRlQnVmZmVycyA9IGFzeW5jICgpID0+IHsKICAgICAgaWYgKGxvY2spIHsKICAgICAgICAgIGFsbG9jYXRpb25QZW5kaW5nID0gdHJ1ZTsKICAgICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBsb2NrID0gdHJ1ZTsKICAgICAgYWxsb2NhdGlvblBlbmRpbmcgPSBmYWxzZTsKICAgICAgaWYgKCF3YXNtTW9kdWxlKQogICAgICAgICAgYXdhaXQgaW5pdFdhc20oKTsKICAgICAgY29uc3QgdGFyZ2V0QWxsb2NhdGVkVmVydGV4Q291bnQgPSBNYXRoLnBvdygyLCBNYXRoLmNlaWwoTWF0aC5sb2cyKHNvcnREYXRhLnZlcnRleENvdW50KSkpOwogICAgICBpZiAoYWxsb2NhdGVkVmVydGV4Q291bnQgPCB0YXJnZXRBbGxvY2F0ZWRWZXJ0ZXhDb3VudCkgewogICAgICAgICAgaWYgKGFsbG9jYXRlZFZlcnRleENvdW50ID4gMCkgewogICAgICAgICAgICAgIHdhc21Nb2R1bGUuX2ZyZWUodmlld1Byb2pQdHIpOwogICAgICAgICAgICAgIHdhc21Nb2R1bGUuX2ZyZWUodHJhbnNmb3JtSW5kaWNlc1B0cik7CiAgICAgICAgICAgICAgd2FzbU1vZHVsZS5fZnJlZShwb3NpdGlvbnNQdHIpOwogICAgICAgICAgICAgIHdhc21Nb2R1bGUuX2ZyZWUoZGVwdGhCdWZmZXJQdHIpOwogICAgICAgICAgICAgIHdhc21Nb2R1bGUuX2ZyZWUoZGVwdGhJbmRleFB0cik7CiAgICAgICAgICAgICAgd2FzbU1vZHVsZS5fZnJlZShzdGFydHNQdHIpOwogICAgICAgICAgICAgIHdhc21Nb2R1bGUuX2ZyZWUoY291bnRzUHRyKTsKICAgICAgICAgIH0KICAgICAgICAgIGFsbG9jYXRlZFZlcnRleENvdW50ID0gdGFyZ2V0QWxsb2NhdGVkVmVydGV4Q291bnQ7CiAgICAgICAgICB2aWV3UHJvalB0ciA9IHdhc21Nb2R1bGUuX21hbGxvYygxNiAqIDQpOwogICAgICAgICAgdHJhbnNmb3JtSW5kaWNlc1B0ciA9IHdhc21Nb2R1bGUuX21hbGxvYyhhbGxvY2F0ZWRWZXJ0ZXhDb3VudCAqIDQpOwogICAgICAgICAgcG9zaXRpb25zUHRyID0gd2FzbU1vZHVsZS5fbWFsbG9jKDMgKiBhbGxvY2F0ZWRWZXJ0ZXhDb3VudCAqIDQpOwogICAgICAgICAgZGVwdGhCdWZmZXJQdHIgPSB3YXNtTW9kdWxlLl9tYWxsb2MoYWxsb2NhdGVkVmVydGV4Q291bnQgKiA0KTsKICAgICAgICAgIGRlcHRoSW5kZXhQdHIgPSB3YXNtTW9kdWxlLl9tYWxsb2MoYWxsb2NhdGVkVmVydGV4Q291bnQgKiA0KTsKICAgICAgICAgIHN0YXJ0c1B0ciA9IHdhc21Nb2R1bGUuX21hbGxvYyhhbGxvY2F0ZWRWZXJ0ZXhDb3VudCAqIDQpOwogICAgICAgICAgY291bnRzUHRyID0gd2FzbU1vZHVsZS5fbWFsbG9jKGFsbG9jYXRlZFZlcnRleENvdW50ICogNCk7CiAgICAgIH0KICAgICAgaWYgKGFsbG9jYXRlZFRyYW5zZm9ybUNvdW50IDwgc29ydERhdGEudHJhbnNmb3Jtcy5sZW5ndGgpIHsKICAgICAgICAgIGlmIChhbGxvY2F0ZWRUcmFuc2Zvcm1Db3VudCA+IDApIHsKICAgICAgICAgICAgICB3YXNtTW9kdWxlLl9mcmVlKHRyYW5zZm9ybXNQdHIpOwogICAgICAgICAgfQogICAgICAgICAgYWxsb2NhdGVkVHJhbnNmb3JtQ291bnQgPSBzb3J0RGF0YS50cmFuc2Zvcm1zLmxlbmd0aDsKICAgICAgICAgIHRyYW5zZm9ybXNQdHIgPSB3YXNtTW9kdWxlLl9tYWxsb2MoYWxsb2NhdGVkVHJhbnNmb3JtQ291bnQgKiA0KTsKICAgICAgfQogICAgICBsb2NrID0gZmFsc2U7CiAgICAgIGlmIChhbGxvY2F0aW9uUGVuZGluZykgewogICAgICAgICAgYWxsb2NhdGlvblBlbmRpbmcgPSBmYWxzZTsKICAgICAgICAgIGF3YWl0IGFsbG9jYXRlQnVmZmVycygpOwogICAgICB9CiAgfTsKICBjb25zdCBydW5Tb3J0ID0gKCkgPT4gewogICAgICBpZiAobG9jayB8fCBhbGxvY2F0aW9uUGVuZGluZyB8fCAhd2FzbU1vZHVsZSkKICAgICAgICAgIHJldHVybjsKICAgICAgbG9jayA9IHRydWU7CiAgICAgIHdhc21Nb2R1bGUuSEVBUEYzMi5zZXQoc29ydERhdGEucG9zaXRpb25zLCBwb3NpdGlvbnNQdHIgLyA0KTsKICAgICAgd2FzbU1vZHVsZS5IRUFQRjMyLnNldChzb3J0RGF0YS50cmFuc2Zvcm1zLCB0cmFuc2Zvcm1zUHRyIC8gNCk7CiAgICAgIHdhc21Nb2R1bGUuSEVBUFUzMi5zZXQoc29ydERhdGEudHJhbnNmb3JtSW5kaWNlcywgdHJhbnNmb3JtSW5kaWNlc1B0ciAvIDQpOwogICAgICB3YXNtTW9kdWxlLkhFQVBGMzIuc2V0KG5ldyBGbG9hdDMyQXJyYXkodmlld1Byb2opLCB2aWV3UHJvalB0ciAvIDQpOwogICAgICB3YXNtTW9kdWxlLl9zb3J0KHZpZXdQcm9qUHRyLCB0cmFuc2Zvcm1zUHRyLCB0cmFuc2Zvcm1JbmRpY2VzUHRyLCBzb3J0RGF0YS52ZXJ0ZXhDb3VudCwgcG9zaXRpb25zUHRyLCBkZXB0aEJ1ZmZlclB0ciwgZGVwdGhJbmRleFB0ciwgc3RhcnRzUHRyLCBjb3VudHNQdHIpOwogICAgICBjb25zdCBkZXB0aEluZGV4ID0gbmV3IFVpbnQzMkFycmF5KHdhc21Nb2R1bGUuSEVBUFUzMi5idWZmZXIsIGRlcHRoSW5kZXhQdHIsIHNvcnREYXRhLnZlcnRleENvdW50KTsKICAgICAgY29uc3QgZGV0YWNoZWREZXB0aEluZGV4ID0gbmV3IFVpbnQzMkFycmF5KGRlcHRoSW5kZXguc2xpY2UoKS5idWZmZXIpOwogICAgICBzZWxmLnBvc3RNZXNzYWdlKHsgZGVwdGhJbmRleDogZGV0YWNoZWREZXB0aEluZGV4IH0sIFtkZXRhY2hlZERlcHRoSW5kZXguYnVmZmVyXSk7CiAgICAgIGxvY2sgPSBmYWxzZTsKICAgICAgZGlydHkgPSBmYWxzZTsKICB9OwogIGNvbnN0IHRocm90dGxlZFNvcnQgPSAoKSA9PiB7CiAgICAgIGlmICghc29ydGluZykgewogICAgICAgICAgc29ydGluZyA9IHRydWU7CiAgICAgICAgICBpZiAoZGlydHkpCiAgICAgICAgICAgICAgcnVuU29ydCgpOwogICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgc29ydGluZyA9IGZhbHNlOwogICAgICAgICAgICAgIHRocm90dGxlZFNvcnQoKTsKICAgICAgICAgIH0pOwogICAgICB9CiAgfTsKICBzZWxmLm9ubWVzc2FnZSA9IChlKSA9PiB7CiAgICAgIGlmIChlLmRhdGEuc29ydERhdGEpIHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCJTT1JUISIpCiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhlKQogICAgICAgICAgLy9SZWNyZWF0aW5nIHRoZSB0eXBlZCBhcnJheXMgZXZlcnkgdGltZSwgd2lsbCBjYXVzZSBmaXJlZm94IHRvIGxlYWsgbWVtb3J5CiAgICAgICAgICBpZiAoIXNvcnREYXRhKSB7CiAgICAgICAgICAgICAgc29ydERhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uczogbmV3IEZsb2F0MzJBcnJheShlLmRhdGEuc29ydERhdGEucG9zaXRpb25zKSwKICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtczogbmV3IEZsb2F0MzJBcnJheShlLmRhdGEuc29ydERhdGEudHJhbnNmb3JtcyksCiAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybUluZGljZXM6IG5ldyBVaW50MzJBcnJheShlLmRhdGEuc29ydERhdGEudHJhbnNmb3JtSW5kaWNlcyksCiAgICAgICAgICAgICAgICAgIHZlcnRleENvdW50OiBlLmRhdGEuc29ydERhdGEudmVydGV4Q291bnQsCiAgICAgICAgICAgICAgfTsKICAgICAgICAgIH0KICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgIHNvcnREYXRhLnBvc2l0aW9ucy5zZXQoZS5kYXRhLnNvcnREYXRhLnBvc2l0aW9ucyk7CiAgICAgICAgICAgICAgc29ydERhdGEudHJhbnNmb3Jtcy5zZXQoZS5kYXRhLnNvcnREYXRhLnRyYW5zZm9ybXMpOwogICAgICAgICAgICAgIHNvcnREYXRhLnRyYW5zZm9ybUluZGljZXMuc2V0KGUuZGF0YS5zb3J0RGF0YS50cmFuc2Zvcm1JbmRpY2VzKTsKICAgICAgICAgICAgICBzb3J0RGF0YS52ZXJ0ZXhDb3VudCA9IGUuZGF0YS5zb3J0RGF0YS52ZXJ0ZXhDb3VudDsKICAgICAgICAgIH0KICAgICAgICAgIGRpcnR5ID0gdHJ1ZTsKICAgICAgICAgIGFsbG9jYXRlQnVmZmVycygpOwogICAgICB9CiAgICAgIGlmIChlLmRhdGEudmlld1Byb2opIHsKICAgICAgICAgIGlmICghZS5kYXRhLnZpZXdQcm9qLmV2ZXJ5KChpdGVtKSA9PiB2aWV3UHJvai5pbmNsdWRlcyhpdGVtKSkpIHsKICAgICAgICAgICAgICB2aWV3UHJvaiA9IGUuZGF0YS52aWV3UHJvajsKICAgICAgICAgICAgICBkaXJ0eSA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgICB0aHJvdHRsZWRTb3J0KCk7CiAgICAgIH0KICB9OwoKfSkoKTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9U29ydFdvcmtlci5qcy5tYXAKCg==",null,!1),Qt=Ut("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKCiAgdmFyIGxvYWRXYXNtID0gKCgpID0+IHsKICAgIAogICAgcmV0dXJuICgKICBmdW5jdGlvbihtb2R1bGVBcmcgPSB7fSkgewoKICB2YXIgTW9kdWxlPW1vZHVsZUFyZzt2YXIgcmVhZHlQcm9taXNlUmVzb2x2ZSxyZWFkeVByb21pc2VSZWplY3Q7dmFyIHJlYWR5UHJvbWlzZT1uZXcgUHJvbWlzZSgocmVzb2x2ZSxyZWplY3QpPT57cmVhZHlQcm9taXNlUmVzb2x2ZT1yZXNvbHZlO3JlYWR5UHJvbWlzZVJlamVjdD1yZWplY3Q7fSk7dmFyIG1vZHVsZU92ZXJyaWRlcz1PYmplY3QuYXNzaWduKHt9LE1vZHVsZSk7dmFyIHNjcmlwdERpcmVjdG9yeT0iIjt2YXIgcmVhZEJpbmFyeTt7e3NjcmlwdERpcmVjdG9yeT1zZWxmLmxvY2F0aW9uLmhyZWY7fWlmKHNjcmlwdERpcmVjdG9yeS5zdGFydHNXaXRoKCJibG9iOiIpKXtzY3JpcHREaXJlY3Rvcnk9IiI7fWVsc2Uge3NjcmlwdERpcmVjdG9yeT1zY3JpcHREaXJlY3Rvcnkuc3Vic3RyKDAsc2NyaXB0RGlyZWN0b3J5LnJlcGxhY2UoL1s/I10uKi8sIiIpLmxhc3RJbmRleE9mKCIvIikrMSk7fXt7cmVhZEJpbmFyeT11cmw9Pnt2YXIgeGhyPW5ldyBYTUxIdHRwUmVxdWVzdDt4aHIub3BlbigiR0VUIix1cmwsZmFsc2UpO3hoci5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIjt4aHIuc2VuZChudWxsKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoeGhyLnJlc3BvbnNlKX07fX19TW9kdWxlWyJwcmludCJdfHxjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpO3ZhciBlcnI9TW9kdWxlWyJwcmludEVyciJdfHxjb25zb2xlLmVycm9yLmJpbmQoY29uc29sZSk7T2JqZWN0LmFzc2lnbihNb2R1bGUsbW9kdWxlT3ZlcnJpZGVzKTttb2R1bGVPdmVycmlkZXM9bnVsbDtpZihNb2R1bGVbImFyZ3VtZW50cyJdKU1vZHVsZVsiYXJndW1lbnRzIl07aWYoTW9kdWxlWyJ0aGlzUHJvZ3JhbSJdKU1vZHVsZVsidGhpc1Byb2dyYW0iXTtpZihNb2R1bGVbInF1aXQiXSlNb2R1bGVbInF1aXQiXTt2YXIgd2FzbUJpbmFyeTtpZihNb2R1bGVbIndhc21CaW5hcnkiXSl3YXNtQmluYXJ5PU1vZHVsZVsid2FzbUJpbmFyeSJdO2Z1bmN0aW9uIGludEFycmF5RnJvbUJhc2U2NChzKXt2YXIgZGVjb2RlZD1hdG9iKHMpO3ZhciBieXRlcz1uZXcgVWludDhBcnJheShkZWNvZGVkLmxlbmd0aCk7Zm9yKHZhciBpPTA7aTxkZWNvZGVkLmxlbmd0aDsrK2kpe2J5dGVzW2ldPWRlY29kZWQuY2hhckNvZGVBdChpKTt9cmV0dXJuIGJ5dGVzfWZ1bmN0aW9uIHRyeVBhcnNlQXNEYXRhVVJJKGZpbGVuYW1lKXtpZighaXNEYXRhVVJJKGZpbGVuYW1lKSl7cmV0dXJufXJldHVybiBpbnRBcnJheUZyb21CYXNlNjQoZmlsZW5hbWUuc2xpY2UoZGF0YVVSSVByZWZpeC5sZW5ndGgpKX12YXIgd2FzbU1lbW9yeTt2YXIgQUJPUlQ9ZmFsc2U7dmFyIEhFQVA4LEhFQVBVOCxIRUFQMTYsSEVBUFUxNixIRUFQMzIsSEVBUFUzMixIRUFQRjMyLEhFQVBGNjQ7ZnVuY3Rpb24gdXBkYXRlTWVtb3J5Vmlld3MoKXt2YXIgYj13YXNtTWVtb3J5LmJ1ZmZlcjtNb2R1bGVbIkhFQVA4Il09SEVBUDg9bmV3IEludDhBcnJheShiKTtNb2R1bGVbIkhFQVAxNiJdPUhFQVAxNj1uZXcgSW50MTZBcnJheShiKTtNb2R1bGVbIkhFQVBVOCJdPUhFQVBVOD1uZXcgVWludDhBcnJheShiKTtNb2R1bGVbIkhFQVBVMTYiXT1IRUFQVTE2PW5ldyBVaW50MTZBcnJheShiKTtNb2R1bGVbIkhFQVAzMiJdPUhFQVAzMj1uZXcgSW50MzJBcnJheShiKTtNb2R1bGVbIkhFQVBVMzIiXT1IRUFQVTMyPW5ldyBVaW50MzJBcnJheShiKTtNb2R1bGVbIkhFQVBGMzIiXT1IRUFQRjMyPW5ldyBGbG9hdDMyQXJyYXkoYik7TW9kdWxlWyJIRUFQRjY0Il09SEVBUEY2ND1uZXcgRmxvYXQ2NEFycmF5KGIpO312YXIgX19BVFBSRVJVTl9fPVtdO3ZhciBfX0FUSU5JVF9fPVtdO3ZhciBfX0FUUE9TVFJVTl9fPVtdO2Z1bmN0aW9uIHByZVJ1bigpe2lmKE1vZHVsZVsicHJlUnVuIl0pe2lmKHR5cGVvZiBNb2R1bGVbInByZVJ1biJdPT0iZnVuY3Rpb24iKU1vZHVsZVsicHJlUnVuIl09W01vZHVsZVsicHJlUnVuIl1dO3doaWxlKE1vZHVsZVsicHJlUnVuIl0ubGVuZ3RoKXthZGRPblByZVJ1bihNb2R1bGVbInByZVJ1biJdLnNoaWZ0KCkpO319Y2FsbFJ1bnRpbWVDYWxsYmFja3MoX19BVFBSRVJVTl9fKTt9ZnVuY3Rpb24gaW5pdFJ1bnRpbWUoKXtjYWxsUnVudGltZUNhbGxiYWNrcyhfX0FUSU5JVF9fKTt9ZnVuY3Rpb24gcG9zdFJ1bigpe2lmKE1vZHVsZVsicG9zdFJ1biJdKXtpZih0eXBlb2YgTW9kdWxlWyJwb3N0UnVuIl09PSJmdW5jdGlvbiIpTW9kdWxlWyJwb3N0UnVuIl09W01vZHVsZVsicG9zdFJ1biJdXTt3aGlsZShNb2R1bGVbInBvc3RSdW4iXS5sZW5ndGgpe2FkZE9uUG9zdFJ1bihNb2R1bGVbInBvc3RSdW4iXS5zaGlmdCgpKTt9fWNhbGxSdW50aW1lQ2FsbGJhY2tzKF9fQVRQT1NUUlVOX18pO31mdW5jdGlvbiBhZGRPblByZVJ1bihjYil7X19BVFBSRVJVTl9fLnVuc2hpZnQoY2IpO31mdW5jdGlvbiBhZGRPbkluaXQoY2Ipe19fQVRJTklUX18udW5zaGlmdChjYik7fWZ1bmN0aW9uIGFkZE9uUG9zdFJ1bihjYil7X19BVFBPU1RSVU5fXy51bnNoaWZ0KGNiKTt9dmFyIHJ1bkRlcGVuZGVuY2llcz0wO3ZhciBkZXBlbmRlbmNpZXNGdWxmaWxsZWQ9bnVsbDtmdW5jdGlvbiBhZGRSdW5EZXBlbmRlbmN5KGlkKXtydW5EZXBlbmRlbmNpZXMrKztNb2R1bGVbIm1vbml0b3JSdW5EZXBlbmRlbmNpZXMiXT8uKHJ1bkRlcGVuZGVuY2llcyk7fWZ1bmN0aW9uIHJlbW92ZVJ1bkRlcGVuZGVuY3koaWQpe3J1bkRlcGVuZGVuY2llcy0tO01vZHVsZVsibW9uaXRvclJ1bkRlcGVuZGVuY2llcyJdPy4ocnVuRGVwZW5kZW5jaWVzKTtpZihydW5EZXBlbmRlbmNpZXM9PTApe2lmKGRlcGVuZGVuY2llc0Z1bGZpbGxlZCl7dmFyIGNhbGxiYWNrPWRlcGVuZGVuY2llc0Z1bGZpbGxlZDtkZXBlbmRlbmNpZXNGdWxmaWxsZWQ9bnVsbDtjYWxsYmFjaygpO319fWZ1bmN0aW9uIGFib3J0KHdoYXQpe01vZHVsZVsib25BYm9ydCJdPy4od2hhdCk7d2hhdD0iQWJvcnRlZCgiK3doYXQrIikiO2Vycih3aGF0KTtBQk9SVD10cnVlO3doYXQrPSIuIEJ1aWxkIHdpdGggLXNBU1NFUlRJT05TIGZvciBtb3JlIGluZm8uIjt2YXIgZT1uZXcgV2ViQXNzZW1ibHkuUnVudGltZUVycm9yKHdoYXQpO3JlYWR5UHJvbWlzZVJlamVjdChlKTt0aHJvdyBlfXZhciBkYXRhVVJJUHJlZml4PSJkYXRhOmFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbTtiYXNlNjQsIjt2YXIgaXNEYXRhVVJJPWZpbGVuYW1lPT5maWxlbmFtZS5zdGFydHNXaXRoKGRhdGFVUklQcmVmaXgpO3ZhciB3YXNtQmluYXJ5RmlsZTt3YXNtQmluYXJ5RmlsZT0iZGF0YTphcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07YmFzZTY0LEFHRnpiUUVBQUFBQmFBOWdCSDkvZjM4QVlBTi9mMzhBWUFWL2YzOS9md0JnQm45L2YzOS9md0JnQVg4QVlBRi9BWDlnQW45L0FHQURmMzkvQVg5Z0FBQmdCMzkvZjM5L2YzOEFZQUo5ZlFGL1lBUi9mMzUrQUdBQmZRRi9ZQXgvZjM5L2YzOS9mMzkvZjM4QVlBSi9md0YvQWowS0FXRUJZUUFCQVdFQllnQUNBV0VCWXdBQkFXRUJaQUFHQVdFQlpRQUJBV0VCWmdBSkFXRUJad0FFQVdFQmFBQUFBV0VCYVFBR0FXRUJhZ0FGQXhzYUJ3VUdDZ1FJQ3dnQkFBRUVCQXdGRFFNREFnSUFBQTRIQndVRUJRRndBUkFRQlFjQkFZSUNnSUFDQmdnQmZ3RkJzSjRFQ3djWkJnRnJBZ0FCYkFBUEFXMEFHUUZ1QVFBQmJ3QVlBWEFBRmdrVkFRQkJBUXNQSXc0VkZTSU9JUm9jSHc0YkhSNFJDdTFSR25FQkFYOGdBa1VFUUNBQUtBSUVJQUVvQWdSR0R3c2dBQ0FCUmdSQVFRRVBDd0pBSUFBb0FnUWlBaTBBQUNJQVJTQUFJQUVvQWdRaUFTMEFBQ0lEUjNJTkFBTkFJQUV0QUFFaEF5QUNMUUFCSWdCRkRRRWdBVUVCYWlFQklBSkJBV29oQWlBQUlBTkdEUUFMQ3lBQUlBTkdDMDhCQW45QnFCb29BZ0FpQVNBQVFRZHFRWGh4SWdKcUlRQUNRQ0FDUVFBZ0FDQUJUUnRGQkVBZ0FEOEFRUkIwVFEwQklBQVFDUTBCQzBHc0drRXdOZ0lBUVg4UEMwR29HaUFBTmdJQUlBRUxJUUFnQVFSQUEwQWdBRUVBT2dBQUlBQkJBV29oQUNBQlFRRnJJZ0VOQUFzTEN3NEFJQUFRRnlBQkVCZEJFSFJ5Q3dZQUlBQVFGZ3NwQUVHa0hrRVBOZ0lBUWFnZVFRQTJBZ0FRRVVHb0hrR2dIaWdDQURZQ0FFR2dIa0drSGpZQ0FBc2NBQ0FBSUFGQkNDQUNweUFDUWlDSXB5QURweUFEUWlDSXB4QUZDOTREQUVHc0NrSHFEUkFJUWJnS1Faa05RUUZCQUJBSFFjUUtRWlFOUVFGQmdIOUIvd0FRQVVIY0NrR05EVUVCUVlCL1FmOEFFQUZCMEFwQml3MUJBVUVBUWY4QkVBRkI2QXBCNlF4QkFrR0FnSDVCLy84QkVBRkI5QXBCNEF4QkFrRUFRZi8vQXhBQlFZQUxRZmdNUVFSQmdJQ0FnSGhCLy8vLy93Y1FBVUdNQzBIdkRFRUVRUUJCZnhBQlFaZ0xRYWNOUVFSQmdJQ0FnSGhCLy8vLy93Y1FBVUdrQzBHZURVRUVRUUJCZnhBQlFiQUxRWU1OUW9DQWdJQ0FnSUNBZ0g5Qy8vLy8vLy8vLy8vL0FCQVFRYndMUVlJTlFnQkNmeEFRUWNnTFFmd01RUVFRQkVIVUMwSGpEVUVJRUFSQjFCTkJ1UTBRQTBHY0ZFSG5FUkFEUWVRVVFRUkJyQTBRQWtHd0ZVRUNRY1VORUFKQi9CVkJCRUhVRFJBQ1FaZ1dFQVpCd0JaQkFFR2lFUkFBUWVnV1FRQkJpQklRQUVHUUYwRUJRY0FSRUFCQnVCZEJBa0h2RFJBQVFlQVhRUU5Camc0UUFFR0lHRUVFUWJZT0VBQkJzQmhCQlVIVERoQUFRZGdZUVFSQnJSSVFBRUdBR1VFRlFjc1NFQUJCNkJaQkFFRzVEeEFBUVpBWFFRRkJtQThRQUVHNEYwRUNRZnNQRUFCQjRCZEJBMEhaRHhBQVFZZ1lRUVJCZ1JFUUFFR3dHRUVGUWQ4UUVBQkJxQmxCQ0VHK0VCQUFRZEFaUVFsQm5CQVFBRUg0R1VFR1Fma09FQUJCb0JwQkIwSHlFaEFBQ3lBQUFrQWdBQ2dDQkNBQlJ3MEFJQUFvQWh4QkFVWU5BQ0FBSUFJMkFod0xDNW9CQUNBQVFRRTZBRFVDUUNBQUtBSUVJQUpIRFFBZ0FFRUJPZ0EwQWtBZ0FDZ0NFQ0lDUlFSQUlBQkJBVFlDSkNBQUlBTTJBaGdnQUNBQk5nSVFJQU5CQVVjTkFpQUFLQUl3UVFGR0RRRU1BZ3NnQVNBQ1JnUkFJQUFvQWhnaUFrRUNSZ1JBSUFBZ0F6WUNHQ0FESVFJTElBQW9BakJCQVVjTkFpQUNRUUZHRFFFTUFnc2dBQ0FBS0FJa1FRRnFOZ0lrQ3lBQVFRRTZBRFlMQzNZQkFYOGdBQ2dDSkNJRFJRUkFJQUFnQWpZQ0dDQUFJQUUyQWhBZ0FFRUJOZ0lrSUFBZ0FDZ0NPRFlDRkE4TEFrQUNRQ0FBS0FJVUlBQW9BamhIRFFBZ0FDZ0NFQ0FCUncwQUlBQW9BaGhCQWtjTkFTQUFJQUkyQWhnUEN5QUFRUUU2QURZZ0FFRUNOZ0lZSUFBZ0EwRUJhallDSkFzTEFnQUwyUXNCQjM4Q1FDQUFSUTBBSUFCQkNHc2lBeUFBUVFScktBSUFJZ0ZCZUhFaUFHb2hCUUpBSUFGQkFYRU5BQ0FCUVFKeFJRMEJJQU1nQXlnQ0FDSUJheUlEUWNBYUtBSUFTUTBCSUFBZ0FXb2hBQUpBQWtCQnhCb29BZ0FnQTBjRVFDQURLQUlNSVFJZ0FVSC9BVTBFUUNBQlFRTjJJUUVnQXlnQ0NDSUVJQUpHQkVCQnNCcEJzQm9vQWdCQmZpQUJkM0UyQWdBTUJRc2dCQ0FDTmdJTUlBSWdCRFlDQ0F3RUN5QURLQUlZSVFZZ0FpQURSd1JBSUFNb0FnZ2lBU0FDTmdJTUlBSWdBVFlDQ0F3REN5QURLQUlVSWdFRWZ5QURRUlJxQlNBREtBSVFJZ0ZGRFFJZ0EwRVFhZ3NoQkFOQUlBUWhCeUFCSWdKQkZHb2hCQ0FDS0FJVUlnRU5BQ0FDUVJCcUlRUWdBaWdDRUNJQkRRQUxJQWRCQURZQ0FBd0NDeUFGS0FJRUlnRkJBM0ZCQTBjTkFrRzRHaUFBTmdJQUlBVWdBVUYrY1RZQ0JDQURJQUJCQVhJMkFnUWdCU0FBTmdJQUR3dEJBQ0VDQ3lBR1JRMEFBa0FnQXlnQ0hDSUJRUUowUWVBY2FpSUVLQUlBSUFOR0JFQWdCQ0FDTmdJQUlBSU5BVUcwR2tHMEdpZ0NBRUYrSUFGM2NUWUNBQXdDQ3lBR1FSQkJGQ0FHS0FJUUlBTkdHMm9nQWpZQ0FDQUNSUTBCQ3lBQ0lBWTJBaGdnQXlnQ0VDSUJCRUFnQWlBQk5nSVFJQUVnQWpZQ0dBc2dBeWdDRkNJQlJRMEFJQUlnQVRZQ0ZDQUJJQUkyQWhnTElBTWdCVThOQUNBRktBSUVJZ0ZCQVhGRkRRQUNRQUpBQWtBQ1FDQUJRUUp4UlFSQVFjZ2FLQUlBSUFWR0JFQkJ5Qm9nQXpZQ0FFRzhHa0c4R2lnQ0FDQUFhaUlBTmdJQUlBTWdBRUVCY2pZQ0JDQURRY1FhS0FJQVJ3MEdRYmdhUVFBMkFnQkJ4QnBCQURZQ0FBOExRY1FhS0FJQUlBVkdCRUJCeEJvZ0F6WUNBRUc0R2tHNEdpZ0NBQ0FBYWlJQU5nSUFJQU1nQUVFQmNqWUNCQ0FBSUFOcUlBQTJBZ0FQQ3lBQlFYaHhJQUJxSVFBZ0JTZ0NEQ0VDSUFGQi93Rk5CRUFnQVVFRGRpRUJJQVVvQWdnaUJDQUNSZ1JBUWJBYVFiQWFLQUlBUVg0Z0FYZHhOZ0lBREFVTElBUWdBallDRENBQ0lBUTJBZ2dNQkFzZ0JTZ0NHQ0VHSUFJZ0JVY0VRRUhBR2lnQ0FCb2dCU2dDQ0NJQklBSTJBZ3dnQWlBQk5nSUlEQU1MSUFVb0FoUWlBUVIvSUFWQkZHb0ZJQVVvQWhBaUFVVU5BaUFGUVJCcUN5RUVBMEFnQkNFSElBRWlBa0VVYWlFRUlBSW9BaFFpQVEwQUlBSkJFR29oQkNBQ0tBSVFJZ0VOQUFzZ0IwRUFOZ0lBREFJTElBVWdBVUYrY1RZQ0JDQURJQUJCQVhJMkFnUWdBQ0FEYWlBQU5nSUFEQU1MUVFBaEFnc2dCa1VOQUFKQUlBVW9BaHdpQVVFQ2RFSGdIR29pQkNnQ0FDQUZSZ1JBSUFRZ0FqWUNBQ0FDRFFGQnRCcEJ0Qm9vQWdCQmZpQUJkM0UyQWdBTUFnc2dCa0VRUVJRZ0JpZ0NFQ0FGUmh0cUlBSTJBZ0FnQWtVTkFRc2dBaUFHTmdJWUlBVW9BaEFpQVFSQUlBSWdBVFlDRUNBQklBSTJBaGdMSUFVb0FoUWlBVVVOQUNBQ0lBRTJBaFFnQVNBQ05nSVlDeUFESUFCQkFYSTJBZ1FnQUNBRGFpQUFOZ0lBSUFOQnhCb29BZ0JIRFFCQnVCb2dBRFlDQUE4TElBQkIvd0ZOQkVBZ0FFRjRjVUhZR21vaEFRSi9RYkFhS0FJQUlnUkJBU0FBUVFOMmRDSUFjVVVFUUVHd0dpQUFJQVJ5TmdJQUlBRU1BUXNnQVNnQ0NBc2hBQ0FCSUFNMkFnZ2dBQ0FETmdJTUlBTWdBVFlDRENBRElBQTJBZ2dQQzBFZklRSWdBRUgvLy84SFRRUkFJQUJCSmlBQVFRaDJaeUlCYTNaQkFYRWdBVUVCZEd0QlBtb2hBZ3NnQXlBQ05nSWNJQU5DQURjQ0VDQUNRUUowUWVBY2FpRUhBbjhDUUFKL1FiUWFLQUlBSWdGQkFTQUNkQ0lFY1VVRVFFRzBHaUFCSUFSeU5nSUFRUmdoQWlBSElRUkJDQXdCQ3lBQVFSa2dBa0VCZG10QkFDQUNRUjlIRzNRaEFpQUhLQUlBSVFRRFFDQUVJZ0VvQWdSQmVIRWdBRVlOQWlBQ1FSMTJJUVFnQWtFQmRDRUNJQUVnQkVFRWNXcEJFR29pQnlnQ0FDSUVEUUFMUVJnaEFpQUJJUVJCQ0FzaEFDQURJZ0VNQVFzZ0FTZ0NDQ0lFSUFNMkFneEJDQ0VDSUFGQkNHb2hCMEVZSVFCQkFBc2hCU0FISUFNMkFnQWdBaUFEYWlBRU5nSUFJQU1nQVRZQ0RDQUFJQU5xSUFVMkFnQkIwQnBCMEJvb0FnQkJBV3NpQUVGL0lBQWJOZ0lBQ3d0M0FRUi9JQUM4SWdSQi8vLy9BM0VoQVFKQUlBUkJGM1pCL3dGeElnSkZEUUFnQWtId0FFMEVRQ0FCUVlDQWdBUnlRZkVBSUFKcmRpRUJEQUVMSUFKQmpRRkxCRUJCZ1BnQklRTkJBQ0VCREFFTElBSkJDblJCZ0lBSGF5RURDeUFESUFSQkVIWkJnSUFDY1hJZ0FVRU5kbkpCLy84RGNRdlhKd0VNZnlNQVFSQnJJZ29rQUFKQUFrQUNRQUpBQWtBQ1FBSkFBa0FDUUFKQUlBQkI5QUZOQkVCQnNCb29BZ0FpQkVFUUlBQkJDMnBCK0FOeElBQkJDMGtiSWdaQkEzWWlBSFlpQVVFRGNRUkFBa0FnQVVGL2MwRUJjU0FBYWlJQ1FRTjBJZ0ZCMkJwcUlnQWdBVUhnR21vb0FnQWlBU2dDQ0NJRlJnUkFRYkFhSUFSQmZpQUNkM0UyQWdBTUFRc2dCU0FBTmdJTUlBQWdCVFlDQ0FzZ0FVRUlhaUVBSUFFZ0FrRURkQ0lDUVFOeU5nSUVJQUVnQW1vaUFTQUJLQUlFUVFGeU5nSUVEQXNMSUFaQnVCb29BZ0FpQ0UwTkFTQUJCRUFDUUVFQ0lBQjBJZ0pCQUNBQ2EzSWdBU0FBZEhGb0lnRkJBM1FpQUVIWUdtb2lBaUFBUWVBYWFpZ0NBQ0lBS0FJSUlnVkdCRUJCc0JvZ0JFRitJQUYzY1NJRU5nSUFEQUVMSUFVZ0FqWUNEQ0FDSUFVMkFnZ0xJQUFnQmtFRGNqWUNCQ0FBSUFacUlnY2dBVUVEZENJQklBWnJJZ1ZCQVhJMkFnUWdBQ0FCYWlBRk5nSUFJQWdFUUNBSVFYaHhRZGdhYWlFQlFjUWFLQUlBSVFJQ2Z5QUVRUUVnQ0VFRGRuUWlBM0ZGQkVCQnNCb2dBeUFFY2pZQ0FDQUJEQUVMSUFFb0FnZ0xJUU1nQVNBQ05nSUlJQU1nQWpZQ0RDQUNJQUUyQWd3Z0FpQUROZ0lJQ3lBQVFRaHFJUUJCeEJvZ0J6WUNBRUc0R2lBRk5nSUFEQXNMUWJRYUtBSUFJZ3RGRFFFZ0MyaEJBblJCNEJ4cUtBSUFJZ0lvQWdSQmVIRWdCbXNoQXlBQ0lRRURRQUpBSUFFb0FoQWlBRVVFUUNBQktBSVVJZ0JGRFFFTElBQW9BZ1JCZUhFZ0Jtc2lBU0FESUFFZ0Ewa2lBUnNoQXlBQUlBSWdBUnNoQWlBQUlRRU1BUXNMSUFJb0FoZ2hDU0FDSUFJb0Fnd2lBRWNFUUVIQUdpZ0NBQm9nQWlnQ0NDSUJJQUEyQWd3Z0FDQUJOZ0lJREFvTElBSW9BaFFpQVFSL0lBSkJGR29GSUFJb0FoQWlBVVVOQXlBQ1FSQnFDeUVGQTBBZ0JTRUhJQUVpQUVFVWFpRUZJQUFvQWhRaUFRMEFJQUJCRUdvaEJTQUFLQUlRSWdFTkFBc2dCMEVBTmdJQURBa0xRWDhoQmlBQVFiOS9TdzBBSUFCQkMyb2lBRUY0Y1NFR1FiUWFLQUlBSWdkRkRRQkJBQ0FHYXlFREFrQUNRQUpBQW45QkFDQUdRWUFDU1EwQUdrRWZJQVpCLy8vL0Iwc05BQm9nQmtFbUlBQkJDSFpuSWdCcmRrRUJjU0FBUVFGMGEwRSthZ3NpQ0VFQ2RFSGdIR29vQWdBaUFVVUVRRUVBSVFBTUFRdEJBQ0VBSUFaQkdTQUlRUUYyYTBFQUlBaEJIMGNiZENFQ0EwQUNRQ0FCS0FJRVFYaHhJQVpySWdRZ0EwOE5BQ0FCSVFVZ0JDSUREUUJCQUNFRElBRWhBQXdEQ3lBQUlBRW9BaFFpQkNBRUlBRWdBa0VkZGtFRWNXb29BaEFpQVVZYklBQWdCQnNoQUNBQ1FRRjBJUUlnQVEwQUN3c2dBQ0FGY2tVRVFFRUFJUVZCQWlBSWRDSUFRUUFnQUd0eUlBZHhJZ0JGRFFNZ0FHaEJBblJCNEJ4cUtBSUFJUUFMSUFCRkRRRUxBMEFnQUNnQ0JFRjRjU0FHYXlJQ0lBTkpJUUVnQWlBRElBRWJJUU1nQUNBRklBRWJJUVVnQUNnQ0VDSUJCSDhnQVFVZ0FDZ0NGQXNpQUEwQUN3c2dCVVVOQUNBRFFiZ2FLQUlBSUFaclR3MEFJQVVvQWhnaENDQUZJQVVvQWd3aUFFY0VRRUhBR2lnQ0FCb2dCU2dDQ0NJQklBQTJBZ3dnQUNBQk5nSUlEQWdMSUFVb0FoUWlBUVIvSUFWQkZHb0ZJQVVvQWhBaUFVVU5BeUFGUVJCcUN5RUNBMEFnQWlFRUlBRWlBRUVVYWlFQ0lBQW9BaFFpQVEwQUlBQkJFR29oQWlBQUtBSVFJZ0VOQUFzZ0JFRUFOZ0lBREFjTElBWkJ1Qm9vQWdBaUJVMEVRRUhFR2lnQ0FDRUFBa0FnQlNBR2F5SUJRUkJQQkVBZ0FDQUdhaUlDSUFGQkFYSTJBZ1FnQUNBRmFpQUJOZ0lBSUFBZ0JrRURjallDQkF3QkN5QUFJQVZCQTNJMkFnUWdBQ0FGYWlJQklBRW9BZ1JCQVhJMkFnUkJBQ0VDUVFBaEFRdEJ1Qm9nQVRZQ0FFSEVHaUFDTmdJQUlBQkJDR29oQUF3SkN5QUdRYndhS0FJQUlnSkpCRUJCdkJvZ0FpQUdheUlCTmdJQVFjZ2FRY2dhS0FJQUlnQWdCbW9pQWpZQ0FDQUNJQUZCQVhJMkFnUWdBQ0FHUVFOeU5nSUVJQUJCQ0dvaEFBd0pDMEVBSVFBZ0JrRXZhaUlEQW45QmlCNG9BZ0FFUUVHUUhpZ0NBQXdCQzBHVUhrSi9Od0lBUVl3ZVFvQ2dnSUNBZ0FRM0FnQkJpQjRnQ2tFTWFrRndjVUhZcXRXcUJYTTJBZ0JCbkI1QkFEWUNBRUhzSFVFQU5nSUFRWUFnQ3lJQmFpSUVRUUFnQVdzaUIzRWlBU0FHVFEwSVFlZ2RLQUlBSWdVRVFFSGdIU2dDQUNJSUlBRnFJZ2tnQ0UwZ0JTQUpTWElOQ1FzQ1FFSHNIUzBBQUVFRWNVVUVRQUpBQWtBQ1FBSkFRY2dhS0FJQUlnVUVRRUh3SFNFQUEwQWdCU0FBS0FJQUlnaFBCRUFnQ0NBQUtBSUVhaUFGU3cwREN5QUFLQUlJSWdBTkFBc0xRUUFRQ3lJQ1FYOUdEUU1nQVNFRVFZd2VLQUlBSWdCQkFXc2lCU0FDY1FSQUlBRWdBbXNnQWlBRmFrRUFJQUJyY1dvaEJBc2dCQ0FHVFEwRFFlZ2RLQUlBSWdBRVFFSGdIU2dDQUNJRklBUnFJZ2NnQlUwZ0FDQUhTWElOQkFzZ0JCQUxJZ0FnQWtjTkFRd0ZDeUFFSUFKcklBZHhJZ1FRQ3lJQ0lBQW9BZ0FnQUNnQ0JHcEdEUUVnQWlFQUN5QUFRWDlHRFFFZ0JrRXdhaUFFVFFSQUlBQWhBZ3dFQzBHUUhpZ0NBQ0lDSUFNZ0JHdHFRUUFnQW10eElnSVFDMEYvUmcwQklBSWdCR29oQkNBQUlRSU1Bd3NnQWtGL1J3MENDMEhzSFVIc0hTZ0NBRUVFY2pZQ0FBc2dBUkFMSWdKQmYwWkJBQkFMSWdCQmYwWnlJQUFnQWsxeURRVWdBQ0FDYXlJRUlBWkJLR3BORFFVTFFlQWRRZUFkS0FJQUlBUnFJZ0EyQWdCQjVCMG9BZ0FnQUVrRVFFSGtIU0FBTmdJQUN3SkFRY2dhS0FJQUlnTUVRRUh3SFNFQUEwQWdBaUFBS0FJQUlnRWdBQ2dDQkNJRmFrWU5BaUFBS0FJSUlnQU5BQXNNQkF0QndCb29BZ0FpQUVFQUlBQWdBazBiUlFSQVFjQWFJQUkyQWdBTFFRQWhBRUgwSFNBRU5nSUFRZkFkSUFJMkFnQkIwQnBCZnpZQ0FFSFVHa0dJSGlnQ0FEWUNBRUg4SFVFQU5nSUFBMEFnQUVFRGRDSUJRZUFhYWlBQlFkZ2FhaUlGTmdJQUlBRkI1QnBxSUFVMkFnQWdBRUVCYWlJQVFTQkhEUUFMUWJ3YUlBUkJLR3NpQUVGNElBSnJRUWR4SWdGcklnVTJBZ0JCeUJvZ0FTQUNhaUlCTmdJQUlBRWdCVUVCY2pZQ0JDQUFJQUpxUVNnMkFnUkJ6QnBCbUI0b0FnQTJBZ0FNQkFzZ0FpQURUU0FCSUFOTGNnMENJQUFvQWd4QkNIRU5BaUFBSUFRZ0JXbzJBZ1JCeUJvZ0EwRjRJQU5yUVFkeElnQnFJZ0UyQWdCQnZCcEJ2Qm9vQWdBZ0JHb2lBaUFBYXlJQU5nSUFJQUVnQUVFQmNqWUNCQ0FDSUFOcVFTZzJBZ1JCekJwQm1CNG9BZ0EyQWdBTUF3dEJBQ0VBREFZTFFRQWhBQXdFQzBIQUdpZ0NBQ0FDU3dSQVFjQWFJQUkyQWdBTElBSWdCR29oQVVId0hTRUFBa0FEUUNBQklBQW9BZ0JIQkVBZ0FDZ0NDQ0lBRFFFTUFnc0xJQUF0QUF4QkNIRkZEUU1MUWZBZElRQURRQUpBSUFNZ0FDZ0NBQ0lCVHdSQUlBRWdBQ2dDQkdvaUJTQURTdzBCQ3lBQUtBSUlJUUFNQVFzTFFid2FJQVJCS0dzaUFFRjRJQUpyUVFkeElnRnJJZ2MyQWdCQnlCb2dBU0FDYWlJQk5nSUFJQUVnQjBFQmNqWUNCQ0FBSUFKcVFTZzJBZ1JCekJwQm1CNG9BZ0EyQWdBZ0F5QUZRU2NnQld0QkIzRnFRUzlySWdBZ0FDQURRUkJxU1JzaUFVRWJOZ0lFSUFGQitCMHBBZ0EzQWhBZ0FVSHdIU2tDQURjQ0NFSDRIU0FCUVFocU5nSUFRZlFkSUFRMkFnQkI4QjBnQWpZQ0FFSDhIVUVBTmdJQUlBRkJHR29oQUFOQUlBQkJCellDQkNBQVFRaHFJUXdnQUVFRWFpRUFJQXdnQlVrTkFBc2dBU0FEUmcwQUlBRWdBU2dDQkVGK2NUWUNCQ0FESUFFZ0Eyc2lBa0VCY2pZQ0JDQUJJQUkyQWdBQ2Z5QUNRZjhCVFFSQUlBSkJlSEZCMkJwcUlRQUNmMEd3R2lnQ0FDSUJRUUVnQWtFRGRuUWlBbkZGQkVCQnNCb2dBU0FDY2pZQ0FDQUFEQUVMSUFBb0FnZ0xJUUVnQUNBRE5nSUlJQUVnQXpZQ0RFRU1JUUpCQ0F3QkMwRWZJUUFnQWtILy8vOEhUUVJBSUFKQkppQUNRUWgyWnlJQWEzWkJBWEVnQUVFQmRHdEJQbW9oQUFzZ0F5QUFOZ0ljSUFOQ0FEY0NFQ0FBUVFKMFFlQWNhaUVCQWtBQ1FFRzBHaWdDQUNJRlFRRWdBSFFpQkhGRkJFQkJ0Qm9nQkNBRmNqWUNBQ0FCSUFNMkFnQU1BUXNnQWtFWklBQkJBWFpyUVFBZ0FFRWZSeHQwSVFBZ0FTZ0NBQ0VGQTBBZ0JTSUJLQUlFUVhoeElBSkdEUUlnQUVFZGRpRUZJQUJCQVhRaEFDQUJJQVZCQkhGcUlnUW9BaEFpQlEwQUN5QUVJQU0yQWhBTElBTWdBVFlDR0VFSUlRSWdBeUlCSVFCQkRBd0JDeUFCS0FJSUlnQWdBellDRENBQklBTTJBZ2dnQXlBQU5nSUlRUUFoQUVFWUlRSkJEQXNnQTJvZ0FUWUNBQ0FDSUFOcUlBQTJBZ0FMUWJ3YUtBSUFJZ0FnQmswTkFFRzhHaUFBSUFacklnRTJBZ0JCeUJwQnlCb29BZ0FpQUNBR2FpSUNOZ0lBSUFJZ0FVRUJjallDQkNBQUlBWkJBM0kyQWdRZ0FFRUlhaUVBREFRTFFhd2FRVEEyQWdCQkFDRUFEQU1MSUFBZ0FqWUNBQ0FBSUFBb0FnUWdCR28yQWdRZ0FrRjRJQUpyUVFkeGFpSUlJQVpCQTNJMkFnUWdBVUY0SUFGclFRZHhhaUlFSUFZZ0NHb2lBMnNoQndKQVFjZ2FLQUlBSUFSR0JFQkJ5Qm9nQXpZQ0FFRzhHa0c4R2lnQ0FDQUhhaUlBTmdJQUlBTWdBRUVCY2pZQ0JBd0JDMEhFR2lnQ0FDQUVSZ1JBUWNRYUlBTTJBZ0JCdUJwQnVCb29BZ0FnQjJvaUFEWUNBQ0FESUFCQkFYSTJBZ1FnQUNBRGFpQUFOZ0lBREFFTElBUW9BZ1FpQUVFRGNVRUJSZ1JBSUFCQmVIRWhDU0FFS0FJTUlRSUNRQ0FBUWY4QlRRUkFJQVFvQWdnaUFTQUNSZ1JBUWJBYVFiQWFLQUlBUVg0Z0FFRURkbmR4TmdJQURBSUxJQUVnQWpZQ0RDQUNJQUUyQWdnTUFRc2dCQ2dDR0NFR0FrQWdBaUFFUndSQVFjQWFLQUlBR2lBRUtBSUlJZ0FnQWpZQ0RDQUNJQUEyQWdnTUFRc0NRQ0FFS0FJVUlnQUVmeUFFUVJScUJTQUVLQUlRSWdCRkRRRWdCRUVRYWdzaEFRTkFJQUVoQlNBQUlnSkJGR29oQVNBQUtBSVVJZ0FOQUNBQ1FSQnFJUUVnQWlnQ0VDSUFEUUFMSUFWQkFEWUNBQXdCQzBFQUlRSUxJQVpGRFFBQ1FDQUVLQUljSWdCQkFuUkI0QnhxSWdFb0FnQWdCRVlFUUNBQklBSTJBZ0FnQWcwQlFiUWFRYlFhS0FJQVFYNGdBSGR4TmdJQURBSUxJQVpCRUVFVUlBWW9BaEFnQkVZYmFpQUNOZ0lBSUFKRkRRRUxJQUlnQmpZQ0dDQUVLQUlRSWdBRVFDQUNJQUEyQWhBZ0FDQUNOZ0lZQ3lBRUtBSVVJZ0JGRFFBZ0FpQUFOZ0lVSUFBZ0FqWUNHQXNnQnlBSmFpRUhJQVFnQ1dvaUJDZ0NCQ0VBQ3lBRUlBQkJmbkUyQWdRZ0F5QUhRUUZ5TmdJRUlBTWdCMm9nQnpZQ0FDQUhRZjhCVFFSQUlBZEJlSEZCMkJwcUlRQUNmMEd3R2lnQ0FDSUJRUUVnQjBFRGRuUWlBbkZGQkVCQnNCb2dBU0FDY2pZQ0FDQUFEQUVMSUFBb0FnZ0xJUUVnQUNBRE5nSUlJQUVnQXpZQ0RDQURJQUEyQWd3Z0F5QUJOZ0lJREFFTFFSOGhBaUFIUWYvLy93ZE5CRUFnQjBFbUlBZEJDSFpuSWdCcmRrRUJjU0FBUVFGMGEwRSthaUVDQ3lBRElBSTJBaHdnQTBJQU53SVFJQUpCQW5SQjRCeHFJUUFDUUFKQVFiUWFLQUlBSWdGQkFTQUNkQ0lGY1VVRVFFRzBHaUFCSUFWeU5nSUFJQUFnQXpZQ0FBd0JDeUFIUVJrZ0FrRUJkbXRCQUNBQ1FSOUhHM1FoQWlBQUtBSUFJUUVEUUNBQklnQW9BZ1JCZUhFZ0IwWU5BaUFDUVIxMklRRWdBa0VCZENFQ0lBQWdBVUVFY1dvaUJTZ0NFQ0lCRFFBTElBVWdBellDRUFzZ0F5QUFOZ0lZSUFNZ0F6WUNEQ0FESUFNMkFnZ01BUXNnQUNnQ0NDSUJJQU0yQWd3Z0FDQUROZ0lJSUFOQkFEWUNHQ0FESUFBMkFnd2dBeUFCTmdJSUN5QUlRUWhxSVFBTUFnc0NRQ0FJUlEwQUFrQWdCU2dDSENJQlFRSjBRZUFjYWlJQ0tBSUFJQVZHQkVBZ0FpQUFOZ0lBSUFBTkFVRzBHaUFIUVg0Z0FYZHhJZ2MyQWdBTUFnc2dDRUVRUVJRZ0NDZ0NFQ0FGUmh0cUlBQTJBZ0FnQUVVTkFRc2dBQ0FJTmdJWUlBVW9BaEFpQVFSQUlBQWdBVFlDRUNBQklBQTJBaGdMSUFVb0FoUWlBVVVOQUNBQUlBRTJBaFFnQVNBQU5nSVlDd0pBSUFOQkQwMEVRQ0FGSUFNZ0Jtb2lBRUVEY2pZQ0JDQUFJQVZxSWdBZ0FDZ0NCRUVCY2pZQ0JBd0JDeUFGSUFaQkEzSTJBZ1FnQlNBR2FpSUVJQU5CQVhJMkFnUWdBeUFFYWlBRE5nSUFJQU5CL3dGTkJFQWdBMEY0Y1VIWUdtb2hBQUovUWJBYUtBSUFJZ0ZCQVNBRFFRTjJkQ0lDY1VVRVFFR3dHaUFCSUFKeU5nSUFJQUFNQVFzZ0FDZ0NDQXNoQVNBQUlBUTJBZ2dnQVNBRU5nSU1JQVFnQURZQ0RDQUVJQUUyQWdnTUFRdEJIeUVBSUFOQi8vLy9CMDBFUUNBRFFTWWdBMEVJZG1jaUFHdDJRUUZ4SUFCQkFYUnJRVDVxSVFBTElBUWdBRFlDSENBRVFnQTNBaEFnQUVFQ2RFSGdIR29oQVFKQUFrQWdCMEVCSUFCMElnSnhSUVJBUWJRYUlBSWdCM0kyQWdBZ0FTQUVOZ0lBSUFRZ0FUWUNHQXdCQ3lBRFFSa2dBRUVCZG10QkFDQUFRUjlIRzNRaEFDQUJLQUlBSVFFRFFDQUJJZ0lvQWdSQmVIRWdBMFlOQWlBQVFSMTJJUUVnQUVFQmRDRUFJQUlnQVVFRWNXb2lCeWdDRUNJQkRRQUxJQWNnQkRZQ0VDQUVJQUkyQWhnTElBUWdCRFlDRENBRUlBUTJBZ2dNQVFzZ0FpZ0NDQ0lBSUFRMkFnd2dBaUFFTmdJSUlBUkJBRFlDR0NBRUlBSTJBZ3dnQkNBQU5nSUlDeUFGUVFocUlRQU1BUXNDUUNBSlJRMEFBa0FnQWlnQ0hDSUJRUUowUWVBY2FpSUZLQUlBSUFKR0JFQWdCU0FBTmdJQUlBQU5BVUcwR2lBTFFYNGdBWGR4TmdJQURBSUxJQWxCRUVFVUlBa29BaEFnQWtZYmFpQUFOZ0lBSUFCRkRRRUxJQUFnQ1RZQ0dDQUNLQUlRSWdFRVFDQUFJQUUyQWhBZ0FTQUFOZ0lZQ3lBQ0tBSVVJZ0ZGRFFBZ0FDQUJOZ0lVSUFFZ0FEWUNHQXNDUUNBRFFROU5CRUFnQWlBRElBWnFJZ0JCQTNJMkFnUWdBQ0FDYWlJQUlBQW9BZ1JCQVhJMkFnUU1BUXNnQWlBR1FRTnlOZ0lFSUFJZ0Jtb2lCU0FEUVFGeU5nSUVJQU1nQldvZ0F6WUNBQ0FJQkVBZ0NFRjRjVUhZR21vaEFFSEVHaWdDQUNFQkFuOUJBU0FJUVFOMmRDSUhJQVJ4UlFSQVFiQWFJQVFnQjNJMkFnQWdBQXdCQ3lBQUtBSUlDeUVFSUFBZ0FUWUNDQ0FFSUFFMkFnd2dBU0FBTmdJTUlBRWdCRFlDQ0F0QnhCb2dCVFlDQUVHNEdpQUROZ0lBQ3lBQ1FRaHFJUUFMSUFwQkVHb2tBQ0FBQzZrTEFncC9DWDBqQUVHZ0FXc2lCeVFBSUFkQk1HcEJKQkFNQTBBZ0FTQU5Sd1JBSUFJZ0RVRURiQ0lNUVFKcVFRSjBJZzVxS2dJQUlSY2dBaUFNUVFGcVFRSjBJZzlxS2dJQUlSZ2dDU0FNUVFKMEloQnFJQUlnRUdvcUFnQWlGamdDQUNBSklBOXFJQmc0QWdBZ0NTQU9haUFYT0FJQUlBZ2dEVUVGZEdvaURDQVlPQUlFSUF3Z0ZqZ0NBQ0FNSUJjNEFnZ2dERUVBTmdJTUFrQWdBRVVFUUNBR0lBMXFMUUFBUlEwQkN5QU1RWUNBZ0FnMkFnd0xJQWdnRFVFRmRHb2lFU0FGSUExQkFuUWlERUVCY2lJU2FpMEFBRUVJZENBRklBeHFMUUFBY2lBRklBeEJBbklpRTJvdEFBQkJFSFJ5SUFVZ0RFRURjaUlNYWkwQUFFRVlkSEkyQWh3Z0J5QURJQkpCQW5RaUZHb3FBZ0FpR1RnQ2tBRWdCeUFESUJOQkFuUWlGV29xQWdBaUdqZ0NsQUVnQnlBRElBeEJBblFpRW1vcUFnQWlGemdDbUFFZ0J5QURJQTFCQkhRaUUyb3FBZ0NNSWhnNEFwd0JJQWRCNEFCcUlnd2dCeW9DbUFFaUZrTUFBQURBbENBV2xDQUhLZ0tVQVNJV1F3QUFBTUNVSUJhVVF3QUFnRCtTa2pnQ0FDQU1JQWNxQXBBQkloWWdGcElnQnlvQ2xBR1VJQWNxQXBnQlF3QUFBTUNVSUFjcUFwd0JsSkk0QWdRZ0RDQUhLZ0tRQVNJV0lCYVNJQWNxQXBnQmxDQUhLZ0tVQVNJV0lCYVNJQWNxQXB3QmxKSTRBZ2dnRENBSEtnS1FBU0lXSUJhU0lBY3FBcFFCbENBSEtnS1lBU0lXSUJhU0lBY3FBcHdCbEpJNEFnd2dEQ0FIS2dLWUFTSVdRd0FBQU1DVUlCYVVJQWNxQXBBQkloWkRBQUFBd0pRZ0ZwUkRBQUNBUDVLU09BSVFJQXdnQnlvQ2xBRWlGaUFXa2lBSEtnS1lBWlFnQnlvQ2tBRkRBQUFBd0pRZ0J5b0NuQUdVa2pnQ0ZDQU1JQWNxQXBBQkloWWdGcElnQnlvQ21BR1VJQWNxQXBRQlF3QUFBTUNVSUFjcUFwd0JsSkk0QWhnZ0RDQUhLZ0tVQVNJV0lCYVNJQWNxQXBnQmxDQUhLZ0tRQVNJV0lCYVNJQWNxQXB3QmxKSTRBaHdnRENBSEtnS1VBU0lXUXdBQUFNQ1VJQmFVSUFjcUFwQUJJaFpEQUFBQXdKUWdGcFJEQUFDQVA1S1NPQUlnSUFvZ0Uyb2dHVGdDQUNBS0lCUnFJQm80QWdBZ0NpQVZhaUFYT0FJQUlBb2dFbW9nR0RnQ0FDQUhJQVFnRUdvcUFnQWlGemdDTUNBSElBUWdEMm9xQWdBaUdEZ0NRQ0FISUFRZ0Rtb3FBZ0FpRmpnQ1VDQUxJQkJxSUJjNEFnQWdDeUFQYWlBWU9BSUFJQXNnRG1vZ0ZqZ0NBQ0FISUF3cUFoZ2dCeW9DT0pRZ0RDb0NBQ0FIS2dJd2xDQU1LZ0lNSUFjcUFqU1VrcEk0QWdBZ0J5QU1LZ0ljSUFjcUFqaVVJQXdxQWdRZ0J5b0NNSlFnRENvQ0VDQUhLZ0kwbEpLU09BSUVJQWNnRENvQ0lDQUhLZ0k0bENBTUtnSUlJQWNxQWpDVUlBd3FBaFFnQnlvQ05KU1NramdDQ0NBSElBd3FBaGdnQnlvQ1JKUWdEQ29DQUNBSEtnSThsQ0FNS2dJTUlBY3FBa0NVa3BJNEFnd2dCeUFNS2dJY0lBY3FBa1NVSUF3cUFnUWdCeW9DUEpRZ0RDb0NFQ0FIS2dKQWxKS1NPQUlRSUFjZ0RDb0NJQ0FIS2dKRWxDQU1LZ0lJSUFjcUFqeVVJQXdxQWhRZ0J5b0NRSlNTa2pnQ0ZDQUhJQXdxQWhnZ0J5b0NVSlFnRENvQ0FDQUhLZ0pJbENBTUtnSU1JQWNxQWt5VWtwSTRBaGdnQnlBTUtnSWNJQWNxQWxDVUlBd3FBZ1FnQnlvQ1NKUWdEQ29DRUNBSEtnSk1sSktTT0FJY0lBY2dEQ29DSUNBSEtnSlFsQ0FNS2dJSUlBY3FBa2lVSUF3cUFoUWdCeW9DVEpTU2tqZ0NJQ0FIS2dJZ0lSc2dCeW9DQ0NFY0lBY3FBaFFoSFNBUklBY3FBaGdpSGlBZWxDQUhLZ0lBSWhrZ0daUWdCeW9DRENJYUlCcVVrcEpEQUFDQVFKUWdIaUFIS2dJY0loZVVJQmtnQnlvQ0JDSVlsQ0FhSUFjcUFoQWlGcFNTa2tNQUFJQkFsQkFOTmdJUUlCRWdIaUFibENBWklCeVVJQm9nSFpTU2trTUFBSUJBbENBWElCZVVJQmdnR0pRZ0ZpQVdsSktTUXdBQWdFQ1VFQTAyQWhRZ0VTQVhJQnVVSUJnZ0hKUWdGaUFkbEpLU1F3QUFnRUNVSUJzZ0c1UWdIQ0FjbENBZElCMlVrcEpEQUFDQVFKUVFEVFlDR0NBTlFRRnFJUTBNQVFzTElBZEJvQUZxSkFBTEdnQWdBQ0FCS0FJSUlBVVFDZ1JBSUFFZ0FpQURJQVFRRXdzTE53QWdBQ0FCS0FJSUlBVVFDZ1JBSUFFZ0FpQURJQVFRRXc4TElBQW9BZ2dpQUNBQklBSWdBeUFFSUFVZ0FDZ0NBQ2dDRkJFREFBdVJBUUFnQUNBQktBSUlJQVFRQ2dSQUlBRWdBaUFERUJJUEN3SkFJQUFnQVNnQ0FDQUVFQXBGRFFBQ1FDQUNJQUVvQWhCSEJFQWdBU2dDRkNBQ1J3MEJDeUFEUVFGSERRRWdBVUVCTmdJZ0R3c2dBU0FDTmdJVUlBRWdBellDSUNBQklBRW9BaWhCQVdvMkFpZ0NRQ0FCS0FJa1FRRkhEUUFnQVNnQ0dFRUNSdzBBSUFGQkFUb0FOZ3NnQVVFRU5nSXNDd3YxQVFBZ0FDQUJLQUlJSUFRUUNnUkFJQUVnQWlBREVCSVBDd0pBSUFBZ0FTZ0NBQ0FFRUFvRVFBSkFJQUlnQVNnQ0VFY0VRQ0FCS0FJVUlBSkhEUUVMSUFOQkFVY05BaUFCUVFFMkFpQVBDeUFCSUFNMkFpQUNRQ0FCS0FJc1FRUkdEUUFnQVVFQU93RTBJQUFvQWdnaUFDQUJJQUlnQWtFQklBUWdBQ2dDQUNnQ0ZCRURBQ0FCTFFBMVFRRkdCRUFnQVVFRE5nSXNJQUV0QURSRkRRRU1Bd3NnQVVFRU5nSXNDeUFCSUFJMkFoUWdBU0FCS0FJb1FRRnFOZ0lvSUFFb0FpUkJBVWNOQVNBQktBSVlRUUpIRFFFZ0FVRUJPZ0EyRHdzZ0FDZ0NDQ0lBSUFFZ0FpQURJQVFnQUNnQ0FDZ0NHQkVDQUFzTE1RQWdBQ0FCS0FJSVFRQVFDZ1JBSUFFZ0FpQURFQlFQQ3lBQUtBSUlJZ0FnQVNBQ0lBTWdBQ2dDQUNnQ0hCRUFBQXNZQUNBQUlBRW9BZ2hCQUJBS0JFQWdBU0FDSUFNUUZBc0w0UU1CQlg4akFFRVFheUlESkFBZ0F5QUFLQUlBSWdSQkNHc29BZ0FpQWpZQ0RDQURJQUFnQW1vMkFnUWdBeUFFUVFScktBSUFOZ0lJSUFNb0FnZ2lCQ0FCUVFBUUNpRUNJQU1vQWdRaEJRSkFJQUlFUUNBREtBSU1JUUFqQUVGQWFpSUJKQUFnQVVGQWF5UUFRUUFnQlNBQUd5RUNEQUVMSXdCQlFHb2lBaVFBSUFBZ0JVNEVRQ0FDUWdBM0Fod2dBa0lBTndJa0lBSkNBRGNDTENBQ1FnQTNBaFFnQWtFQU5nSVFJQUlnQVRZQ0RDQUNJQVEyQWdRZ0FrRUFOZ0k4SUFKQ2dZQ0FnSUNBZ0lBQk53STBJQUlnQURZQ0NDQUVJQUpCQkdvZ0JTQUZRUUZCQUNBRUtBSUFLQUlVRVFNQUlBQkJBQ0FDS0FJY0d5RUdDeUFDUVVCckpBQWdCaUlDRFFBakFFRkFhaUlDSkFBZ0FrRUFOZ0lRSUFKQnZBZzJBZ3dnQWlBQU5nSUlJQUlnQVRZQ0JFRUFJUUFnQWtFVWFrRW5FQXdnQWtFQU5nSThJQUpCQVRvQU95QUVJQUpCQkdvZ0JVRUJRUUFnQkNnQ0FDZ0NHQkVDQUFKQUFrQUNRQ0FDS0FJb0RnSUFBUUlMSUFJb0FoaEJBQ0FDS0FJa1FRRkdHMEVBSUFJb0FpQkJBVVliUVFBZ0FpZ0NMRUVCUmhzaEFBd0JDeUFDS0FJY1FRRkhCRUFnQWlnQ0xBMEJJQUlvQWlCQkFVY05BU0FDS0FJa1FRRkhEUUVMSUFJb0FoUWhBQXNnQWtGQWF5UUFJQUFoQWdzZ0EwRVFhaVFBSUFJTG9BRUJBbjhqQUVGQWFpSURKQUFDZjBFQklBQWdBVUVBRUFvTkFCcEJBQ0FCUlEwQUdrRUFJQUZCN0FnUUlDSUJSUTBBR2lBRFFRaHFRVGdRRENBRFFRRTZBRHNnQTBGL05nSVFJQU1nQURZQ0RDQURJQUUyQWdRZ0EwRUJOZ0kwSUFFZ0EwRUVhaUFDS0FJQVFRRWdBU2dDQUNnQ0hCRUFBQ0FES0FJY0lnQkJBVVlFUUNBQ0lBTW9BaFEyQWdBTElBQkJBVVlMSVFRZ0EwRkFheVFBSUFRTENnQWdBQ0FCUVFBUUNnc0VBQ0FBQ3d1M0VnSUFRWUFJQzZZU1UzUTVkSGx3WlY5cGJtWnZBQUFBQU9RRkFBQUFCQUFBVGpFd1gxOWplSGhoWW1sMk1URTJYMTl6YUdsdFgzUjVjR1ZmYVc1bWIwVUFBQUFBREFZQUFCZ0VBQUFRQkFBQVRqRXdYMTlqZUhoaFltbDJNVEUzWDE5amJHRnpjMTkwZVhCbFgybHVabTlGQUFBQURBWUFBRWdFQUFBOEJBQUFUakV3WDE5amVIaGhZbWwyTVRFM1gxOXdZbUZ6WlY5MGVYQmxYMmx1Wm05RkFBQUFEQVlBQUhnRUFBQThCQUFBVGpFd1gxOWplSGhoWW1sMk1URTVYMTl3YjJsdWRHVnlYM1I1Y0dWZmFXNW1iMFVBREFZQUFLZ0VBQUNjQkFBQUFBQUFBQndGQUFBQkFBQUFBZ0FBQUFNQUFBQUVBQUFBQlFBQUFFNHhNRjlmWTNoNFlXSnBkakV5TTE5ZlpuVnVaR0Z0Wlc1MFlXeGZkSGx3WlY5cGJtWnZSUUFNQmdBQTlBUUFBRHdFQUFCMkFBQUE0QVFBQUNnRkFBQmlBQUFBNEFRQUFEUUZBQUJqQUFBQTRBUUFBRUFGQUFCb0FBQUE0QVFBQUV3RkFBQmhBQUFBNEFRQUFGZ0ZBQUJ6QUFBQTRBUUFBR1FGQUFCMEFBQUE0QVFBQUhBRkFBQnBBQUFBNEFRQUFId0ZBQUJxQUFBQTRBUUFBSWdGQUFCc0FBQUE0QVFBQUpRRkFBQnRBQUFBNEFRQUFLQUZBQUI0QUFBQTRBUUFBS3dGQUFCNUFBQUE0QVFBQUxnRkFBQm1BQUFBNEFRQUFNUUZBQUJrQUFBQTRBUUFBTkFGQUFBQUFBQUFiQVFBQUFFQUFBQUdBQUFBQXdBQUFBUUFBQUFIQUFBQUNBQUFBQWtBQUFBS0FBQUFBQUFBQUZRR0FBQUJBQUFBQ3dBQUFBTUFBQUFFQUFBQUJ3QUFBQXdBQUFBTkFBQUFEZ0FBQUU0eE1GOWZZM2g0WVdKcGRqRXlNRjlmYzJsZlkyeGhjM05mZEhsd1pWOXBibVp2UlFBQUFBQU1CZ0FBTEFZQUFHd0VBQUIxYm5OcFoyNWxaQ0J6YUc5eWRBQjFibk5wWjI1bFpDQnBiblFBWm14dllYUUFkV2x1ZERZMFgzUUFkVzV6YVdkdVpXUWdZMmhoY2dCaWIyOXNBSFZ1YzJsbmJtVmtJR3h2Ym1jQWMzUmtPanAzYzNSeWFXNW5BSE4wWkRvNmMzUnlhVzVuQUhOMFpEbzZkVEUyYzNSeWFXNW5BSE4wWkRvNmRUTXljM1J5YVc1bkFHUnZkV0pzWlFCMmIybGtBR1Z0YzJOeWFYQjBaVzQ2T20xbGJXOXllVjkyYVdWM1BITm9iM0owUGdCbGJYTmpjbWx3ZEdWdU9qcHRaVzF2Y25sZmRtbGxkengxYm5OcFoyNWxaQ0J6YUc5eWRENEFaVzF6WTNKcGNIUmxiam82YldWdGIzSjVYM1pwWlhjOGFXNTBQZ0JsYlhOamNtbHdkR1Z1T2pwdFpXMXZjbmxmZG1sbGR6eDFibk5wWjI1bFpDQnBiblErQUdWdGMyTnlhWEIwWlc0Nk9tMWxiVzl5ZVY5MmFXVjNQR1pzYjJGMFBnQmxiWE5qY21sd2RHVnVPanB0WlcxdmNubGZkbWxsZHp4MWFXNTBPRjkwUGdCbGJYTmpjbWx3ZEdWdU9qcHRaVzF2Y25sZmRtbGxkenhwYm5RNFgzUStBR1Z0YzJOeWFYQjBaVzQ2T20xbGJXOXllVjkyYVdWM1BIVnBiblF4Tmw5MFBnQmxiWE5qY21sd2RHVnVPanB0WlcxdmNubGZkbWxsZHp4cGJuUXhObDkwUGdCbGJYTmpjbWx3ZEdWdU9qcHRaVzF2Y25sZmRtbGxkengxYVc1ME5qUmZkRDRBWlcxelkzSnBjSFJsYmpvNmJXVnRiM0o1WDNacFpYYzhhVzUwTmpSZmRENEFaVzF6WTNKcGNIUmxiam82YldWdGIzSjVYM1pwWlhjOGRXbHVkRE15WDNRK0FHVnRjMk55YVhCMFpXNDZPbTFsYlc5eWVWOTJhV1YzUEdsdWRETXlYM1ErQUdWdGMyTnlhWEIwWlc0Nk9tMWxiVzl5ZVY5MmFXVjNQR05vWVhJK0FHVnRjMk55YVhCMFpXNDZPbTFsYlc5eWVWOTJhV1YzUEhWdWMybG5ibVZrSUdOb1lYSStBSE4wWkRvNlltRnphV05mYzNSeWFXNW5QSFZ1YzJsbmJtVmtJR05vWVhJK0FHVnRjMk55YVhCMFpXNDZPbTFsYlc5eWVWOTJhV1YzUEhOcFoyNWxaQ0JqYUdGeVBnQmxiWE5qY21sd2RHVnVPanB0WlcxdmNubGZkbWxsZHp4c2IyNW5QZ0JsYlhOamNtbHdkR1Z1T2pwdFpXMXZjbmxmZG1sbGR6eDFibk5wWjI1bFpDQnNiMjVuUGdCbGJYTmpjbWx3ZEdWdU9qcHRaVzF2Y25sZmRtbGxkenhrYjNWaWJHVStBRTVUZEROZlh6SXhNbUpoYzJsalgzTjBjbWx1WjBsalRsTmZNVEZqYUdGeVgzUnlZV2wwYzBsalJVVk9VMTg1WVd4c2IyTmhkRzl5U1dORlJVVkZBQUFBQU9RRkFBQ1NDUUFBVGxOME0xOWZNakV5WW1GemFXTmZjM1J5YVc1blNXaE9VMTh4TVdOb1lYSmZkSEpoYVhSelNXaEZSVTVUWHpsaGJHeHZZMkYwYjNKSmFFVkZSVVVBQU9RRkFBRGNDUUFBVGxOME0xOWZNakV5WW1GemFXTmZjM1J5YVc1blNYZE9VMTh4TVdOb1lYSmZkSEpoYVhSelNYZEZSVTVUWHpsaGJHeHZZMkYwYjNKSmQwVkZSVVVBQU9RRkFBQWtDZ0FBVGxOME0xOWZNakV5WW1GemFXTmZjM1J5YVc1blNVUnpUbE5mTVRGamFHRnlYM1J5WVdsMGMwbEVjMFZGVGxOZk9XRnNiRzlqWVhSdmNrbEVjMFZGUlVVQUFBRGtCUUFBYkFvQUFFNVRkRE5mWHpJeE1tSmhjMmxqWDNOMGNtbHVaMGxFYVU1VFh6RXhZMmhoY2w5MGNtRnBkSE5KUkdsRlJVNVRYemxoYkd4dlkyRjBiM0pKUkdsRlJVVkZBQUFBNUFVQUFMZ0tBQUJPTVRCbGJYTmpjbWx3ZEdWdU0zWmhiRVVBQU9RRkFBQUVDd0FBVGpFd1pXMXpZM0pwY0hSbGJqRXhiV1Z0YjNKNVgzWnBaWGRKWTBWRkFBRGtCUUFBSUFzQUFFNHhNR1Z0YzJOeWFYQjBaVzR4TVcxbGJXOXllVjkyYVdWM1NXRkZSUUFBNUFVQUFFZ0xBQUJPTVRCbGJYTmpjbWx3ZEdWdU1URnRaVzF2Y25sZmRtbGxkMGxvUlVVQUFPUUZBQUJ3Q3dBQVRqRXdaVzF6WTNKcGNIUmxiakV4YldWdGIzSjVYM1pwWlhkSmMwVkZBQURrQlFBQW1Bc0FBRTR4TUdWdGMyTnlhWEIwWlc0eE1XMWxiVzl5ZVY5MmFXVjNTWFJGUlFBQTVBVUFBTUFMQUFCT01UQmxiWE5qY21sd2RHVnVNVEZ0WlcxdmNubGZkbWxsZDBscFJVVUFBT1FGQUFEb0N3QUFUakV3WlcxelkzSnBjSFJsYmpFeGJXVnRiM0o1WDNacFpYZEpha1ZGQUFEa0JRQUFFQXdBQUU0eE1HVnRjMk55YVhCMFpXNHhNVzFsYlc5eWVWOTJhV1YzU1d4RlJRQUE1QVVBQURnTUFBQk9NVEJsYlhOamNtbHdkR1Z1TVRGdFpXMXZjbmxmZG1sbGQwbHRSVVVBQU9RRkFBQmdEQUFBVGpFd1pXMXpZM0pwY0hSbGJqRXhiV1Z0YjNKNVgzWnBaWGRKZUVWRkFBRGtCUUFBaUF3QUFFNHhNR1Z0YzJOeWFYQjBaVzR4TVcxbGJXOXllVjkyYVdWM1NYbEZSUUFBNUFVQUFMQU1BQUJPTVRCbGJYTmpjbWx3ZEdWdU1URnRaVzF2Y25sZmRtbGxkMGxtUlVVQUFPUUZBQURZREFBQVRqRXdaVzF6WTNKcGNIUmxiakV4YldWdGIzSjVYM1pwWlhkSlpFVkZBQURrQlFBQUFBMEFRYWdhQ3dNd0R3RT0iO2Z1bmN0aW9uIGdldEJpbmFyeVN5bmMoZmlsZSl7aWYoZmlsZT09d2FzbUJpbmFyeUZpbGUmJndhc21CaW5hcnkpe3JldHVybiBuZXcgVWludDhBcnJheSh3YXNtQmluYXJ5KX12YXIgYmluYXJ5PXRyeVBhcnNlQXNEYXRhVVJJKGZpbGUpO2lmKGJpbmFyeSl7cmV0dXJuIGJpbmFyeX1pZihyZWFkQmluYXJ5KXtyZXR1cm4gcmVhZEJpbmFyeShmaWxlKX10aHJvdyAiYm90aCBhc3luYyBhbmQgc3luYyBmZXRjaGluZyBvZiB0aGUgd2FzbSBmYWlsZWQifWZ1bmN0aW9uIGdldEJpbmFyeVByb21pc2UoYmluYXJ5RmlsZSl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCk9PmdldEJpbmFyeVN5bmMoYmluYXJ5RmlsZSkpfWZ1bmN0aW9uIGluc3RhbnRpYXRlQXJyYXlCdWZmZXIoYmluYXJ5RmlsZSxpbXBvcnRzLHJlY2VpdmVyKXtyZXR1cm4gZ2V0QmluYXJ5UHJvbWlzZShiaW5hcnlGaWxlKS50aGVuKGJpbmFyeT0+V2ViQXNzZW1ibHkuaW5zdGFudGlhdGUoYmluYXJ5LGltcG9ydHMpKS50aGVuKHJlY2VpdmVyLHJlYXNvbj0+e2VycihgZmFpbGVkIHRvIGFzeW5jaHJvbm91c2x5IHByZXBhcmUgd2FzbTogJHtyZWFzb259YCk7YWJvcnQocmVhc29uKTt9KX1mdW5jdGlvbiBpbnN0YW50aWF0ZUFzeW5jKGJpbmFyeSxiaW5hcnlGaWxlLGltcG9ydHMsY2FsbGJhY2spe3JldHVybiBpbnN0YW50aWF0ZUFycmF5QnVmZmVyKGJpbmFyeUZpbGUsaW1wb3J0cyxjYWxsYmFjayl9ZnVuY3Rpb24gY3JlYXRlV2FzbSgpe3ZhciBpbmZvPXsiYSI6d2FzbUltcG9ydHN9O2Z1bmN0aW9uIHJlY2VpdmVJbnN0YW5jZShpbnN0YW5jZSxtb2R1bGUpe3dhc21FeHBvcnRzPWluc3RhbmNlLmV4cG9ydHM7d2FzbU1lbW9yeT13YXNtRXhwb3J0c1siayJdO3VwZGF0ZU1lbW9yeVZpZXdzKCk7YWRkT25Jbml0KHdhc21FeHBvcnRzWyJsIl0pO3JlbW92ZVJ1bkRlcGVuZGVuY3koKTtyZXR1cm4gd2FzbUV4cG9ydHN9YWRkUnVuRGVwZW5kZW5jeSgpO2Z1bmN0aW9uIHJlY2VpdmVJbnN0YW50aWF0aW9uUmVzdWx0KHJlc3VsdCl7cmVjZWl2ZUluc3RhbmNlKHJlc3VsdFsiaW5zdGFuY2UiXSk7fWlmKE1vZHVsZVsiaW5zdGFudGlhdGVXYXNtIl0pe3RyeXtyZXR1cm4gTW9kdWxlWyJpbnN0YW50aWF0ZVdhc20iXShpbmZvLHJlY2VpdmVJbnN0YW5jZSl9Y2F0Y2goZSl7ZXJyKGBNb2R1bGUuaW5zdGFudGlhdGVXYXNtIGNhbGxiYWNrIGZhaWxlZCB3aXRoIGVycm9yOiAke2V9YCk7cmVhZHlQcm9taXNlUmVqZWN0KGUpO319aW5zdGFudGlhdGVBc3luYyh3YXNtQmluYXJ5LHdhc21CaW5hcnlGaWxlLGluZm8scmVjZWl2ZUluc3RhbnRpYXRpb25SZXN1bHQpLmNhdGNoKHJlYWR5UHJvbWlzZVJlamVjdCk7cmV0dXJuIHt9fXZhciBjYWxsUnVudGltZUNhbGxiYWNrcz1jYWxsYmFja3M9Pnt3aGlsZShjYWxsYmFja3MubGVuZ3RoPjApe2NhbGxiYWNrcy5zaGlmdCgpKE1vZHVsZSk7fX07TW9kdWxlWyJub0V4aXRSdW50aW1lIl18fHRydWU7dmFyIF9fZW1iaW5kX3JlZ2lzdGVyX2JpZ2ludD0ocHJpbWl0aXZlVHlwZSxuYW1lLHNpemUsbWluUmFuZ2UsbWF4UmFuZ2UpPT57fTt2YXIgZW1iaW5kX2luaXRfY2hhckNvZGVzPSgpPT57dmFyIGNvZGVzPW5ldyBBcnJheSgyNTYpO2Zvcih2YXIgaT0wO2k8MjU2OysraSl7Y29kZXNbaV09U3RyaW5nLmZyb21DaGFyQ29kZShpKTt9ZW1iaW5kX2NoYXJDb2Rlcz1jb2Rlczt9O3ZhciBlbWJpbmRfY2hhckNvZGVzO3ZhciByZWFkTGF0aW4xU3RyaW5nPXB0cj0+e3ZhciByZXQ9IiI7dmFyIGM9cHRyO3doaWxlKEhFQVBVOFtjXSl7cmV0Kz1lbWJpbmRfY2hhckNvZGVzW0hFQVBVOFtjKytdXTt9cmV0dXJuIHJldH07dmFyIGF3YWl0aW5nRGVwZW5kZW5jaWVzPXt9O3ZhciByZWdpc3RlcmVkVHlwZXM9e307dmFyIEJpbmRpbmdFcnJvcjt2YXIgdGhyb3dCaW5kaW5nRXJyb3I9bWVzc2FnZT0+e3Rocm93IG5ldyBCaW5kaW5nRXJyb3IobWVzc2FnZSl9O2Z1bmN0aW9uIHNoYXJlZFJlZ2lzdGVyVHlwZShyYXdUeXBlLHJlZ2lzdGVyZWRJbnN0YW5jZSxvcHRpb25zPXt9KXt2YXIgbmFtZT1yZWdpc3RlcmVkSW5zdGFuY2UubmFtZTtpZighcmF3VHlwZSl7dGhyb3dCaW5kaW5nRXJyb3IoYHR5cGUgIiR7bmFtZX0iIG11c3QgaGF2ZSBhIHBvc2l0aXZlIGludGVnZXIgdHlwZWlkIHBvaW50ZXJgKTt9aWYocmVnaXN0ZXJlZFR5cGVzLmhhc093blByb3BlcnR5KHJhd1R5cGUpKXtpZihvcHRpb25zLmlnbm9yZUR1cGxpY2F0ZVJlZ2lzdHJhdGlvbnMpe3JldHVybn1lbHNlIHt0aHJvd0JpbmRpbmdFcnJvcihgQ2Fubm90IHJlZ2lzdGVyIHR5cGUgJyR7bmFtZX0nIHR3aWNlYCk7fX1yZWdpc3RlcmVkVHlwZXNbcmF3VHlwZV09cmVnaXN0ZXJlZEluc3RhbmNlO2lmKGF3YWl0aW5nRGVwZW5kZW5jaWVzLmhhc093blByb3BlcnR5KHJhd1R5cGUpKXt2YXIgY2FsbGJhY2tzPWF3YWl0aW5nRGVwZW5kZW5jaWVzW3Jhd1R5cGVdO2RlbGV0ZSBhd2FpdGluZ0RlcGVuZGVuY2llc1tyYXdUeXBlXTtjYWxsYmFja3MuZm9yRWFjaChjYj0+Y2IoKSk7fX1mdW5jdGlvbiByZWdpc3RlclR5cGUocmF3VHlwZSxyZWdpc3RlcmVkSW5zdGFuY2Usb3B0aW9ucz17fSl7aWYoISgiYXJnUGFja0FkdmFuY2UiaW4gcmVnaXN0ZXJlZEluc3RhbmNlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcigicmVnaXN0ZXJUeXBlIHJlZ2lzdGVyZWRJbnN0YW5jZSByZXF1aXJlcyBhcmdQYWNrQWR2YW5jZSIpfXJldHVybiBzaGFyZWRSZWdpc3RlclR5cGUocmF3VHlwZSxyZWdpc3RlcmVkSW5zdGFuY2Usb3B0aW9ucyl9dmFyIEdlbmVyaWNXaXJlVHlwZVNpemU9ODt2YXIgX19lbWJpbmRfcmVnaXN0ZXJfYm9vbD0ocmF3VHlwZSxuYW1lLHRydWVWYWx1ZSxmYWxzZVZhbHVlKT0+e25hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTtyZWdpc3RlclR5cGUocmF3VHlwZSx7bmFtZTpuYW1lLCJmcm9tV2lyZVR5cGUiOmZ1bmN0aW9uKHd0KXtyZXR1cm4gISF3dH0sInRvV2lyZVR5cGUiOmZ1bmN0aW9uKGRlc3RydWN0b3JzLG8pe3JldHVybiBvP3RydWVWYWx1ZTpmYWxzZVZhbHVlfSwiYXJnUGFja0FkdmFuY2UiOkdlbmVyaWNXaXJlVHlwZVNpemUsInJlYWRWYWx1ZUZyb21Qb2ludGVyIjpmdW5jdGlvbihwb2ludGVyKXtyZXR1cm4gdGhpc1siZnJvbVdpcmVUeXBlIl0oSEVBUFU4W3BvaW50ZXJdKX0sZGVzdHJ1Y3RvckZ1bmN0aW9uOm51bGx9KTt9O3ZhciBlbXZhbF9mcmVlbGlzdD1bXTt2YXIgZW12YWxfaGFuZGxlcz1bXTt2YXIgX19lbXZhbF9kZWNyZWY9aGFuZGxlPT57aWYoaGFuZGxlPjkmJjA9PT0tLWVtdmFsX2hhbmRsZXNbaGFuZGxlKzFdKXtlbXZhbF9oYW5kbGVzW2hhbmRsZV09dW5kZWZpbmVkO2VtdmFsX2ZyZWVsaXN0LnB1c2goaGFuZGxlKTt9fTt2YXIgY291bnRfZW12YWxfaGFuZGxlcz0oKT0+ZW12YWxfaGFuZGxlcy5sZW5ndGgvMi01LWVtdmFsX2ZyZWVsaXN0Lmxlbmd0aDt2YXIgaW5pdF9lbXZhbD0oKT0+e2VtdmFsX2hhbmRsZXMucHVzaCgwLDEsdW5kZWZpbmVkLDEsbnVsbCwxLHRydWUsMSxmYWxzZSwxKTtNb2R1bGVbImNvdW50X2VtdmFsX2hhbmRsZXMiXT1jb3VudF9lbXZhbF9oYW5kbGVzO307dmFyIEVtdmFsPXt0b1ZhbHVlOmhhbmRsZT0+e2lmKCFoYW5kbGUpe3Rocm93QmluZGluZ0Vycm9yKCJDYW5ub3QgdXNlIGRlbGV0ZWQgdmFsLiBoYW5kbGUgPSAiK2hhbmRsZSk7fXJldHVybiBlbXZhbF9oYW5kbGVzW2hhbmRsZV19LHRvSGFuZGxlOnZhbHVlPT57c3dpdGNoKHZhbHVlKXtjYXNlIHVuZGVmaW5lZDpyZXR1cm4gMjtjYXNlIG51bGw6cmV0dXJuIDQ7Y2FzZSB0cnVlOnJldHVybiA2O2Nhc2UgZmFsc2U6cmV0dXJuIDg7ZGVmYXVsdDp7Y29uc3QgaGFuZGxlPWVtdmFsX2ZyZWVsaXN0LnBvcCgpfHxlbXZhbF9oYW5kbGVzLmxlbmd0aDtlbXZhbF9oYW5kbGVzW2hhbmRsZV09dmFsdWU7ZW12YWxfaGFuZGxlc1toYW5kbGUrMV09MTtyZXR1cm4gaGFuZGxlfX19fTtmdW5jdGlvbiByZWFkUG9pbnRlcihwb2ludGVyKXtyZXR1cm4gdGhpc1siZnJvbVdpcmVUeXBlIl0oSEVBUFUzMltwb2ludGVyPj4yXSl9dmFyIEVtVmFsVHlwZT17bmFtZToiZW1zY3JpcHRlbjo6dmFsIiwiZnJvbVdpcmVUeXBlIjpoYW5kbGU9Pnt2YXIgcnY9RW12YWwudG9WYWx1ZShoYW5kbGUpO19fZW12YWxfZGVjcmVmKGhhbmRsZSk7cmV0dXJuIHJ2fSwidG9XaXJlVHlwZSI6KGRlc3RydWN0b3JzLHZhbHVlKT0+RW12YWwudG9IYW5kbGUodmFsdWUpLCJhcmdQYWNrQWR2YW5jZSI6R2VuZXJpY1dpcmVUeXBlU2l6ZSwicmVhZFZhbHVlRnJvbVBvaW50ZXIiOnJlYWRQb2ludGVyLGRlc3RydWN0b3JGdW5jdGlvbjpudWxsfTt2YXIgX19lbWJpbmRfcmVnaXN0ZXJfZW12YWw9cmF3VHlwZT0+cmVnaXN0ZXJUeXBlKHJhd1R5cGUsRW1WYWxUeXBlKTt2YXIgZmxvYXRSZWFkVmFsdWVGcm9tUG9pbnRlcj0obmFtZSx3aWR0aCk9Pntzd2l0Y2god2lkdGgpe2Nhc2UgNDpyZXR1cm4gZnVuY3Rpb24ocG9pbnRlcil7cmV0dXJuIHRoaXNbImZyb21XaXJlVHlwZSJdKEhFQVBGMzJbcG9pbnRlcj4+Ml0pfTtjYXNlIDg6cmV0dXJuIGZ1bmN0aW9uKHBvaW50ZXIpe3JldHVybiB0aGlzWyJmcm9tV2lyZVR5cGUiXShIRUFQRjY0W3BvaW50ZXI+PjNdKX07ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKGBpbnZhbGlkIGZsb2F0IHdpZHRoICgke3dpZHRofSk6ICR7bmFtZX1gKX19O3ZhciBfX2VtYmluZF9yZWdpc3Rlcl9mbG9hdD0ocmF3VHlwZSxuYW1lLHNpemUpPT57bmFtZT1yZWFkTGF0aW4xU3RyaW5nKG5hbWUpO3JlZ2lzdGVyVHlwZShyYXdUeXBlLHtuYW1lOm5hbWUsImZyb21XaXJlVHlwZSI6dmFsdWU9PnZhbHVlLCJ0b1dpcmVUeXBlIjooZGVzdHJ1Y3RvcnMsdmFsdWUpPT52YWx1ZSwiYXJnUGFja0FkdmFuY2UiOkdlbmVyaWNXaXJlVHlwZVNpemUsInJlYWRWYWx1ZUZyb21Qb2ludGVyIjpmbG9hdFJlYWRWYWx1ZUZyb21Qb2ludGVyKG5hbWUsc2l6ZSksZGVzdHJ1Y3RvckZ1bmN0aW9uOm51bGx9KTt9O3ZhciBpbnRlZ2VyUmVhZFZhbHVlRnJvbVBvaW50ZXI9KG5hbWUsd2lkdGgsc2lnbmVkKT0+e3N3aXRjaCh3aWR0aCl7Y2FzZSAxOnJldHVybiBzaWduZWQ/cG9pbnRlcj0+SEVBUDhbcG9pbnRlcl06cG9pbnRlcj0+SEVBUFU4W3BvaW50ZXJdO2Nhc2UgMjpyZXR1cm4gc2lnbmVkP3BvaW50ZXI9PkhFQVAxNltwb2ludGVyPj4xXTpwb2ludGVyPT5IRUFQVTE2W3BvaW50ZXI+PjFdO2Nhc2UgNDpyZXR1cm4gc2lnbmVkP3BvaW50ZXI9PkhFQVAzMltwb2ludGVyPj4yXTpwb2ludGVyPT5IRUFQVTMyW3BvaW50ZXI+PjJdO2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcihgaW52YWxpZCBpbnRlZ2VyIHdpZHRoICgke3dpZHRofSk6ICR7bmFtZX1gKX19O3ZhciBfX2VtYmluZF9yZWdpc3Rlcl9pbnRlZ2VyPShwcmltaXRpdmVUeXBlLG5hbWUsc2l6ZSxtaW5SYW5nZSxtYXhSYW5nZSk9PntuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7dmFyIGZyb21XaXJlVHlwZT12YWx1ZT0+dmFsdWU7aWYobWluUmFuZ2U9PT0wKXt2YXIgYml0c2hpZnQ9MzItOCpzaXplO2Zyb21XaXJlVHlwZT12YWx1ZT0+dmFsdWU8PGJpdHNoaWZ0Pj4+Yml0c2hpZnQ7fXZhciBpc1Vuc2lnbmVkVHlwZT1uYW1lLmluY2x1ZGVzKCJ1bnNpZ25lZCIpO3ZhciBjaGVja0Fzc2VydGlvbnM9KHZhbHVlLHRvVHlwZU5hbWUpPT57fTt2YXIgdG9XaXJlVHlwZTtpZihpc1Vuc2lnbmVkVHlwZSl7dG9XaXJlVHlwZT1mdW5jdGlvbihkZXN0cnVjdG9ycyx2YWx1ZSl7Y2hlY2tBc3NlcnRpb25zKHZhbHVlLHRoaXMubmFtZSk7cmV0dXJuIHZhbHVlPj4+MH07fWVsc2Uge3RvV2lyZVR5cGU9ZnVuY3Rpb24oZGVzdHJ1Y3RvcnMsdmFsdWUpe2NoZWNrQXNzZXJ0aW9ucyh2YWx1ZSx0aGlzLm5hbWUpO3JldHVybiB2YWx1ZX07fXJlZ2lzdGVyVHlwZShwcmltaXRpdmVUeXBlLHtuYW1lOm5hbWUsImZyb21XaXJlVHlwZSI6ZnJvbVdpcmVUeXBlLCJ0b1dpcmVUeXBlIjp0b1dpcmVUeXBlLCJhcmdQYWNrQWR2YW5jZSI6R2VuZXJpY1dpcmVUeXBlU2l6ZSwicmVhZFZhbHVlRnJvbVBvaW50ZXIiOmludGVnZXJSZWFkVmFsdWVGcm9tUG9pbnRlcihuYW1lLHNpemUsbWluUmFuZ2UhPT0wKSxkZXN0cnVjdG9yRnVuY3Rpb246bnVsbH0pO307dmFyIF9fZW1iaW5kX3JlZ2lzdGVyX21lbW9yeV92aWV3PShyYXdUeXBlLGRhdGFUeXBlSW5kZXgsbmFtZSk9Pnt2YXIgdHlwZU1hcHBpbmc9W0ludDhBcnJheSxVaW50OEFycmF5LEludDE2QXJyYXksVWludDE2QXJyYXksSW50MzJBcnJheSxVaW50MzJBcnJheSxGbG9hdDMyQXJyYXksRmxvYXQ2NEFycmF5XTt2YXIgVEE9dHlwZU1hcHBpbmdbZGF0YVR5cGVJbmRleF07ZnVuY3Rpb24gZGVjb2RlTWVtb3J5VmlldyhoYW5kbGUpe3ZhciBzaXplPUhFQVBVMzJbaGFuZGxlPj4yXTt2YXIgZGF0YT1IRUFQVTMyW2hhbmRsZSs0Pj4yXTtyZXR1cm4gbmV3IFRBKEhFQVA4LmJ1ZmZlcixkYXRhLHNpemUpfW5hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTtyZWdpc3RlclR5cGUocmF3VHlwZSx7bmFtZTpuYW1lLCJmcm9tV2lyZVR5cGUiOmRlY29kZU1lbW9yeVZpZXcsImFyZ1BhY2tBZHZhbmNlIjpHZW5lcmljV2lyZVR5cGVTaXplLCJyZWFkVmFsdWVGcm9tUG9pbnRlciI6ZGVjb2RlTWVtb3J5Vmlld30se2lnbm9yZUR1cGxpY2F0ZVJlZ2lzdHJhdGlvbnM6dHJ1ZX0pO307dmFyIHN0cmluZ1RvVVRGOEFycmF5PShzdHIsaGVhcCxvdXRJZHgsbWF4Qnl0ZXNUb1dyaXRlKT0+e2lmKCEobWF4Qnl0ZXNUb1dyaXRlPjApKXJldHVybiAwO3ZhciBzdGFydElkeD1vdXRJZHg7dmFyIGVuZElkeD1vdXRJZHgrbWF4Qnl0ZXNUb1dyaXRlLTE7Zm9yKHZhciBpPTA7aTxzdHIubGVuZ3RoOysraSl7dmFyIHU9c3RyLmNoYXJDb2RlQXQoaSk7aWYodT49NTUyOTYmJnU8PTU3MzQzKXt2YXIgdTE9c3RyLmNoYXJDb2RlQXQoKytpKTt1PTY1NTM2KygodSYxMDIzKTw8MTApfHUxJjEwMjM7fWlmKHU8PTEyNyl7aWYob3V0SWR4Pj1lbmRJZHgpYnJlYWs7aGVhcFtvdXRJZHgrK109dTt9ZWxzZSBpZih1PD0yMDQ3KXtpZihvdXRJZHgrMT49ZW5kSWR4KWJyZWFrO2hlYXBbb3V0SWR4KytdPTE5Mnx1Pj42O2hlYXBbb3V0SWR4KytdPTEyOHx1JjYzO31lbHNlIGlmKHU8PTY1NTM1KXtpZihvdXRJZHgrMj49ZW5kSWR4KWJyZWFrO2hlYXBbb3V0SWR4KytdPTIyNHx1Pj4xMjtoZWFwW291dElkeCsrXT0xMjh8dT4+NiY2MztoZWFwW291dElkeCsrXT0xMjh8dSY2Mzt9ZWxzZSB7aWYob3V0SWR4KzM+PWVuZElkeClicmVhaztoZWFwW291dElkeCsrXT0yNDB8dT4+MTg7aGVhcFtvdXRJZHgrK109MTI4fHU+PjEyJjYzO2hlYXBbb3V0SWR4KytdPTEyOHx1Pj42JjYzO2hlYXBbb3V0SWR4KytdPTEyOHx1JjYzO319aGVhcFtvdXRJZHhdPTA7cmV0dXJuIG91dElkeC1zdGFydElkeH07dmFyIHN0cmluZ1RvVVRGOD0oc3RyLG91dFB0cixtYXhCeXRlc1RvV3JpdGUpPT5zdHJpbmdUb1VURjhBcnJheShzdHIsSEVBUFU4LG91dFB0cixtYXhCeXRlc1RvV3JpdGUpO3ZhciBsZW5ndGhCeXRlc1VURjg9c3RyPT57dmFyIGxlbj0wO2Zvcih2YXIgaT0wO2k8c3RyLmxlbmd0aDsrK2kpe3ZhciBjPXN0ci5jaGFyQ29kZUF0KGkpO2lmKGM8PTEyNyl7bGVuKys7fWVsc2UgaWYoYzw9MjA0Nyl7bGVuKz0yO31lbHNlIGlmKGM+PTU1Mjk2JiZjPD01NzM0Myl7bGVuKz00OysraTt9ZWxzZSB7bGVuKz0zO319cmV0dXJuIGxlbn07dmFyIFVURjhEZWNvZGVyPXR5cGVvZiBUZXh0RGVjb2RlciE9InVuZGVmaW5lZCI/bmV3IFRleHREZWNvZGVyKCJ1dGY4Iik6dW5kZWZpbmVkO3ZhciBVVEY4QXJyYXlUb1N0cmluZz0oaGVhcE9yQXJyYXksaWR4LG1heEJ5dGVzVG9SZWFkKT0+e3ZhciBlbmRJZHg9aWR4K21heEJ5dGVzVG9SZWFkO3ZhciBlbmRQdHI9aWR4O3doaWxlKGhlYXBPckFycmF5W2VuZFB0cl0mJiEoZW5kUHRyPj1lbmRJZHgpKSsrZW5kUHRyO2lmKGVuZFB0ci1pZHg+MTYmJmhlYXBPckFycmF5LmJ1ZmZlciYmVVRGOERlY29kZXIpe3JldHVybiBVVEY4RGVjb2Rlci5kZWNvZGUoaGVhcE9yQXJyYXkuc3ViYXJyYXkoaWR4LGVuZFB0cikpfXZhciBzdHI9IiI7d2hpbGUoaWR4PGVuZFB0cil7dmFyIHUwPWhlYXBPckFycmF5W2lkeCsrXTtpZighKHUwJjEyOCkpe3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZSh1MCk7Y29udGludWV9dmFyIHUxPWhlYXBPckFycmF5W2lkeCsrXSY2MztpZigodTAmMjI0KT09MTkyKXtzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUoKHUwJjMxKTw8Nnx1MSk7Y29udGludWV9dmFyIHUyPWhlYXBPckFycmF5W2lkeCsrXSY2MztpZigodTAmMjQwKT09MjI0KXt1MD0odTAmMTUpPDwxMnx1MTw8Nnx1Mjt9ZWxzZSB7dTA9KHUwJjcpPDwxOHx1MTw8MTJ8dTI8PDZ8aGVhcE9yQXJyYXlbaWR4KytdJjYzO31pZih1MDw2NTUzNil7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHUwKTt9ZWxzZSB7dmFyIGNoPXUwLTY1NTM2O3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NnxjaD4+MTAsNTYzMjB8Y2gmMTAyMyk7fX1yZXR1cm4gc3RyfTt2YXIgVVRGOFRvU3RyaW5nPShwdHIsbWF4Qnl0ZXNUb1JlYWQpPT5wdHI/VVRGOEFycmF5VG9TdHJpbmcoSEVBUFU4LHB0cixtYXhCeXRlc1RvUmVhZCk6IiI7dmFyIF9fZW1iaW5kX3JlZ2lzdGVyX3N0ZF9zdHJpbmc9KHJhd1R5cGUsbmFtZSk9PntuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7dmFyIHN0ZFN0cmluZ0lzVVRGOD1uYW1lPT09InN0ZDo6c3RyaW5nIjtyZWdpc3RlclR5cGUocmF3VHlwZSx7bmFtZTpuYW1lLCJmcm9tV2lyZVR5cGUiKHZhbHVlKXt2YXIgbGVuZ3RoPUhFQVBVMzJbdmFsdWU+PjJdO3ZhciBwYXlsb2FkPXZhbHVlKzQ7dmFyIHN0cjtpZihzdGRTdHJpbmdJc1VURjgpe3ZhciBkZWNvZGVTdGFydFB0cj1wYXlsb2FkO2Zvcih2YXIgaT0wO2k8PWxlbmd0aDsrK2kpe3ZhciBjdXJyZW50Qnl0ZVB0cj1wYXlsb2FkK2k7aWYoaT09bGVuZ3RofHxIRUFQVThbY3VycmVudEJ5dGVQdHJdPT0wKXt2YXIgbWF4UmVhZD1jdXJyZW50Qnl0ZVB0ci1kZWNvZGVTdGFydFB0cjt2YXIgc3RyaW5nU2VnbWVudD1VVEY4VG9TdHJpbmcoZGVjb2RlU3RhcnRQdHIsbWF4UmVhZCk7aWYoc3RyPT09dW5kZWZpbmVkKXtzdHI9c3RyaW5nU2VnbWVudDt9ZWxzZSB7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDApO3N0cis9c3RyaW5nU2VnbWVudDt9ZGVjb2RlU3RhcnRQdHI9Y3VycmVudEJ5dGVQdHIrMTt9fX1lbHNlIHt2YXIgYT1uZXcgQXJyYXkobGVuZ3RoKTtmb3IodmFyIGk9MDtpPGxlbmd0aDsrK2kpe2FbaV09U3RyaW5nLmZyb21DaGFyQ29kZShIRUFQVThbcGF5bG9hZCtpXSk7fXN0cj1hLmpvaW4oIiIpO31fZnJlZSh2YWx1ZSk7cmV0dXJuIHN0cn0sInRvV2lyZVR5cGUiKGRlc3RydWN0b3JzLHZhbHVlKXtpZih2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXt2YWx1ZT1uZXcgVWludDhBcnJheSh2YWx1ZSk7fXZhciBsZW5ndGg7dmFyIHZhbHVlSXNPZlR5cGVTdHJpbmc9dHlwZW9mIHZhbHVlPT0ic3RyaW5nIjtpZighKHZhbHVlSXNPZlR5cGVTdHJpbmd8fHZhbHVlIGluc3RhbmNlb2YgVWludDhBcnJheXx8dmFsdWUgaW5zdGFuY2VvZiBVaW50OENsYW1wZWRBcnJheXx8dmFsdWUgaW5zdGFuY2VvZiBJbnQ4QXJyYXkpKXt0aHJvd0JpbmRpbmdFcnJvcigiQ2Fubm90IHBhc3Mgbm9uLXN0cmluZyB0byBzdGQ6OnN0cmluZyIpO31pZihzdGRTdHJpbmdJc1VURjgmJnZhbHVlSXNPZlR5cGVTdHJpbmcpe2xlbmd0aD1sZW5ndGhCeXRlc1VURjgodmFsdWUpO31lbHNlIHtsZW5ndGg9dmFsdWUubGVuZ3RoO312YXIgYmFzZT1fbWFsbG9jKDQrbGVuZ3RoKzEpO3ZhciBwdHI9YmFzZSs0O0hFQVBVMzJbYmFzZT4+Ml09bGVuZ3RoO2lmKHN0ZFN0cmluZ0lzVVRGOCYmdmFsdWVJc09mVHlwZVN0cmluZyl7c3RyaW5nVG9VVEY4KHZhbHVlLHB0cixsZW5ndGgrMSk7fWVsc2Uge2lmKHZhbHVlSXNPZlR5cGVTdHJpbmcpe2Zvcih2YXIgaT0wO2k8bGVuZ3RoOysraSl7dmFyIGNoYXJDb2RlPXZhbHVlLmNoYXJDb2RlQXQoaSk7aWYoY2hhckNvZGU+MjU1KXtfZnJlZShwdHIpO3Rocm93QmluZGluZ0Vycm9yKCJTdHJpbmcgaGFzIFVURi0xNiBjb2RlIHVuaXRzIHRoYXQgZG8gbm90IGZpdCBpbiA4IGJpdHMiKTt9SEVBUFU4W3B0citpXT1jaGFyQ29kZTt9fWVsc2Uge2Zvcih2YXIgaT0wO2k8bGVuZ3RoOysraSl7SEVBUFU4W3B0citpXT12YWx1ZVtpXTt9fX1pZihkZXN0cnVjdG9ycyE9PW51bGwpe2Rlc3RydWN0b3JzLnB1c2goX2ZyZWUsYmFzZSk7fXJldHVybiBiYXNlfSwiYXJnUGFja0FkdmFuY2UiOkdlbmVyaWNXaXJlVHlwZVNpemUsInJlYWRWYWx1ZUZyb21Qb2ludGVyIjpyZWFkUG9pbnRlcixkZXN0cnVjdG9yRnVuY3Rpb24ocHRyKXtfZnJlZShwdHIpO319KTt9O3ZhciBVVEYxNkRlY29kZXI9dHlwZW9mIFRleHREZWNvZGVyIT0idW5kZWZpbmVkIj9uZXcgVGV4dERlY29kZXIoInV0Zi0xNmxlIik6dW5kZWZpbmVkO3ZhciBVVEYxNlRvU3RyaW5nPShwdHIsbWF4Qnl0ZXNUb1JlYWQpPT57dmFyIGVuZFB0cj1wdHI7dmFyIGlkeD1lbmRQdHI+PjE7dmFyIG1heElkeD1pZHgrbWF4Qnl0ZXNUb1JlYWQvMjt3aGlsZSghKGlkeD49bWF4SWR4KSYmSEVBUFUxNltpZHhdKSsraWR4O2VuZFB0cj1pZHg8PDE7aWYoZW5kUHRyLXB0cj4zMiYmVVRGMTZEZWNvZGVyKXJldHVybiBVVEYxNkRlY29kZXIuZGVjb2RlKEhFQVBVOC5zdWJhcnJheShwdHIsZW5kUHRyKSk7dmFyIHN0cj0iIjtmb3IodmFyIGk9MDshKGk+PW1heEJ5dGVzVG9SZWFkLzIpOysraSl7dmFyIGNvZGVVbml0PUhFQVAxNltwdHIraSoyPj4xXTtpZihjb2RlVW5pdD09MClicmVhaztzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUoY29kZVVuaXQpO31yZXR1cm4gc3RyfTt2YXIgc3RyaW5nVG9VVEYxNj0oc3RyLG91dFB0cixtYXhCeXRlc1RvV3JpdGUpPT57bWF4Qnl0ZXNUb1dyaXRlPz89MjE0NzQ4MzY0NztpZihtYXhCeXRlc1RvV3JpdGU8MilyZXR1cm4gMDttYXhCeXRlc1RvV3JpdGUtPTI7dmFyIHN0YXJ0UHRyPW91dFB0cjt2YXIgbnVtQ2hhcnNUb1dyaXRlPW1heEJ5dGVzVG9Xcml0ZTxzdHIubGVuZ3RoKjI/bWF4Qnl0ZXNUb1dyaXRlLzI6c3RyLmxlbmd0aDtmb3IodmFyIGk9MDtpPG51bUNoYXJzVG9Xcml0ZTsrK2kpe3ZhciBjb2RlVW5pdD1zdHIuY2hhckNvZGVBdChpKTtIRUFQMTZbb3V0UHRyPj4xXT1jb2RlVW5pdDtvdXRQdHIrPTI7fUhFQVAxNltvdXRQdHI+PjFdPTA7cmV0dXJuIG91dFB0ci1zdGFydFB0cn07dmFyIGxlbmd0aEJ5dGVzVVRGMTY9c3RyPT5zdHIubGVuZ3RoKjI7dmFyIFVURjMyVG9TdHJpbmc9KHB0cixtYXhCeXRlc1RvUmVhZCk9Pnt2YXIgaT0wO3ZhciBzdHI9IiI7d2hpbGUoIShpPj1tYXhCeXRlc1RvUmVhZC80KSl7dmFyIHV0ZjMyPUhFQVAzMltwdHIraSo0Pj4yXTtpZih1dGYzMj09MClicmVhazsrK2k7aWYodXRmMzI+PTY1NTM2KXt2YXIgY2g9dXRmMzItNjU1MzY7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2fGNoPj4xMCw1NjMyMHxjaCYxMDIzKTt9ZWxzZSB7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHV0ZjMyKTt9fXJldHVybiBzdHJ9O3ZhciBzdHJpbmdUb1VURjMyPShzdHIsb3V0UHRyLG1heEJ5dGVzVG9Xcml0ZSk9PnttYXhCeXRlc1RvV3JpdGU/Pz0yMTQ3NDgzNjQ3O2lmKG1heEJ5dGVzVG9Xcml0ZTw0KXJldHVybiAwO3ZhciBzdGFydFB0cj1vdXRQdHI7dmFyIGVuZFB0cj1zdGFydFB0cittYXhCeXRlc1RvV3JpdGUtNDtmb3IodmFyIGk9MDtpPHN0ci5sZW5ndGg7KytpKXt2YXIgY29kZVVuaXQ9c3RyLmNoYXJDb2RlQXQoaSk7aWYoY29kZVVuaXQ+PTU1Mjk2JiZjb2RlVW5pdDw9NTczNDMpe3ZhciB0cmFpbFN1cnJvZ2F0ZT1zdHIuY2hhckNvZGVBdCgrK2kpO2NvZGVVbml0PTY1NTM2KygoY29kZVVuaXQmMTAyMyk8PDEwKXx0cmFpbFN1cnJvZ2F0ZSYxMDIzO31IRUFQMzJbb3V0UHRyPj4yXT1jb2RlVW5pdDtvdXRQdHIrPTQ7aWYob3V0UHRyKzQ+ZW5kUHRyKWJyZWFrfUhFQVAzMltvdXRQdHI+PjJdPTA7cmV0dXJuIG91dFB0ci1zdGFydFB0cn07dmFyIGxlbmd0aEJ5dGVzVVRGMzI9c3RyPT57dmFyIGxlbj0wO2Zvcih2YXIgaT0wO2k8c3RyLmxlbmd0aDsrK2kpe3ZhciBjb2RlVW5pdD1zdHIuY2hhckNvZGVBdChpKTtpZihjb2RlVW5pdD49NTUyOTYmJmNvZGVVbml0PD01NzM0MykrK2k7bGVuKz00O31yZXR1cm4gbGVufTt2YXIgX19lbWJpbmRfcmVnaXN0ZXJfc3RkX3dzdHJpbmc9KHJhd1R5cGUsY2hhclNpemUsbmFtZSk9PntuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7dmFyIGRlY29kZVN0cmluZyxlbmNvZGVTdHJpbmcscmVhZENoYXJBdCxsZW5ndGhCeXRlc1VURjtpZihjaGFyU2l6ZT09PTIpe2RlY29kZVN0cmluZz1VVEYxNlRvU3RyaW5nO2VuY29kZVN0cmluZz1zdHJpbmdUb1VURjE2O2xlbmd0aEJ5dGVzVVRGPWxlbmd0aEJ5dGVzVVRGMTY7cmVhZENoYXJBdD1wb2ludGVyPT5IRUFQVTE2W3BvaW50ZXI+PjFdO31lbHNlIGlmKGNoYXJTaXplPT09NCl7ZGVjb2RlU3RyaW5nPVVURjMyVG9TdHJpbmc7ZW5jb2RlU3RyaW5nPXN0cmluZ1RvVVRGMzI7bGVuZ3RoQnl0ZXNVVEY9bGVuZ3RoQnl0ZXNVVEYzMjtyZWFkQ2hhckF0PXBvaW50ZXI9PkhFQVBVMzJbcG9pbnRlcj4+Ml07fXJlZ2lzdGVyVHlwZShyYXdUeXBlLHtuYW1lOm5hbWUsImZyb21XaXJlVHlwZSI6dmFsdWU9Pnt2YXIgbGVuZ3RoPUhFQVBVMzJbdmFsdWU+PjJdO3ZhciBzdHI7dmFyIGRlY29kZVN0YXJ0UHRyPXZhbHVlKzQ7Zm9yKHZhciBpPTA7aTw9bGVuZ3RoOysraSl7dmFyIGN1cnJlbnRCeXRlUHRyPXZhbHVlKzQraSpjaGFyU2l6ZTtpZihpPT1sZW5ndGh8fHJlYWRDaGFyQXQoY3VycmVudEJ5dGVQdHIpPT0wKXt2YXIgbWF4UmVhZEJ5dGVzPWN1cnJlbnRCeXRlUHRyLWRlY29kZVN0YXJ0UHRyO3ZhciBzdHJpbmdTZWdtZW50PWRlY29kZVN0cmluZyhkZWNvZGVTdGFydFB0cixtYXhSZWFkQnl0ZXMpO2lmKHN0cj09PXVuZGVmaW5lZCl7c3RyPXN0cmluZ1NlZ21lbnQ7fWVsc2Uge3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZSgwKTtzdHIrPXN0cmluZ1NlZ21lbnQ7fWRlY29kZVN0YXJ0UHRyPWN1cnJlbnRCeXRlUHRyK2NoYXJTaXplO319X2ZyZWUodmFsdWUpO3JldHVybiBzdHJ9LCJ0b1dpcmVUeXBlIjooZGVzdHJ1Y3RvcnMsdmFsdWUpPT57aWYoISh0eXBlb2YgdmFsdWU9PSJzdHJpbmciKSl7dGhyb3dCaW5kaW5nRXJyb3IoYENhbm5vdCBwYXNzIG5vbi1zdHJpbmcgdG8gQysrIHN0cmluZyB0eXBlICR7bmFtZX1gKTt9dmFyIGxlbmd0aD1sZW5ndGhCeXRlc1VURih2YWx1ZSk7dmFyIHB0cj1fbWFsbG9jKDQrbGVuZ3RoK2NoYXJTaXplKTtIRUFQVTMyW3B0cj4+Ml09bGVuZ3RoL2NoYXJTaXplO2VuY29kZVN0cmluZyh2YWx1ZSxwdHIrNCxsZW5ndGgrY2hhclNpemUpO2lmKGRlc3RydWN0b3JzIT09bnVsbCl7ZGVzdHJ1Y3RvcnMucHVzaChfZnJlZSxwdHIpO31yZXR1cm4gcHRyfSwiYXJnUGFja0FkdmFuY2UiOkdlbmVyaWNXaXJlVHlwZVNpemUsInJlYWRWYWx1ZUZyb21Qb2ludGVyIjpyZWFkUG9pbnRlcixkZXN0cnVjdG9yRnVuY3Rpb24ocHRyKXtfZnJlZShwdHIpO319KTt9O3ZhciBfX2VtYmluZF9yZWdpc3Rlcl92b2lkPShyYXdUeXBlLG5hbWUpPT57bmFtZT1yZWFkTGF0aW4xU3RyaW5nKG5hbWUpO3JlZ2lzdGVyVHlwZShyYXdUeXBlLHtpc1ZvaWQ6dHJ1ZSxuYW1lOm5hbWUsImFyZ1BhY2tBZHZhbmNlIjowLCJmcm9tV2lyZVR5cGUiOigpPT51bmRlZmluZWQsInRvV2lyZVR5cGUiOihkZXN0cnVjdG9ycyxvKT0+dW5kZWZpbmVkfSk7fTt2YXIgZ2V0SGVhcE1heD0oKT0+MjE0NzQ4MzY0ODt2YXIgZ3Jvd01lbW9yeT1zaXplPT57dmFyIGI9d2FzbU1lbW9yeS5idWZmZXI7dmFyIHBhZ2VzPShzaXplLWIuYnl0ZUxlbmd0aCs2NTUzNSkvNjU1MzY7dHJ5e3dhc21NZW1vcnkuZ3JvdyhwYWdlcyk7dXBkYXRlTWVtb3J5Vmlld3MoKTtyZXR1cm4gMX1jYXRjaChlKXt9fTt2YXIgX2Vtc2NyaXB0ZW5fcmVzaXplX2hlYXA9cmVxdWVzdGVkU2l6ZT0+e3ZhciBvbGRTaXplPUhFQVBVOC5sZW5ndGg7cmVxdWVzdGVkU2l6ZT4+Pj0wO3ZhciBtYXhIZWFwU2l6ZT1nZXRIZWFwTWF4KCk7aWYocmVxdWVzdGVkU2l6ZT5tYXhIZWFwU2l6ZSl7cmV0dXJuIGZhbHNlfXZhciBhbGlnblVwPSh4LG11bHRpcGxlKT0+eCsobXVsdGlwbGUteCVtdWx0aXBsZSklbXVsdGlwbGU7Zm9yKHZhciBjdXREb3duPTE7Y3V0RG93bjw9NDtjdXREb3duKj0yKXt2YXIgb3Zlckdyb3duSGVhcFNpemU9b2xkU2l6ZSooMSsuMi9jdXREb3duKTtvdmVyR3Jvd25IZWFwU2l6ZT1NYXRoLm1pbihvdmVyR3Jvd25IZWFwU2l6ZSxyZXF1ZXN0ZWRTaXplKzEwMDY2MzI5Nik7dmFyIG5ld1NpemU9TWF0aC5taW4obWF4SGVhcFNpemUsYWxpZ25VcChNYXRoLm1heChyZXF1ZXN0ZWRTaXplLG92ZXJHcm93bkhlYXBTaXplKSw2NTUzNikpO3ZhciByZXBsYWNlbWVudD1ncm93TWVtb3J5KG5ld1NpemUpO2lmKHJlcGxhY2VtZW50KXtyZXR1cm4gdHJ1ZX19cmV0dXJuIGZhbHNlfTtlbWJpbmRfaW5pdF9jaGFyQ29kZXMoKTtCaW5kaW5nRXJyb3I9TW9kdWxlWyJCaW5kaW5nRXJyb3IiXT1jbGFzcyBCaW5kaW5nRXJyb3IgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihtZXNzYWdlKXtzdXBlcihtZXNzYWdlKTt0aGlzLm5hbWU9IkJpbmRpbmdFcnJvciI7fX07TW9kdWxlWyJJbnRlcm5hbEVycm9yIl09Y2xhc3MgSW50ZXJuYWxFcnJvciBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKG1lc3NhZ2Upe3N1cGVyKG1lc3NhZ2UpO3RoaXMubmFtZT0iSW50ZXJuYWxFcnJvciI7fX07aW5pdF9lbXZhbCgpO3ZhciB3YXNtSW1wb3J0cz17ZjpfX2VtYmluZF9yZWdpc3Rlcl9iaWdpbnQsaDpfX2VtYmluZF9yZWdpc3Rlcl9ib29sLGc6X19lbWJpbmRfcmVnaXN0ZXJfZW12YWwsZTpfX2VtYmluZF9yZWdpc3Rlcl9mbG9hdCxiOl9fZW1iaW5kX3JlZ2lzdGVyX2ludGVnZXIsYTpfX2VtYmluZF9yZWdpc3Rlcl9tZW1vcnlfdmlldyxkOl9fZW1iaW5kX3JlZ2lzdGVyX3N0ZF9zdHJpbmcsYzpfX2VtYmluZF9yZWdpc3Rlcl9zdGRfd3N0cmluZyxpOl9fZW1iaW5kX3JlZ2lzdGVyX3ZvaWQsajpfZW1zY3JpcHRlbl9yZXNpemVfaGVhcH07dmFyIHdhc21FeHBvcnRzPWNyZWF0ZVdhc20oKTtNb2R1bGVbIl9wYWNrIl09KGEwLGExLGEyLGEzLGE0LGE1LGE2LGE3LGE4LGE5LGExMCxhMTEpPT4oTW9kdWxlWyJfcGFjayJdPXdhc21FeHBvcnRzWyJtIl0pKGEwLGExLGEyLGEzLGE0LGE1LGE2LGE3LGE4LGE5LGExMCxhMTEpO3ZhciBfbWFsbG9jPU1vZHVsZVsiX21hbGxvYyJdPWEwPT4oX21hbGxvYz1Nb2R1bGVbIl9tYWxsb2MiXT13YXNtRXhwb3J0c1sibyJdKShhMCk7dmFyIF9mcmVlPU1vZHVsZVsiX2ZyZWUiXT1hMD0+KF9mcmVlPU1vZHVsZVsiX2ZyZWUiXT13YXNtRXhwb3J0c1sicCJdKShhMCk7dmFyIGNhbGxlZFJ1bjtkZXBlbmRlbmNpZXNGdWxmaWxsZWQ9ZnVuY3Rpb24gcnVuQ2FsbGVyKCl7aWYoIWNhbGxlZFJ1bilydW4oKTtpZighY2FsbGVkUnVuKWRlcGVuZGVuY2llc0Z1bGZpbGxlZD1ydW5DYWxsZXI7fTtmdW5jdGlvbiBydW4oKXtpZihydW5EZXBlbmRlbmNpZXM+MCl7cmV0dXJufXByZVJ1bigpO2lmKHJ1bkRlcGVuZGVuY2llcz4wKXtyZXR1cm59ZnVuY3Rpb24gZG9SdW4oKXtpZihjYWxsZWRSdW4pcmV0dXJuO2NhbGxlZFJ1bj10cnVlO01vZHVsZVsiY2FsbGVkUnVuIl09dHJ1ZTtpZihBQk9SVClyZXR1cm47aW5pdFJ1bnRpbWUoKTtyZWFkeVByb21pc2VSZXNvbHZlKE1vZHVsZSk7aWYoTW9kdWxlWyJvblJ1bnRpbWVJbml0aWFsaXplZCJdKU1vZHVsZVsib25SdW50aW1lSW5pdGlhbGl6ZWQiXSgpO3Bvc3RSdW4oKTt9aWYoTW9kdWxlWyJzZXRTdGF0dXMiXSl7TW9kdWxlWyJzZXRTdGF0dXMiXSgiUnVubmluZy4uLiIpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7TW9kdWxlWyJzZXRTdGF0dXMiXSgiIik7fSwxKTtkb1J1bigpO30sMSk7fWVsc2Uge2RvUnVuKCk7fX1pZihNb2R1bGVbInByZUluaXQiXSl7aWYodHlwZW9mIE1vZHVsZVsicHJlSW5pdCJdPT0iZnVuY3Rpb24iKU1vZHVsZVsicHJlSW5pdCJdPVtNb2R1bGVbInByZUluaXQiXV07d2hpbGUoTW9kdWxlWyJwcmVJbml0Il0ubGVuZ3RoPjApe01vZHVsZVsicHJlSW5pdCJdLnBvcCgpKCk7fX1ydW4oKTsKCgogICAgcmV0dXJuIHJlYWR5UHJvbWlzZQogIH0KICApOwogIH0pKCk7CgogIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55CiAgbGV0IHdhc21Nb2R1bGU7CiAgYXN5bmMgZnVuY3Rpb24gaW5pdFdhc20oKSB7CiAgICAgIHdhc21Nb2R1bGUgPSBhd2FpdCBsb2FkV2FzbSgpOwogIH0KICBsZXQgYWxsb2NhdGVkVmVydGV4Q291bnQgPSAwOwogIGxldCBhbGxvY2F0ZWRSZW5kZXJlZFZlcnRleENvdW50ID0gMDsKICBjb25zdCB1cGRhdGVRdWV1ZSA9IG5ldyBBcnJheSgpOwogIGxldCBydW5uaW5nID0gZmFsc2U7CiAgbGV0IGxvYWRpbmcgPSBmYWxzZTsKICBsZXQgcG9zaXRpb25zUHRyOwogIGxldCByb3RhdGlvbnNQdHI7CiAgbGV0IHNjYWxlc1B0cjsKICBsZXQgY29sb3JzUHRyOwogIGxldCBzZWxlY3Rpb25QdHI7CiAgbGV0IHJlbmRlcmVkUHRyOwogIGxldCBkYXRhUHRyOwogIGxldCB3b3JsZFBvc2l0aW9uc1B0cjsKICBsZXQgd29ybGRSb3RhdGlvbnNQdHI7CiAgbGV0IHdvcmxkU2NhbGVzUHRyOwogIGNvbnN0IHBhY2sgPSBhc3luYyAoc3BsYXQpID0+IHsKICAgICAgd2hpbGUgKGxvYWRpbmcpIHsKICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDApKTsKICAgICAgfQogICAgICBpZiAoIXdhc21Nb2R1bGUpIHsKICAgICAgICAgIGxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgYXdhaXQgaW5pdFdhc20oKTsKICAgICAgICAgIGxvYWRpbmcgPSBmYWxzZTsKICAgICAgfQogICAgICBsZXQgcmVuZGVyZWRTcGxhdHMgPSAwOwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNwbGF0LnJlbmRlcmVkLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBpZiAoc3BsYXQucmVuZGVyZWRbaV0gIT09IDApIHsKICAgICAgICAgICAgICByZW5kZXJlZFNwbGF0cysrOwogICAgICAgICAgfQogICAgICB9CiAgICAgIGNvbnN0IHRhcmdldEFsbG9jYXRlZFZlcnRleENvdW50ID0gTWF0aC5wb3coMiwgTWF0aC5jZWlsKE1hdGgubG9nMihzcGxhdC52ZXJ0ZXhDb3VudCkpKTsKICAgICAgY29uc3QgdGFyZ2V0QWxsb2NhdGVkUmVuZGVyZWRWZXJ0ZXhDb3VudCA9IE1hdGgucG93KDIsIE1hdGguY2VpbChNYXRoLmxvZzIocmVuZGVyZWRTcGxhdHMpKSk7CiAgICAgIGlmICh0YXJnZXRBbGxvY2F0ZWRSZW5kZXJlZFZlcnRleENvdW50ID4gYWxsb2NhdGVkUmVuZGVyZWRWZXJ0ZXhDb3VudCkgewogICAgICAgICAgaWYgKGFsbG9jYXRlZFJlbmRlcmVkVmVydGV4Q291bnQgPiAwKSB7CiAgICAgICAgICAgICAgd2FzbU1vZHVsZS5fZnJlZShwb3NpdGlvbnNQdHIpOwogICAgICAgICAgICAgIHdhc21Nb2R1bGUuX2ZyZWUocm90YXRpb25zUHRyKTsKICAgICAgICAgICAgICB3YXNtTW9kdWxlLl9mcmVlKHNjYWxlc1B0cik7CiAgICAgICAgICAgICAgd2FzbU1vZHVsZS5fZnJlZShjb2xvcnNQdHIpOwogICAgICAgICAgICAgIHdhc21Nb2R1bGUuX2ZyZWUoc2VsZWN0aW9uUHRyKTsKICAgICAgICAgICAgICB3YXNtTW9kdWxlLl9mcmVlKHJlbmRlcmVkUHRyKTsKICAgICAgICAgICAgICB3YXNtTW9kdWxlLl9mcmVlKGRhdGFQdHIpOwogICAgICAgICAgICAgIHdhc21Nb2R1bGUuX2ZyZWUod29ybGRQb3NpdGlvbnNQdHIpOwogICAgICAgICAgICAgIHdhc21Nb2R1bGUuX2ZyZWUod29ybGRSb3RhdGlvbnNQdHIpOwogICAgICAgICAgICAgIHdhc21Nb2R1bGUuX2ZyZWUod29ybGRTY2FsZXNQdHIpOwogICAgICAgICAgfQogICAgICAgICAgYWxsb2NhdGVkVmVydGV4Q291bnQgPSB0YXJnZXRBbGxvY2F0ZWRWZXJ0ZXhDb3VudDsKICAgICAgICAgIGFsbG9jYXRlZFJlbmRlcmVkVmVydGV4Q291bnQgPSB0YXJnZXRBbGxvY2F0ZWRSZW5kZXJlZFZlcnRleENvdW50OwogICAgICAgICAgY29uc29sZS5sb2coImFsbG9jYXRlZFZlcnRleENvdW50OiAiICsgYWxsb2NhdGVkVmVydGV4Q291bnQpOwogICAgICAgICAgY29uc29sZS5sb2coImFsbG9jYXRlZFJlbmRlcmVkVmVydGV4Q291bnQ6ICIgKyBhbGxvY2F0ZWRSZW5kZXJlZFZlcnRleENvdW50KTsKICAgICAgICAgIHBvc2l0aW9uc1B0ciA9IHdhc21Nb2R1bGUuX21hbGxvYygzICogYWxsb2NhdGVkUmVuZGVyZWRWZXJ0ZXhDb3VudCAqIDQpOwogICAgICAgICAgcm90YXRpb25zUHRyID0gd2FzbU1vZHVsZS5fbWFsbG9jKDQgKiBhbGxvY2F0ZWRSZW5kZXJlZFZlcnRleENvdW50ICogNCk7CiAgICAgICAgICBzY2FsZXNQdHIgPSB3YXNtTW9kdWxlLl9tYWxsb2MoMyAqIGFsbG9jYXRlZFJlbmRlcmVkVmVydGV4Q291bnQgKiA0KTsKICAgICAgICAgIGNvbG9yc1B0ciA9IHdhc21Nb2R1bGUuX21hbGxvYyg0ICogYWxsb2NhdGVkUmVuZGVyZWRWZXJ0ZXhDb3VudCk7CiAgICAgICAgICBzZWxlY3Rpb25QdHIgPSB3YXNtTW9kdWxlLl9tYWxsb2MoYWxsb2NhdGVkUmVuZGVyZWRWZXJ0ZXhDb3VudCk7CiAgICAgICAgICByZW5kZXJlZFB0ciA9IHdhc21Nb2R1bGUuX21hbGxvYyhhbGxvY2F0ZWRWZXJ0ZXhDb3VudCk7CiAgICAgICAgICBkYXRhUHRyID0gd2FzbU1vZHVsZS5fbWFsbG9jKDggKiBhbGxvY2F0ZWRSZW5kZXJlZFZlcnRleENvdW50ICogNCk7CiAgICAgICAgICB3b3JsZFBvc2l0aW9uc1B0ciA9IHdhc21Nb2R1bGUuX21hbGxvYygzICogYWxsb2NhdGVkUmVuZGVyZWRWZXJ0ZXhDb3VudCAqIDQpOwogICAgICAgICAgd29ybGRSb3RhdGlvbnNQdHIgPSB3YXNtTW9kdWxlLl9tYWxsb2MoNCAqIGFsbG9jYXRlZFJlbmRlcmVkVmVydGV4Q291bnQgKiA0KTsKICAgICAgICAgIHdvcmxkU2NhbGVzUHRyID0gd2FzbU1vZHVsZS5fbWFsbG9jKDMgKiBhbGxvY2F0ZWRSZW5kZXJlZFZlcnRleENvdW50ICogNCk7CiAgICAgIH0KICAgICAgaWYgKHNwbGF0LnBvc2l0aW9ucy5sZW5ndGggPiBhbGxvY2F0ZWRSZW5kZXJlZFZlcnRleENvdW50ICogMykgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJzcGxhdC5wb3NpdGlvbnMgZXhjZWVkcyBhbGxvY2F0ZWQgbWVtb3J5Iik7CiAgICAgIH0KICAgICAgaWYgKHNwbGF0LnJvdGF0aW9ucy5sZW5ndGggPiBhbGxvY2F0ZWRSZW5kZXJlZFZlcnRleENvdW50ICogNCkgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJzcGxhdC5yb3RhdGlvbnMgZXhjZWVkcyBhbGxvY2F0ZWQgbWVtb3J5Iik7CiAgICAgIH0KICAgICAgaWYgKHNwbGF0LnNjYWxlcy5sZW5ndGggPiBhbGxvY2F0ZWRSZW5kZXJlZFZlcnRleENvdW50ICogMykgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJzcGxhdC5zY2FsZXMgZXhjZWVkcyBhbGxvY2F0ZWQgbWVtb3J5Iik7CiAgICAgIH0KICAgICAgaWYgKHNwbGF0LmNvbG9ycy5sZW5ndGggPiBhbGxvY2F0ZWRSZW5kZXJlZFZlcnRleENvdW50ICogNCkgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJzcGxhdC5jb2xvcnMgZXhjZWVkcyBhbGxvY2F0ZWQgbWVtb3J5Iik7CiAgICAgIH0KICAgICAgaWYgKHNwbGF0LnNlbGVjdGlvbi5sZW5ndGggPiBhbGxvY2F0ZWRSZW5kZXJlZFZlcnRleENvdW50KSB7CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoInNwbGF0LnNlbGVjdGlvbiBleGNlZWRzIGFsbG9jYXRlZCBtZW1vcnkiKTsKICAgICAgfQogICAgICBpZiAoc3BsYXQucmVuZGVyZWQubGVuZ3RoID4gYWxsb2NhdGVkVmVydGV4Q291bnQpIHsKICAgICAgICAgIHRocm93IG5ldyBFcnJvcigic3BsYXQucmVuZGVyZWQgZXhjZWVkcyBhbGxvY2F0ZWQgbWVtb3J5Iik7CiAgICAgIH0KICAgICAgd2FzbU1vZHVsZS5IRUFQRjMyLnNldChzcGxhdC5wb3NpdGlvbnMsIHBvc2l0aW9uc1B0ciAvIDQpOwogICAgICB3YXNtTW9kdWxlLkhFQVBGMzIuc2V0KHNwbGF0LnJvdGF0aW9ucywgcm90YXRpb25zUHRyIC8gNCk7CiAgICAgIHdhc21Nb2R1bGUuSEVBUEYzMi5zZXQoc3BsYXQuc2NhbGVzLCBzY2FsZXNQdHIgLyA0KTsKICAgICAgd2FzbU1vZHVsZS5IRUFQVTguc2V0KHNwbGF0LmNvbG9ycywgY29sb3JzUHRyKTsKICAgICAgd2FzbU1vZHVsZS5IRUFQVTguc2V0KHNwbGF0LnNlbGVjdGlvbiwgc2VsZWN0aW9uUHRyKTsKICAgICAgd2FzbU1vZHVsZS5IRUFQVTguc2V0KHNwbGF0LnJlbmRlcmVkLCByZW5kZXJlZFB0cik7CiAgICAgIHdhc21Nb2R1bGUuX3BhY2soc3BsYXQuc2VsZWN0ZWQsIHJlbmRlcmVkU3BsYXRzLCBwb3NpdGlvbnNQdHIsIHJvdGF0aW9uc1B0ciwgc2NhbGVzUHRyLCBjb2xvcnNQdHIsIHNlbGVjdGlvblB0ciwgcmVuZGVyZWRQdHIsIGRhdGFQdHIsIHdvcmxkUG9zaXRpb25zUHRyLCB3b3JsZFJvdGF0aW9uc1B0ciwgd29ybGRTY2FsZXNQdHIpOwogICAgICBjb25zdCBvdXREYXRhID0gbmV3IFVpbnQzMkFycmF5KHdhc21Nb2R1bGUuSEVBUFUzMi5idWZmZXIsIGRhdGFQdHIsIHJlbmRlcmVkU3BsYXRzICogOCk7CiAgICAgIGNvbnN0IGRldGFjaGVkRGF0YSA9IG5ldyBVaW50MzJBcnJheShvdXREYXRhLnNsaWNlKCkuYnVmZmVyKTsKICAgICAgY29uc3Qgd29ybGRQb3NpdGlvbnMgPSBuZXcgRmxvYXQzMkFycmF5KHdhc21Nb2R1bGUuSEVBUEYzMi5idWZmZXIsIHdvcmxkUG9zaXRpb25zUHRyLCByZW5kZXJlZFNwbGF0cyAqIDMpOwogICAgICBjb25zdCBkZXRhY2hlZFdvcmxkUG9zaXRpb25zID0gbmV3IEZsb2F0MzJBcnJheSh3b3JsZFBvc2l0aW9ucy5zbGljZSgpLmJ1ZmZlcik7CiAgICAgIGNvbnN0IHdvcmxkUm90YXRpb25zID0gbmV3IEZsb2F0MzJBcnJheSh3YXNtTW9kdWxlLkhFQVBGMzIuYnVmZmVyLCB3b3JsZFJvdGF0aW9uc1B0ciwgcmVuZGVyZWRTcGxhdHMgKiA0KTsKICAgICAgY29uc3QgZGV0YWNoZWRXb3JsZFJvdGF0aW9ucyA9IG5ldyBGbG9hdDMyQXJyYXkod29ybGRSb3RhdGlvbnMuc2xpY2UoKS5idWZmZXIpOwogICAgICBjb25zdCB3b3JsZFNjYWxlcyA9IG5ldyBGbG9hdDMyQXJyYXkod2FzbU1vZHVsZS5IRUFQRjMyLmJ1ZmZlciwgd29ybGRTY2FsZXNQdHIsIHJlbmRlcmVkU3BsYXRzICogMyk7CiAgICAgIGNvbnN0IGRldGFjaGVkV29ybGRTY2FsZXMgPSBuZXcgRmxvYXQzMkFycmF5KHdvcmxkU2NhbGVzLnNsaWNlKCkuYnVmZmVyKTsKICAgICAgY29uc3QgcmVzcG9uc2UgPSB7CiAgICAgICAgICBkYXRhOiBkZXRhY2hlZERhdGEsCiAgICAgICAgICB3b3JsZFBvc2l0aW9uczogZGV0YWNoZWRXb3JsZFBvc2l0aW9ucywKICAgICAgICAgIHdvcmxkUm90YXRpb25zOiBkZXRhY2hlZFdvcmxkUm90YXRpb25zLAogICAgICAgICAgd29ybGRTY2FsZXM6IGRldGFjaGVkV29ybGRTY2FsZXMsCiAgICAgICAgICBvZmZzZXQ6IHNwbGF0Lm9mZnNldCwKICAgICAgICAgIHZlcnRleENvdW50OiBzcGxhdC52ZXJ0ZXhDb3VudCwKICAgICAgICAgIHBvc2l0aW9uczogc3BsYXQucG9zaXRpb25zLmJ1ZmZlciwKICAgICAgICAgIHJvdGF0aW9uczogc3BsYXQucm90YXRpb25zLmJ1ZmZlciwKICAgICAgICAgIHNjYWxlczogc3BsYXQuc2NhbGVzLmJ1ZmZlciwKICAgICAgICAgIGNvbG9yczogc3BsYXQuY29sb3JzLmJ1ZmZlciwKICAgICAgICAgIHNlbGVjdGlvbjogc3BsYXQuc2VsZWN0aW9uLmJ1ZmZlciwKICAgICAgICAgIHJlbmRlcmVkOiBzcGxhdC5yZW5kZXJlZC5idWZmZXIsCiAgICAgIH07CiAgICAgIHNlbGYucG9zdE1lc3NhZ2UoeyByZXNwb25zZTogcmVzcG9uc2UgfSwgWwogICAgICAgICAgcmVzcG9uc2UuZGF0YS5idWZmZXIsCiAgICAgICAgICByZXNwb25zZS53b3JsZFBvc2l0aW9ucy5idWZmZXIsCiAgICAgICAgICByZXNwb25zZS53b3JsZFJvdGF0aW9ucy5idWZmZXIsCiAgICAgICAgICByZXNwb25zZS53b3JsZFNjYWxlcy5idWZmZXIsCiAgICAgICAgICByZXNwb25zZS5wb3NpdGlvbnMsCiAgICAgICAgICByZXNwb25zZS5yb3RhdGlvbnMsCiAgICAgICAgICByZXNwb25zZS5zY2FsZXMsCiAgICAgICAgICByZXNwb25zZS5jb2xvcnMsCiAgICAgICAgICByZXNwb25zZS5zZWxlY3Rpb24sCiAgICAgICAgICByZXNwb25zZS5yZW5kZXJlZCwKICAgICAgXSk7CiAgICAgIHJ1bm5pbmcgPSBmYWxzZTsKICB9OwogIGNvbnN0IHBhY2tUaHJvdHRsZWQgPSAoKSA9PiB7CiAgICAgIGlmICh1cGRhdGVRdWV1ZS5sZW5ndGggPT09IDApCiAgICAgICAgICByZXR1cm47CiAgICAgIGlmICghcnVubmluZykgewogICAgICAgICAgcnVubmluZyA9IHRydWU7CiAgICAgICAgICBjb25zdCBzcGxhdCA9IHVwZGF0ZVF1ZXVlLnNoaWZ0KCk7CiAgICAgICAgICBwYWNrKHNwbGF0KTsKICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgIHJ1bm5pbmcgPSBmYWxzZTsKICAgICAgICAgICAgICBwYWNrVGhyb3R0bGVkKCk7CiAgICAgICAgICB9LCAwKTsKICAgICAgfQogIH07CiAgc2VsZi5vbm1lc3NhZ2UgPSAoZSkgPT4gewogICAgICBpZiAoZS5kYXRhLnNwbGF0KSB7CiAgICAgICAgICBjb25zdCBzcGxhdCA9IGUuZGF0YS5zcGxhdDsKICAgICAgICAgIGZvciAoY29uc3QgW2luZGV4LCBleGlzdGluZ10gb2YgdXBkYXRlUXVldWUuZW50cmllcygpKSB7CiAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nLm9mZnNldCA9PT0gc3BsYXQub2Zmc2V0KSB7CiAgICAgICAgICAgICAgICAgIHVwZGF0ZVF1ZXVlW2luZGV4XSA9IHNwbGF0OwogICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgdXBkYXRlUXVldWUucHVzaChzcGxhdCk7CiAgICAgICAgICBwYWNrVGhyb3R0bGVkKCk7CiAgICAgIH0KICB9OwoKfSkoKTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGF0YVdvcmtlci5qcy5tYXAKCg==",null,!1),ct=function(t={}){var e,n,l,i=t,s=new Promise(((t,l)=>{e=t,n=l})),r=Object.assign({},i),F="";F=(F=self.location.href).startsWith("blob:")?"":F.substr(0,F.replace(/[?#].*/,"").lastIndexOf("/")+1),l=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)},i.print||console.log.bind(console);var a,d,U=i.printErr||console.error.bind(console);function o(t){if(N(t))return function(t){for(var e=atob(t),n=new Uint8Array(e.length),l=0;l<e.length;++l)n[l]=e.charCodeAt(l);return n}(t.slice(p.length))}Object.assign(i,r),r=null,i.arguments&&i.arguments,i.thisProgram&&i.thisProgram,i.quit&&i.quit,i.wasmBinary&&(a=i.wasmBinary);var Q,c,A,h,B,V,R,Z,m=!1;function W(){var t=d.buffer;i.HEAP8=Q=new Int8Array(t),i.HEAP16=A=new Int16Array(t),i.HEAPU8=c=new Uint8Array(t),i.HEAPU16=h=new Uint16Array(t),i.HEAP32=B=new Int32Array(t),i.HEAPU32=V=new Uint32Array(t),i.HEAPF32=R=new Float32Array(t),i.HEAPF64=Z=new Float64Array(t)}var g,I=[],b=[],J=[],C=0,u=null,p="data:application/octet-stream;base64,",N=t=>t.startsWith(p);function y(t){return Promise.resolve().then((()=>function(t){if(t==g&&a)return new Uint8Array(a);var e=o(t);if(e)return e;if(l)return l(t);throw"both async and sync fetching of the wasm failed"}(t)))}function G(t,e,l){return y(t).then((t=>WebAssembly.instantiate(t,e))).then(l,(t=>{U(`failed to asynchronously prepare wasm: ${t}`),function(t){i.onAbort?.(t),U(t="Aborted("+t+")"),m=!0,t+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(t);throw n(e),e}(t)}))}g="data:application/octet-stream;base64,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X19jeHhhYml2MTE2X19zaGltX3R5cGVfaW5mb0UAAAAADAYAABgEAAAQBAAATjEwX19jeHhhYml2MTE3X19jbGFzc190eXBlX2luZm9FAAAADAYAAEgEAAA8BAAATjEwX19jeHhhYml2MTE3X19wYmFzZV90eXBlX2luZm9FAAAADAYAAHgEAAA8BAAATjEwX19jeHhhYml2MTE5X19wb2ludGVyX3R5cGVfaW5mb0UADAYAAKgEAACcBAAAAAAAABwFAAABAAAAAgAAAAMAAAAEAAAABQAAAE4xMF9fY3h4YWJpdjEyM19fZnVuZGFtZW50YWxfdHlwZV9pbmZvRQAMBgAA9AQAADwEAAB2AAAA4AQAACgFAABiAAAA4AQAADQFAABjAAAA4AQAAEAFAABoAAAA4AQAAEwFAABhAAAA4AQAAFgFAABzAAAA4AQAAGQFAAB0AAAA4AQAAHAFAABpAAAA4AQAAHwFAABqAAAA4AQAAIgFAABsAAAA4AQAAJQFAABtAAAA4AQAAKAFAAB4AAAA4AQAAKwFAAB5AAAA4AQAALgFAABmAAAA4AQAAMQFAABkAAAA4AQAANAFAAAAAAAAbAQAAAEAAAAGAAAAAwAAAAQAAAAHAAAACAAAAAkAAAAKAAAAAAAAAFQGAAABAAAACwAAAAMAAAAEAAAABwAAAAwAAAANAAAADgAAAE4xMF9fY3h4YWJpdjEyMF9fc2lfY2xhc3NfdHlwZV9pbmZvRQAAAAAMBgAALAYAAGwEAAB1bnNpZ25lZCBzaG9ydAB1bnNpZ25lZCBpbnQAZmxvYXQAdWludDY0X3QAdW5zaWduZWQgY2hhcgBib29sAHVuc2lnbmVkIGxvbmcAc3RkOjp3c3RyaW5nAHN0ZDo6c3RyaW5nAHN0ZDo6dTE2c3RyaW5nAHN0ZDo6dTMyc3RyaW5nAGRvdWJsZQB2b2lkAGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHNob3J0PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBzaG9ydD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8aW50PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBpbnQ+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGZsb2F0PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1aW50OF90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQ4X3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVpbnQxNl90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQxNl90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1aW50NjRfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8aW50NjRfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8dWludDMyX3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGludDMyX3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGNoYXI+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVuc2lnbmVkIGNoYXI+AHN0ZDo6YmFzaWNfc3RyaW5nPHVuc2lnbmVkIGNoYXI+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHNpZ25lZCBjaGFyPgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxsb25nPgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBsb25nPgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxkb3VibGU+AE5TdDNfXzIxMmJhc2ljX3N0cmluZ0ljTlNfMTFjaGFyX3RyYWl0c0ljRUVOU185YWxsb2NhdG9ySWNFRUVFAAAAAOQFAACSCQAATlN0M19fMjEyYmFzaWNfc3RyaW5nSWhOU18xMWNoYXJfdHJhaXRzSWhFRU5TXzlhbGxvY2F0b3JJaEVFRUUAAOQFAADcCQAATlN0M19fMjEyYmFzaWNfc3RyaW5nSXdOU18xMWNoYXJfdHJhaXRzSXdFRU5TXzlhbGxvY2F0b3JJd0VFRUUAAOQFAAAkCgAATlN0M19fMjEyYmFzaWNfc3RyaW5nSURzTlNfMTFjaGFyX3RyYWl0c0lEc0VFTlNfOWFsbG9jYXRvcklEc0VFRUUAAADkBQAAbAoAAE5TdDNfXzIxMmJhc2ljX3N0cmluZ0lEaU5TXzExY2hhcl90cmFpdHNJRGlFRU5TXzlhbGxvY2F0b3JJRGlFRUVFAAAA5AUAALgKAABOMTBlbXNjcmlwdGVuM3ZhbEUAAOQFAAAECwAATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJY0VFAADkBQAAIAsAAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SWFFRQAA5AUAAEgLAABOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0loRUUAAOQFAABwCwAATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJc0VFAADkBQAAmAsAAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SXRFRQAA5AUAAMALAABOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0lpRUUAAOQFAADoCwAATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJakVFAADkBQAAEAwAAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SWxFRQAA5AUAADgMAABOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0ltRUUAAOQFAABgDAAATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJeEVFAADkBQAAiAwAAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SXlFRQAA5AUAALAMAABOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0lmRUUAAOQFAADYDAAATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJZEVFAADkBQAAAA0AQagaCwMwDwE=";var E=t=>{for(;t.length>0;)t.shift()(i)};i.noExitRuntime;var S,X,Y=t=>{for(var e="",n=t;c[n];)e+=S[c[n++]];return e},T={},k={},f=t=>{throw new X(t)};function x(t,e,n={}){if(!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");return function(t,e,n={}){var l=e.name;if(t||f(`type "${l}" must have a positive integer typeid pointer`),k.hasOwnProperty(t)){if(n.ignoreDuplicateRegistrations)return;f(`Cannot register type '${l}' twice`)}if(k[t]=e,T.hasOwnProperty(t)){var i=T[t];delete T[t],i.forEach((t=>t()))}}(t,e,n)}var w=[],H=[],v=()=>H.length/2-5-w.length,z=t=>(t||f("Cannot use deleted val. handle = "+t),H[t]),D=t=>{switch(t){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const e=w.pop()||H.length;return H[e]=t,H[e+1]=1,e}}};function M(t){return this.fromWireType(V[t>>2])}var j={name:"emscripten::val",fromWireType:t=>{var e=z(t);return(t=>{t>9&&0==--H[t+1]&&(H[t]=void 0,w.push(t))})(t),e},toWireType:(t,e)=>D(e),argPackAdvance:8,readValueFromPointer:M,destructorFunction:null},K=(t,e)=>{switch(e){case 4:return function(t){return this.fromWireType(R[t>>2])};case 8:return function(t){return this.fromWireType(Z[t>>3])};default:throw new TypeError(`invalid float width (${e}): ${t}`)}},_=(t,e,n)=>{switch(e){case 1:return n?t=>Q[t]:t=>c[t];case 2:return n?t=>A[t>>1]:t=>h[t>>1];case 4:return n?t=>B[t>>2]:t=>V[t>>2];default:throw new TypeError(`invalid integer width (${e}): ${t}`)}},P="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,O=(t,e)=>t?((t,e,n)=>{for(var l=e+n,i=e;t[i]&&!(i>=l);)++i;if(i-e>16&&t.buffer&&P)return P.decode(t.subarray(e,i));for(var s="";e<i;){var r=t[e++];if(128&r){var F=63&t[e++];if(192!=(224&r)){var a=63&t[e++];if((r=224==(240&r)?(15&r)<<12|F<<6|a:(7&r)<<18|F<<12|a<<6|63&t[e++])<65536)s+=String.fromCharCode(r);else{var d=r-65536;s+=String.fromCharCode(55296|d>>10,56320|1023&d)}}else s+=String.fromCharCode((31&r)<<6|F)}else s+=String.fromCharCode(r)}return s})(c,t,e):"",L="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,q=(t,e)=>{for(var n=t,l=n>>1,i=l+e/2;!(l>=i)&&h[l];)++l;if((n=l<<1)-t>32&&L)return L.decode(c.subarray(t,n));for(var s="",r=0;!(r>=e/2);++r){var F=A[t+2*r>>1];if(0==F)break;s+=String.fromCharCode(F)}return s},$=(t,e,n)=>{if(n??=2147483647,n<2)return 0;for(var l=e,i=(n-=2)<2*t.length?n/2:t.length,s=0;s<i;++s){var r=t.charCodeAt(s);A[e>>1]=r,e+=2}return A[e>>1]=0,e-l},tt=t=>2*t.length,et=(t,e)=>{for(var n=0,l="";!(n>=e/4);){var i=B[t+4*n>>2];if(0==i)break;if(++n,i>=65536){var s=i-65536;l+=String.fromCharCode(55296|s>>10,56320|1023&s)}else l+=String.fromCharCode(i)}return l},nt=(t,e,n)=>{if(n??=2147483647,n<4)return 0;for(var l=e,i=l+n-4,s=0;s<t.length;++s){var r=t.charCodeAt(s);if(r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&t.charCodeAt(++s)),B[e>>2]=r,(e+=4)+4>i)break}return B[e>>2]=0,e-l},lt=t=>{for(var e=0,n=0;n<t.length;++n){var l=t.charCodeAt(n);l>=55296&&l<=57343&&++n,e+=4}return e},it=t=>{var e=(t-d.buffer.byteLength+65535)/65536;try{return d.grow(e),W(),1}catch(t){}};(()=>{for(var t=new Array(256),e=0;e<256;++e)t[e]=String.fromCharCode(e);S=t})(),X=i.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},i.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},H.push(0,1,void 0,1,null,1,!0,1,!1,1),i.count_emval_handles=v;var st={f:(t,e,n,l,i)=>{},h:(t,e,n,l)=>{x(t,{name:e=Y(e),fromWireType:function(t){return!!t},toWireType:function(t,e){return e?n:l},argPackAdvance:8,readValueFromPointer:function(t){return this.fromWireType(c[t])},destructorFunction:null})},g:t=>x(t,j),e:(t,e,n)=>{x(t,{name:e=Y(e),fromWireType:t=>t,toWireType:(t,e)=>e,argPackAdvance:8,readValueFromPointer:K(e,n),destructorFunction:null})},b:(t,e,n,l,i)=>{e=Y(e);var s=t=>t;if(0===l){var r=32-8*n;s=t=>t<<r>>>r}var F=e.includes("unsigned");x(t,{name:e,fromWireType:s,toWireType:F?function(t,e){return this.name,e>>>0}:function(t,e){return this.name,e},argPackAdvance:8,readValueFromPointer:_(e,n,0!==l),destructorFunction:null})},a:(t,e,n)=>{var l=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];function i(t){var e=V[t>>2],n=V[t+4>>2];return new l(Q.buffer,n,e)}x(t,{name:n=Y(n),fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{ignoreDuplicateRegistrations:!0})},d:(t,e)=>{var n="std::string"===(e=Y(e));x(t,{name:e,fromWireType(t){var e,l=V[t>>2],i=t+4;if(n)for(var s=i,r=0;r<=l;++r){var F=i+r;if(r==l||0==c[F]){var a=O(s,F-s);void 0===e?e=a:(e+=String.fromCharCode(0),e+=a),s=F+1}}else{var d=new Array(l);for(r=0;r<l;++r)d[r]=String.fromCharCode(c[i+r]);e=d.join("")}return dt(t),e},toWireType(t,e){var l;e instanceof ArrayBuffer&&(e=new Uint8Array(e));var i="string"==typeof e;i||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int8Array||f("Cannot pass non-string to std::string"),l=n&&i?(t=>{for(var e=0,n=0;n<t.length;++n){var l=t.charCodeAt(n);l<=127?e++:l<=2047?e+=2:l>=55296&&l<=57343?(e+=4,++n):e+=3}return e})(e):e.length;var s=at(4+l+1),r=s+4;if(V[s>>2]=l,n&&i)((t,e,n,l)=>{if(!(l>0))return 0;for(var i=n+l-1,s=0;s<t.length;++s){var r=t.charCodeAt(s);if(r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&t.charCodeAt(++s)),r<=127){if(n>=i)break;e[n++]=r}else if(r<=2047){if(n+1>=i)break;e[n++]=192|r>>6,e[n++]=128|63&r}else if(r<=65535){if(n+2>=i)break;e[n++]=224|r>>12,e[n++]=128|r>>6&63,e[n++]=128|63&r}else{if(n+3>=i)break;e[n++]=240|r>>18,e[n++]=128|r>>12&63,e[n++]=128|r>>6&63,e[n++]=128|63&r}}e[n]=0})(e,c,r,l+1);else if(i)for(var F=0;F<l;++F){var a=e.charCodeAt(F);a>255&&(dt(r),f("String has UTF-16 code units that do not fit in 8 bits")),c[r+F]=a}else for(F=0;F<l;++F)c[r+F]=e[F];return null!==t&&t.push(dt,s),s},argPackAdvance:8,readValueFromPointer:M,destructorFunction(t){dt(t)}})},c:(t,e,n)=>{var l,i,s,r;n=Y(n),2===e?(l=q,i=$,r=tt,s=t=>h[t>>1]):4===e&&(l=et,i=nt,r=lt,s=t=>V[t>>2]),x(t,{name:n,fromWireType:t=>{for(var n,i=V[t>>2],r=t+4,F=0;F<=i;++F){var a=t+4+F*e;if(F==i||0==s(a)){var d=l(r,a-r);void 0===n?n=d:(n+=String.fromCharCode(0),n+=d),r=a+e}}return dt(t),n},toWireType:(t,l)=>{"string"!=typeof l&&f(`Cannot pass non-string to C++ string type ${n}`);var s=r(l),F=at(4+s+e);return V[F>>2]=s/e,i(l,F+4,s+e),null!==t&&t.push(dt,F),F},argPackAdvance:8,readValueFromPointer:M,destructorFunction(t){dt(t)}})},i:(t,e)=>{x(t,{isVoid:!0,name:e=Y(e),argPackAdvance:0,fromWireType:()=>{},toWireType:(t,e)=>{}})},j:t=>{var e=c.length,n=2147483648;if((t>>>=0)>n)return!1;for(var l,i,s=1;s<=4;s*=2){var r=e*(1+.2/s);r=Math.min(r,t+100663296);var F=Math.min(n,(l=Math.max(t,r))+((i=65536)-l%i)%i);if(it(F))return!0}return!1}},rt=function(){var t,e,l,s={a:st};function r(t,e){var n;return rt=t.exports,d=rt.k,W(),n=rt.l,b.unshift(n),function(t){if(C--,i.monitorRunDependencies?.(C),0==C&&u){var e=u;u=null,e()}}(),rt}if(C++,i.monitorRunDependencies?.(C),i.instantiateWasm)try{return i.instantiateWasm(s,r)}catch(t){U(`Module.instantiateWasm callback failed with error: ${t}`),n(t)}return(t=g,e=s,l=function(t){r(t.instance)},G(t,e,l)).catch(n),{}}();i._pack=(t,e,n,l,s,r,F,a,d,U,o,Q)=>(i._pack=rt.m)(t,e,n,l,s,r,F,a,d,U,o,Q);var Ft,at=i._malloc=t=>(at=i._malloc=rt.o)(t),dt=i._free=t=>(dt=i._free=rt.p)(t);function Ut(){function t(){Ft||(Ft=!0,i.calledRun=!0,m||(E(b),e(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),function(){if(i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;)t=i.postRun.shift(),J.unshift(t);var t;E(J)}()))}C>0||(function(){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)t=i.preRun.shift(),I.unshift(t);var t;E(I)}(),C>0||(i.setStatus?(i.setStatus("Running..."),setTimeout((function(){setTimeout((function(){i.setStatus("")}),1),t()}),1)):t()))}if(u=function t(){Ft||Ut(),Ft||(u=t)},i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return Ut(),s};class At{constructor(t){this.dataChanged=!1,this.transformsChanged=!1,this.colorTransformsChanged=!1,this._updating=new Set,this._dirty=new Set;let e=0,n=0;this._splatIndices=new Map,this._singleSplatIndices=new Map,this._offsets=new Map,this._singleOffsets=new Map;const i=new Map,s=new Map;for(const l of t.objects)if(l instanceof q){this._splatIndices.set(l,n),this._offsets.set(l,e),i.set(e,l),e+=l.splatCount,n++;for(let t of l.splats)this._singleSplatIndices.set(t,n),this._singleOffsets.set(t,n),s.set(e,t),n++}this._vertexCount=e,this._renderedSplats=e,this._width=2048,this._height=Math.ceil(2*this.vertexCount/this.width),this._data=new Uint32Array(this.width*this.height*4),this._transformsWidth=5,this._transformsHeight=i.size,this._transforms=new Float32Array(this._transformsWidth*this._transformsHeight*4),this._transformIndicesWidth=1024,this._transformIndicesHeight=Math.ceil(this.vertexCount/this._transformIndicesWidth),this._transformIndices=new Uint32Array(this._transformIndicesWidth*this._transformIndicesHeight),this._colorTransformsWidth=4,this._colorTransformsHeight=64,this._colorTransforms=new Float32Array(this._colorTransformsWidth*this._colorTransformsHeight*4),this._colorTransforms.fill(0),this._colorTransforms[0]=1,this._colorTransforms[5]=1,this._colorTransforms[10]=1,this._colorTransforms[15]=1,this._colorTransformIndicesWidth=1024,this._colorTransformIndicesHeight=Math.ceil(this.vertexCount/this._colorTransformIndicesWidth),this._colorTransformIndices=new Uint32Array(this._colorTransformIndicesWidth*this._colorTransformIndicesHeight),this.colorTransformIndices.fill(0),this._positions=new Float32Array(3*this.vertexCount),this._rotations=new Float32Array(4*this.vertexCount),this._scales=new Float32Array(3*this.vertexCount),this._worker=new Qt;const r=t=>{this._renderedSplats=t.data.renderedSplats,this._height=Math.ceil(2*this._renderedSplats/this.width),this._data=new Uint32Array(this.width*this.height*4),this._transformIndicesWidth=1024,this._transformIndicesHeight=Math.ceil(this._renderedSplats/this._transformIndicesWidth),this._transformIndices=new Uint32Array(this._transformIndicesWidth*this._transformIndicesHeight),this._colorTransformIndicesWidth=1024,this._colorTransformIndicesHeight=Math.ceil(this._renderedSplats/this._colorTransformIndicesWidth),this._colorTransformIndices=new Uint32Array(this._colorTransformIndicesWidth*this._colorTransformIndicesHeight),this.colorTransformIndices.fill(0),this._positions=new Float32Array(3*this._renderedSplats),this._rotations=new Float32Array(4*this._renderedSplats),this._scales=new Float32Array(3*this._renderedSplats)},F=t=>{const e=this._splatIndices.get(t);this._transforms.set(t.transform.buffer,20*e),this._transforms[20*e+16]=t.selected?1:0,t.positionChanged=!1,t.rotationChanged=!1,t.scaleChanged=!1,t.selectedChanged=!1,this.transformsChanged=!0},a=()=>{let t=!1;for(const e of this._splatIndices.keys())if(e.colorTransformChanged){t=!0;break}if(!t)return;const e=[new l];this._colorTransformIndices.fill(0);let n=1;for(const t of this._splatIndices.keys()){const l=this._offsets.get(t);for(const l of t.colorTransforms)e.includes(l)||(e.push(l),n++);for(const e of t.colorTransformsMap.keys()){const i=t.colorTransformsMap.get(e);this._colorTransformIndices[e+l]=i+n-1}t.colorTransformChanged=!1}for(let t=0;t<e.length;t++){const n=e[t];this._colorTransforms.set(n.buffer,16*t)}this.colorTransformsChanged=!0};let d;this._worker.onmessage=t=>{if(t.data.response){const e=t.data.response,n=i.get(e.offset);F(n),a();const l=new Uint8Array(e.rendered);for(let t=0;t<e.vertexCount;t++)l[t];const s=this._splatIndices.get(n);for(let t=0;t<n.splatCount;t++)this._transformIndices[e.offset+t]=s;this._data.set(e.data,8*e.offset),n.data.reattach(e.positions,e.rotations,e.scales,e.colors,e.selection,e.rendered),this._positions.set(e.worldPositions,3*e.offset),this._rotations.set(e.worldRotations,4*e.offset),this._scales.set(e.worldScales,3*e.offset),this._updating.delete(n),n.selectedChanged=!1,n.renderNumberChanged=!1,this.dataChanged=!0}},async function(){d=await ct()}();const U=t=>{if(!d)return void async function(){for(;!d;)await new Promise((t=>setTimeout(t,0)))}().then((()=>{U(t)}));F(t);const e=d._malloc(3*t.data.renderedSplats*4),n=d._malloc(4*t.data.renderedSplats*4),l=d._malloc(3*t.data.renderedSplats*4),i=d._malloc(4*t.data.renderedSplats),s=d._malloc(t.data.renderedSplats),r=d._malloc(t.splatCount),a=d._malloc(8*t.data.renderedSplats*4),o=d._malloc(3*t.splatCount*4),Q=d._malloc(4*t.splatCount*4),c=d._malloc(3*t.splatCount*4);d.HEAPF32.set(t.Positions,e/4),d.HEAPF32.set(t.Rotations,n/4),d.HEAPF32.set(t.Scales,l/4),d.HEAPU8.set(t.Colors,i),d.HEAPU8.set(t.Selections,s),d.HEAPU8.set(t.Rendered,r),d._pack(t.selected,t.splatCount,e,n,l,i,s,r,a,o,Q,c);const A=new Uint32Array(d.HEAPU32.buffer,a,8*t.data.renderedSplats),h=new Float32Array(d.HEAPF32.buffer,o,3*t.splatCount),B=new Float32Array(d.HEAPF32.buffer,Q,4*t.splatCount),V=new Float32Array(d.HEAPF32.buffer,c,3*t.splatCount),R=this._splatIndices.get(t),Z=this._offsets.get(t);for(let e=0;e<t.splatCount;e++)this._transformIndices[Z+e]=R;this._data.set(A,8*Z),this._positions.set(h,3*Z),this._rotations.set(B,4*Z),this._scales.set(V,3*Z),d._free(e),d._free(n),d._free(l),d._free(i),d._free(s),d._free(r),d._free(a),d._free(o),d._free(Q),d._free(c),this.dataChanged=!0,this.colorTransformsChanged=!0},o=t=>{if((t.positionChanged||t.rotationChanged||t.scaleChanged||t.selectedChanged)&&F(t),t.renderNumberChanged&&(t.data.calculateRenderedTransforms(),r(t),t.renderNumberChanged=!1),t.colorTransformChanged&&a(),!t.data.changed||t.data.detached||t.renderNumberChanged)return;const e={position:new Float32Array(t.position.flat()),rotation:new Float32Array(t.rotation.flat()),scale:new Float32Array(t.scale.flat()),selected:t.selected,vertexCount:t.splatCount,positions:t.Positions,rotations:t.Rotations,scales:t.Scales,colors:t.Colors,selection:t.Selections,rendered:t.Rendered,offset:this._offsets.get(t)};this._worker.postMessage({splat:e},[e.position.buffer,e.rotation.buffer,e.scale.buffer,e.positions.buffer,e.rotations.buffer,e.scales.buffer,e.colors.buffer,e.selection.buffer,e.rendered.buffer]),this._updating.add(t),t.data.detached=!0};this.getSplat=t=>{let e=null;for(const[n,l]of this._offsets){if(!(t>=l))break;e=n}return e},this.getLocalIndex=(t,e)=>e-this._offsets.get(t),this.markDirty=t=>{this._dirty.add(t)},this.rebuild=()=>{for(const t of this._dirty)o(t);this._dirty.clear()},this.dispose=()=>{this._worker.terminate()};for(const t of this._splatIndices.keys())U(t);a()}get offsets(){return this._offsets}get singleOffsets(){return this._singleOffsets}get data(){return this._data}get width(){return this._width}get height(){return this._height}get transforms(){return this._transforms}get transformsWidth(){return this._transformsWidth}get transformsHeight(){return this._transformsHeight}get transformIndices(){return this._transformIndices}get transformIndicesWidth(){return this._transformIndicesWidth}get transformIndicesHeight(){return this._transformIndicesHeight}get colorTransforms(){return this._colorTransforms}get colorTransformsWidth(){return this._colorTransformsWidth}get colorTransformsHeight(){return this._colorTransformsHeight}get colorTransformIndices(){return this._colorTransformIndices}get colorTransformIndicesWidth(){return this._colorTransformIndicesWidth}get colorTransformIndicesHeight(){return this._colorTransformIndicesHeight}get positions(){return this._positions}get rotations(){return this._rotations}get scales(){return this._scales}get vertexCount(){return this._renderedSplats}get needsRebuild(){return this._dirty.size>0}get updating(){return this._updating.size>0}}class ht{constructor(t=0,e=0,n=0,l=255){this.r=t,this.g=e,this.b=n,this.a=l}flat(){return[this.r,this.g,this.b,this.a]}flatNorm(){return[this.r/255,this.g/255,this.b/255,this.a/255]}toHexString(){return"#"+this.flat().map((t=>t.toString(16).padStart(2,"0"))).join("")}toString(){return`[${this.flat().join(", ")}]`}}class Bt extends Q{constructor(t,e){super(t,e),this._outlineThickness=10,this._outlineColor=new ht(255,165,0,255),this._renderData=null,this._depthIndex=new Uint32Array,this._splatTexture=null,this._worker=null;const n=t.canvas,l=t.gl;let i,s,r,F,a,d,U,o,Q,c,A,h,B,V,R,Z,m,W,g;this._resize=()=>{this._camera&&(this._camera.data.setSize(n.width,n.height),this._camera.update(),i=l.getUniformLocation(this.program,"projection"),l.uniformMatrix4fv(i,!1,this._camera.data.projectionMatrix.buffer),s=l.getUniformLocation(this.program,"viewport"),l.uniform2fv(s,new Float32Array([n.width,n.height])))};const I=()=>{this._worker=new ot,this._worker.onmessage=t=>{if(t.data.depthIndex){const{depthIndex:e}=t.data;this._depthIndex=e,l.bindBuffer(l.ARRAY_BUFFER,g),l.bufferData(l.ARRAY_BUFFER,e,l.STATIC_DRAW)}}};this._initialize=()=>{if(this._scene&&this._camera){this._resize(),this._scene.addEventListener("objectAdded",b),this._scene.addEventListener("objectRemoved",J);for(const t of this._scene.objects)t instanceof q&&(t.addEventListener("objectChanged",u),t.addEventListener("renderedSplatsChanged",C));this._renderData=new At(this._scene),r=l.getUniformLocation(this.program,"focal"),l.uniform2fv(r,new Float32Array([this._camera.data.fx,this._camera.data.fy])),F=l.getUniformLocation(this.program,"view"),l.uniformMatrix4fv(F,!1,this._camera.data.viewMatrix.buffer),c=l.getUniformLocation(this.program,"outlineThickness"),l.uniform1f(c,this.outlineThickness),A=l.getUniformLocation(this.program,"outlineColor"),l.uniform4fv(A,new Float32Array(this.outlineColor.flatNorm())),this._splatTexture=l.createTexture(),a=l.getUniformLocation(this.program,"u_texture"),l.uniform1i(a,0),V=l.createTexture(),d=l.getUniformLocation(this.program,"u_transforms"),l.uniform1i(d,1),R=l.createTexture(),U=l.getUniformLocation(this.program,"u_transformIndices"),l.uniform1i(U,2),Z=l.createTexture(),o=l.getUniformLocation(this.program,"u_colorTransforms"),l.uniform1i(o,3),m=l.createTexture(),Q=l.getUniformLocation(this.program,"u_colorTransformIndices"),l.uniform1i(Q,4),W=l.createBuffer(),l.bindBuffer(l.ARRAY_BUFFER,W),l.bufferData(l.ARRAY_BUFFER,new Float32Array([-2,-2,2,-2,2,2,-2,2]),l.STATIC_DRAW),h=l.getAttribLocation(this.program,"position"),l.enableVertexAttribArray(h),l.vertexAttribPointer(h,2,l.FLOAT,!1,0,0),g=l.createBuffer(),B=l.getAttribLocation(this.program,"index"),l.enableVertexAttribArray(B),l.bindBuffer(l.ARRAY_BUFFER,g),I()}else console.error("Cannot render without scene and camera")};const b=t=>{const e=t;e.object instanceof q&&e.object.addEventListener("objectChanged",u),p()},J=t=>{const e=t;e.object instanceof q&&e.object.removeEventListener("objectChanged",u),p()},C=t=>{p()},u=t=>{const e=t;e.object instanceof q&&this._renderData&&this._renderData.markDirty(e.object)},p=()=>{var t,e;null===(t=this._renderData)||void 0===t||t.dispose(),this._renderData=new At(this._scene),null===(e=this._worker)||void 0===e||e.terminate(),I()};this._render=()=>{var t,e;if(this._scene&&this._camera&&this.renderData){if(this.renderData.needsRebuild&&this.renderData.rebuild(),this.renderData.dataChanged||this.renderData.transformsChanged||this.renderData.colorTransformsChanged){this.renderData.dataChanged&&(l.activeTexture(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,this.splatTexture),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST),l.texImage2D(l.TEXTURE_2D,0,l.RGBA32UI,this.renderData.width,this.renderData.height,0,l.RGBA_INTEGER,l.UNSIGNED_INT,this.renderData.data)),this.renderData.transformsChanged&&(l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,V),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST),l.texImage2D(l.TEXTURE_2D,0,l.RGBA32F,this.renderData.transformsWidth,this.renderData.transformsHeight,0,l.RGBA,l.FLOAT,this.renderData.transforms),l.activeTexture(l.TEXTURE2),l.bindTexture(l.TEXTURE_2D,R),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST),l.texImage2D(l.TEXTURE_2D,0,l.R32UI,this.renderData.transformIndicesWidth,this.renderData.transformIndicesHeight,0,l.RED_INTEGER,l.UNSIGNED_INT,this.renderData.transformIndices)),this.renderData.colorTransformsChanged&&(l.activeTexture(l.TEXTURE3),l.bindTexture(l.TEXTURE_2D,Z),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST),l.texImage2D(l.TEXTURE_2D,0,l.RGBA32F,this.renderData.colorTransformsWidth,this.renderData.colorTransformsHeight,0,l.RGBA,l.FLOAT,this.renderData.colorTransforms),l.activeTexture(l.TEXTURE4),l.bindTexture(l.TEXTURE_2D,m),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST),l.texImage2D(l.TEXTURE_2D,0,l.R32UI,this.renderData.colorTransformIndicesWidth,this.renderData.colorTransformIndicesHeight,0,l.RED_INTEGER,l.UNSIGNED_INT,this.renderData.colorTransformIndices));const e=new Float32Array(this.renderData.positions.slice().buffer),n=new Float32Array(this.renderData.transforms.slice().buffer),i=new Uint32Array(this.renderData.transformIndices.slice().buffer);null===(t=this._worker)||void 0===t||t.postMessage({sortData:{positions:e,transforms:n,transformIndices:i,vertexCount:this.renderData.vertexCount}},[e.buffer,n.buffer,i.buffer]),this.renderData.dataChanged=!1,this.renderData.transformsChanged=!1,this.renderData.colorTransformsChanged=!1}this._camera.update(),null===(e=this._worker)||void 0===e||e.postMessage({viewProj:this._camera.data.viewProj.buffer}),l.viewport(0,0,n.width,n.height),l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT),l.disable(l.DEPTH_TEST),l.enable(l.BLEND),l.blendFuncSeparate(l.ONE_MINUS_DST_ALPHA,l.ONE,l.ONE_MINUS_DST_ALPHA,l.ONE),l.blendEquationSeparate(l.FUNC_ADD,l.FUNC_ADD),l.uniformMatrix4fv(i,!1,this._camera.data.projectionMatrix.buffer),l.uniformMatrix4fv(F,!1,this._camera.data.viewMatrix.buffer),l.bindBuffer(l.ARRAY_BUFFER,W),l.vertexAttribPointer(h,2,l.FLOAT,!1,0,0),l.bindBuffer(l.ARRAY_BUFFER,g),l.bufferData(l.ARRAY_BUFFER,this.depthIndex,l.STATIC_DRAW),l.vertexAttribIPointer(B,1,l.INT,0,0),l.vertexAttribDivisor(B,1),l.drawArraysInstanced(l.TRIANGLE_FAN,0,4,this.depthIndex.length)}else console.error("Cannot render without scene and camera")},this._dispose=()=>{var t;if(this._scene&&this._camera&&this.renderData){this._scene.removeEventListener("objectAdded",b),this._scene.removeEventListener("objectRemoved",J);for(const t of this._scene.objects)t instanceof q&&(t.removeEventListener("objectChanged",u),t.removeEventListener("renderedSplatsChanged",u));null===(t=this._worker)||void 0===t||t.terminate(),this.renderData.dispose(),l.deleteTexture(this.splatTexture),l.deleteTexture(V),l.deleteTexture(R),l.deleteBuffer(g),l.deleteBuffer(W)}else console.error("Cannot dispose without scene and camera")},this._setOutlineThickness=t=>{this._outlineThickness=t,this._initialized&&l.uniform1f(c,t)},this._setOutlineColor=t=>{this._outlineColor=t,this._initialized&&l.uniform4fv(A,new Float32Array(t.flatNorm()))}}get renderData(){return this._renderData}get depthIndex(){return this._depthIndex}get splatTexture(){return this._splatTexture}get outlineThickness(){return this._outlineThickness}set outlineThickness(t){this._setOutlineThickness(t)}get outlineColor(){return this._outlineColor}set outlineColor(t){this._setOutlineColor(t)}get worker(){return this._worker}_getVertexSource(){return"#version 300 es\nprecision highp float;\nprecision highp int;\n\nuniform highp usampler2D u_texture;\nuniform highp sampler2D u_transforms;\nuniform highp usampler2D u_transformIndices;\nuniform highp sampler2D u_colorTransforms;\nuniform highp usampler2D u_colorTransformIndices;\nuniform mat4 projection, view;\nuniform vec2 focal;\nuniform vec2 viewport;\n\nuniform bool useDepthFade;\nuniform float depthFade;\n\nin vec2 position;\nin int index;\n\nout vec4 vColor;\nout vec2 vPosition;\nout float vSize;\nout float vSelected;\n\nvoid main () {\n    uvec4 cen = texelFetch(u_texture, ivec2((uint(index) & 0x3ffu) << 1, uint(index) >> 10), 0);\n    float selected = float((cen.w >> 24) & 0xffu);\n\n    uint transformIndex = texelFetch(u_transformIndices, ivec2(uint(index) & 0x3ffu, uint(index) >> 10), 0).x;\n    mat4 transform = mat4(\n        texelFetch(u_transforms, ivec2(0, transformIndex), 0),\n        texelFetch(u_transforms, ivec2(1, transformIndex), 0),\n        texelFetch(u_transforms, ivec2(2, transformIndex), 0),\n        texelFetch(u_transforms, ivec2(3, transformIndex), 0)\n    );\n\n    if (selected < 0.5) {\n        selected = texelFetch(u_transforms, ivec2(4, transformIndex), 0).x;\n    }\n\n    mat4 viewTransform = view * transform;\n\n    vec4 cam = viewTransform * vec4(uintBitsToFloat(cen.xyz), 1);\n    vec4 pos2d = projection * cam;\n\n    float clip = 1.2 * pos2d.w;\n    if (pos2d.z < -pos2d.w || pos2d.z > pos2d.w || pos2d.x < -clip || pos2d.x > clip || pos2d.y < -clip || pos2d.y > clip) {\n        gl_Position = vec4(0.0, 0.0, 2.0, 1.0);\n        return;\n    }\n\n    uvec4 cov = texelFetch(u_texture, ivec2(((uint(index) & 0x3ffu) << 1) | 1u, uint(index) >> 10), 0);\n    vec2 u1 = unpackHalf2x16(cov.x), u2 = unpackHalf2x16(cov.y), u3 = unpackHalf2x16(cov.z);\n    mat3 Vrk = mat3(u1.x, u1.y, u2.x, u1.y, u2.y, u3.x, u2.x, u3.x, u3.y);\n\n    mat3 J = mat3(\n        focal.x / cam.z, 0., -(focal.x * cam.x) / (cam.z * cam.z), \n        0., -focal.y / cam.z, (focal.y * cam.y) / (cam.z * cam.z), \n        0., 0., 0.\n    );\n\n    mat3 T = transpose(mat3(viewTransform)) * J;\n    mat3 cov2d = transpose(T) * Vrk * T;\n\n    //ref: https://github.com/graphdeco-inria/diff-gaussian-rasterization/blob/main/cuda_rasterizer/forward.cu#L110-L111\n    cov2d[0][0] += 0.3;\n    cov2d[1][1] += 0.3;\n\n    float mid = (cov2d[0][0] + cov2d[1][1]) / 2.0;\n    float radius = length(vec2((cov2d[0][0] - cov2d[1][1]) / 2.0, cov2d[0][1]));\n    float lambda1 = mid + radius, lambda2 = mid - radius;\n\n    if (lambda2 < 0.0) return;\n    vec2 diagonalVector = normalize(vec2(cov2d[0][1], lambda1 - cov2d[0][0]));\n    vec2 majorAxis = min(sqrt(2.0 * lambda1), 1024.0) * diagonalVector;\n    vec2 minorAxis = min(sqrt(2.0 * lambda2), 1024.0) * vec2(diagonalVector.y, -diagonalVector.x);\n\n    uint colorTransformIndex = texelFetch(u_colorTransformIndices, ivec2(uint(index) & 0x3ffu, uint(index) >> 10), 0).x;\n    mat4 colorTransform = mat4(\n        texelFetch(u_colorTransforms, ivec2(0, colorTransformIndex), 0),\n        texelFetch(u_colorTransforms, ivec2(1, colorTransformIndex), 0),\n        texelFetch(u_colorTransforms, ivec2(2, colorTransformIndex), 0),\n        texelFetch(u_colorTransforms, ivec2(3, colorTransformIndex), 0)\n    );\n\n    vec4 color = vec4((cov.w) & 0xffu, (cov.w >> 8) & 0xffu, (cov.w >> 16) & 0xffu, (cov.w >> 24) & 0xffu) / 255.0;\n    vColor = colorTransform * color;\n\n    vPosition = position;\n    vSize = length(majorAxis);\n    vSelected = selected;\n\n    float scalingFactor = 1.0;\n\n    if (useDepthFade) {\n        float depthNorm = (pos2d.z / pos2d.w + 1.0) / 2.0;\n        float near = 0.1; float far = 100.0;\n        float normalizedDepth = (2.0 * near) / (far + near - depthNorm * (far - near));\n        float start = max(normalizedDepth - 0.1, 0.0);\n        float end = min(normalizedDepth + 0.1, 1.0);\n        scalingFactor = clamp((depthFade - start) / (end - start), 0.0, 1.0);\n    }\n\n    vec2 vCenter = vec2(pos2d) / pos2d.w;\n    gl_Position = vec4(\n        vCenter \n        + position.x * majorAxis * scalingFactor / viewport\n        + position.y * minorAxis * scalingFactor / viewport, 0.0, 1.0);\n}\n"}_getFragmentSource(){return"#version 300 es\nprecision highp float;\n\nuniform float outlineThickness;\nuniform vec4 outlineColor;\n\nin vec4 vColor;\nin vec2 vPosition;\nin float vSize;\nin float vSelected;\n\nout vec4 fragColor;\n\nvoid main () {\n    float A = -dot(vPosition, vPosition);\n\n    if (A < -4.0) discard;\n\n    if (vSelected < 0.5) {\n        float B = exp(A) * vColor.a;\n        fragColor = vec4(B * vColor.rgb, B);\n        return;\n    }\n\n    float outlineThreshold = -4.0 + (outlineThickness / vSize);\n\n    if (A < outlineThreshold) {\n        fragColor = outlineColor;\n    } \n    else {\n        float B = exp(A) * vColor.a;\n        fragColor = vec4(B * vColor.rgb, B);\n    }\n}\n"}}class Vt{constructor(t=1){let e,n,l,i,s=0,r=!1;this.initialize=t=>{if(!(t instanceof Bt))throw new Error("FadeInPass requires a RenderProgram");s=t.started?1:0,r=!0,e=t,n=t.renderer.gl,l=n.getUniformLocation(e.program,"useDepthFade"),n.uniform1i(l,1),i=n.getUniformLocation(e.program,"depthFade"),n.uniform1f(i,s)},this.render=()=>{var F;r&&!(null===(F=e.renderData)||void 0===F?void 0:F.updating)&&(n.useProgram(e.program),s=Math.min(s+.01*t,1),s>=1&&(r=!1,n.uniform1i(l,0)),n.uniform1f(i,s))}}dispose(){}}class Rt{constructor(t=null,e=null){this._backgroundColor=new ht;const n=t||document.createElement("canvas");t||(n.style.display="block",n.style.boxSizing="border-box",n.style.width="100%",n.style.height="100%",n.style.margin="0",n.style.padding="0",document.body.appendChild(n)),n.style.background=this._backgroundColor.toHexString(),this._canvas=n,this._gl=n.getContext("webgl2",{antialias:!1});const l=e||[];e||l.push(new Vt),this._renderProgram=new Bt(this,l),this._customPrograms=[];const i=[this._renderProgram];this.resize=()=>{const t=n.clientWidth,e=n.clientHeight;n.width===t&&n.height===e||this.setSize(t,e)},this.setSize=(t,e)=>{n.width=t,n.height=e,this._gl.viewport(0,0,n.width,n.height);for(const t of i)t.resize()},this.render=(t,e)=>{for(const n of i)n.render(t,e)},this.dispose=()=>{for(const t of i)t.dispose()},this.addProgram=t=>{var e;i.push(t),null===(e=this._customPrograms)||void 0===e||e.push(t)},this.removeProgram=t=>{const e=i.indexOf(t);if(e<0)throw new Error("Program not found");i.splice(e,1)},this.removeAllPrograms=()=>{for(let e=0;e<this._customPrograms.length;e++){var t=this._customPrograms.pop();null!=t&&this.removeProgram(t)}},this.resize()}get canvas(){return this._canvas}get gl(){return this._gl}get renderProgram(){return this._renderProgram}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){this._backgroundColor=t,this._canvas.style.background=t.toHexString()}}class Zt{constructor(n,l,i=.5,s=.5,r=5,F=!0,a=new t){this.enabled=!0,this.minAngle=-90,this.maxAngle=90,this.minZoom=.1,this.maxZoom=30,this.orbitSpeed=1,this.panSpeed=1,this.zoomSpeed=1,this.dampening=.12,this.setCameraTarget=()=>{};let d=a.clone(),U=d.clone(),o=i,Q=s,c=r,A=!1,B=!1,V=0,R=0,Z=0;const m={};let W=!1;n.addEventListener("objectChanged",(()=>{if(W)return;const e=n.rotation.toEuler();o=-e.y,Q=-e.x;const l=n.position.x-c*Math.sin(o)*Math.cos(Q),i=n.position.y+c*Math.sin(Q),s=n.position.z+c*Math.cos(o)*Math.cos(Q);U=new t(l,i,s)})),this.setCameraTarget=e=>{const l=e.x-n.position.x,i=e.y-n.position.y,s=e.z-n.position.z;c=Math.sqrt(l*l+i*i+s*s),Q=Math.atan2(i,Math.sqrt(l*l+s*s)),o=-Math.atan2(l,s),U=new t(e.x,e.y,e.z)};const g=()=>.1+.9*(c-this.minZoom)/(this.maxZoom-this.minZoom),I=t=>{m[t.code]=!0,"ArrowUp"===t.code&&(m.KeyW=!0),"ArrowDown"===t.code&&(m.KeyS=!0),"ArrowLeft"===t.code&&(m.KeyA=!0),"ArrowRight"===t.code&&(m.KeyD=!0)},b=t=>{m[t.code]=!1,"ArrowUp"===t.code&&(m.KeyW=!1),"ArrowDown"===t.code&&(m.KeyS=!1),"ArrowLeft"===t.code&&(m.KeyA=!1),"ArrowRight"===t.code&&(m.KeyD=!1)},J=t=>{S(t),this.enabled&&(A=!0,B=2===t.button,R=t.clientX,Z=t.clientY,window.addEventListener("mouseup",C))},C=t=>{S(t),A=!1,B=!1,window.removeEventListener("mouseup",C)},u=e=>{if(S(e),!this.enabled||!A||!n)return;const l=e.clientX-R,i=e.clientY-Z;if(B){const e=g(),s=-l*this.panSpeed*.01*e,r=-i*this.panSpeed*.01*e,F=h.RotationFromQuaternion(n.rotation).buffer,a=new t(F[0],F[3],F[6]),d=new t(F[1],F[4],F[7]);U=U.add(a.multiply(s)),U=U.add(d.multiply(r))}else o-=l*this.orbitSpeed*.003,Q+=i*this.orbitSpeed*.003,Q=Math.min(Math.max(Q,this.minAngle*Math.PI/180),this.maxAngle*Math.PI/180);R=e.clientX,Z=e.clientY},p=t=>{S(t);const e=g();c+=t.deltaY*this.zoomSpeed*.025*e,c=Math.min(Math.max(c,this.minZoom),this.maxZoom)},N=t=>{if(S(t),1===t.touches.length)A=!0,B=!1,R=t.touches[0].clientX,Z=t.touches[0].clientY,V=0;else if(2===t.touches.length){A=!0,B=!0,R=(t.touches[0].clientX+t.touches[1].clientX)/2,Z=(t.touches[0].clientY+t.touches[1].clientY)/2;const e=t.touches[0].clientX-t.touches[1].clientX,n=t.touches[0].clientY-t.touches[1].clientY;V=Math.sqrt(e*e+n*n)}},y=t=>{S(t),A=!1,B=!1},G=e=>{if(S(e),A&&n)if(B){const l=g(),i=e.touches[0].clientX-e.touches[1].clientX,s=e.touches[0].clientY-e.touches[1].clientY,r=Math.sqrt(i*i+s*s);c+=(V-r)*this.zoomSpeed*.1*l,c=Math.min(Math.max(c,this.minZoom),this.maxZoom),V=r;const F=(e.touches[0].clientX+e.touches[1].clientX)/2,a=(e.touches[0].clientY+e.touches[1].clientY)/2,d=F-R,o=a-Z,Q=h.RotationFromQuaternion(n.rotation).buffer,A=new t(Q[0],Q[3],Q[6]),B=new t(Q[1],Q[4],Q[7]);U=U.add(A.multiply(-d*this.panSpeed*.025*l)),U=U.add(B.multiply(-o*this.panSpeed*.025*l)),R=F,Z=a}else{const t=e.touches[0].clientX-R,n=e.touches[0].clientY-Z;o-=t*this.orbitSpeed*.003,Q+=n*this.orbitSpeed*.003,Q=Math.min(Math.max(Q,this.minAngle*Math.PI/180),this.maxAngle*Math.PI/180),R=e.touches[0].clientX,Z=e.touches[0].clientY}},E=(t,e,n)=>(1-n)*t+n*e;this.update=()=>{W=!0,i=E(i,o,this.dampening),s=E(s,Q,this.dampening),r=E(r,c,this.dampening),d=d.lerp(U,this.dampening);const l=d.x+r*Math.sin(i)*Math.cos(s),F=d.y-r*Math.sin(s),a=d.z-r*Math.cos(i)*Math.cos(s);n.position=new t(l,F,a);const A=d.subtract(n.position).normalize(),B=Math.asin(-A.y),V=Math.atan2(A.x,A.z);n.rotation=e.FromEuler(new t(B,V,0));const R=.025,Z=.01,g=h.RotationFromQuaternion(n.rotation).buffer,I=new t(-g[2],-g[5],-g[8]),b=new t(g[0],g[3],g[6]);m.KeyS&&(U=U.add(I.multiply(R))),m.KeyW&&(U=U.subtract(I.multiply(R))),m.KeyA&&(U=U.subtract(b.multiply(R))),m.KeyD&&(U=U.add(b.multiply(R))),m.KeyE&&(o+=Z),m.KeyQ&&(o-=Z),m.KeyR&&(Q+=Z),m.KeyF&&(Q-=Z),W=!1};const S=t=>{t.preventDefault(),t.stopPropagation()};this.dispose=()=>{l.removeEventListener("dragenter",S),l.removeEventListener("dragover",S),l.removeEventListener("dragleave",S),l.removeEventListener("contextmenu",S),l.removeEventListener("mousedown",J),l.removeEventListener("mousemove",u),l.removeEventListener("wheel",p),l.removeEventListener("touchstart",N),l.removeEventListener("touchend",y),l.removeEventListener("touchmove",G),F&&(window.removeEventListener("keydown",I),window.removeEventListener("keyup",b))},F&&(window.addEventListener("keydown",I),window.addEventListener("keyup",b)),l.addEventListener("dragenter",S),l.addEventListener("dragover",S),l.addEventListener("dragleave",S),l.addEventListener("contextmenu",S),l.addEventListener("mousedown",J),l.addEventListener("mousemove",u),l.addEventListener("wheel",p),l.addEventListener("touchstart",N),l.addEventListener("touchend",y),l.addEventListener("touchmove",G),this.update()}}class mt{constructor(n,l){this.moveSpeed=1.5,this.lookSpeed=.7,this.dampening=.5;const i={};let s=n.rotation.toEuler().x,r=n.rotation.toEuler().y,F=n.position,a=!1;const d=()=>{l.requestPointerLock()},U=()=>{a=document.pointerLockElement===l,a?l.addEventListener("mousemove",o):l.removeEventListener("mousemove",o)},o=t=>{const e=t.movementX,n=t.movementY;r+=e*this.lookSpeed*.001,s-=n*this.lookSpeed*.001,s=Math.max(-Math.PI/2,Math.min(Math.PI/2,s))},Q=t=>{i[t.code]=!0,"ArrowUp"===t.code&&(i.KeyW=!0),"ArrowDown"===t.code&&(i.KeyS=!0),"ArrowLeft"===t.code&&(i.KeyA=!0),"ArrowRight"===t.code&&(i.KeyD=!0)},c=t=>{i[t.code]=!1,"ArrowUp"===t.code&&(i.KeyW=!1),"ArrowDown"===t.code&&(i.KeyS=!1),"ArrowLeft"===t.code&&(i.KeyA=!1),"ArrowRight"===t.code&&(i.KeyD=!1),"Escape"===t.code&&document.exitPointerLock()};this.update=()=>{const l=h.RotationFromQuaternion(n.rotation).buffer,a=new t(-l[2],-l[5],-l[8]),d=new t(l[0],l[3],l[6]);let U=new t(0,0,0);i.KeyS&&(U=U.add(a)),i.KeyW&&(U=U.subtract(a)),i.KeyA&&(U=U.subtract(d)),i.KeyD&&(U=U.add(d)),U=new t(U.x,0,U.z),U.magnitude()>0&&(U=U.normalize()),F=F.add(U.multiply(.01*this.moveSpeed)),n.position=n.position.add(F.subtract(n.position).multiply(this.dampening)),n.rotation=e.FromEuler(new t(s,r,0))};const A=t=>{t.preventDefault(),t.stopPropagation()};this.dispose=()=>{l.removeEventListener("dragenter",A),l.removeEventListener("dragover",A),l.removeEventListener("dragleave",A),l.removeEventListener("contextmenu",A),l.removeEventListener("mousedown",d),document.removeEventListener("pointerlockchange",U),window.removeEventListener("keydown",Q),window.removeEventListener("keyup",c)},window.addEventListener("keydown",Q),window.addEventListener("keyup",c),l.addEventListener("dragenter",A),l.addEventListener("dragover",A),l.addEventListener("dragleave",A),l.addEventListener("contextmenu",A),l.addEventListener("mousedown",d),document.addEventListener("pointerlockchange",U),this.update()}}class Wt{constructor(e=new t(1,0,0),n=new t(0,0,0),l=0){this.normal=e,this.point=n,this.constant=l}setFromCoplanarPoints(e,n,l){const i=(new t).subVectors(l,n),s=(new t).subVectors(e,n),r=(new t).crossVectors(i,s).normalize();return this.normal.set(r.x,r.y,r.z),this.constant=this.normal.dot(n),this}setComponents(t,e,n,l){return this.normal.set(t,e,n),this.constant=l,this}intersect(t,e){const n=this.normal.dot(e);if(Math.abs(n)<1e-4)return null;const l=this.normal.dot(this.point.subtract(t))/n;return l<0?null:t.add(e.multiply(l))}normalize(){const t=1/this.normal.magnitude();return this.normal.multiply(t),this.constant*=t,this}distanceToPoint(t){return this.normal.dot(t)-this.constant}}class gt{initialize(t){}render(){}dispose(){}}class It extends Q{constructor(t,e=[]){super(t,e),this._renderData=null,this._depthIndex=new Uint32Array,this._splatTexture=null;const n=t.canvas,i=t.gl;let s,r,F,a,d,U,o,Q,c,A,h;this._resize=()=>{this._camera&&(this._camera.data.setSize(n.width,n.height),this._camera.update(),r=i.getUniformLocation(this.program,"projection"),i.uniformMatrix4fv(r,!1,this._camera.data.projectionMatrix.buffer),F=i.getUniformLocation(this.program,"viewport"),i.uniform2fv(F,new Float32Array([n.width,n.height])))};const B=()=>{null!==t.renderProgram.worker?(s=t.renderProgram.worker,s.onmessage=t=>{if(t.data.depthIndex){const{depthIndex:e}=t.data;this._depthIndex=e,i.bindBuffer(i.ARRAY_BUFFER,h),i.bufferData(i.ARRAY_BUFFER,e,i.STATIC_DRAW)}}):console.error("Render program is not initialized. Cannot render without worker")};this._initialize=()=>{if(!this._scene||!this._camera)return void console.error("Cannot render without scene and camera");this._resize(),this._scene.addEventListener("objectAdded",V),this._scene.addEventListener("objectRemoved",R);for(const t of this._scene.objects)t instanceof $&&(null===this._renderData?(this._renderData=t.data,t.addEventListener("objectChanged",Z)):console.warn("Multiple Splatv objects are not currently supported"));if(null===this._renderData)return void console.error("Cannot render without Splatv object");a=i.getUniformLocation(this.program,"focal"),i.uniform2fv(a,new Float32Array([this._camera.data.fx,this._camera.data.fy])),d=i.getUniformLocation(this.program,"view"),i.uniformMatrix4fv(d,!1,this._camera.data.viewMatrix.buffer),this._splatTexture=i.createTexture(),U=i.getUniformLocation(this.program,"u_texture"),i.uniform1i(U,0),o=i.getUniformLocation(this.program,"time"),i.uniform1f(o,Math.sin(Date.now()/1e3)/2+.5),A=i.createBuffer(),i.bindBuffer(i.ARRAY_BUFFER,A),i.bufferData(i.ARRAY_BUFFER,new Float32Array([-2,-2,2,-2,2,2,-2,2]),i.STATIC_DRAW),Q=i.getAttribLocation(this.program,"position"),i.enableVertexAttribArray(Q),i.vertexAttribPointer(Q,2,i.FLOAT,!1,0,0),h=i.createBuffer(),c=i.getAttribLocation(this.program,"index"),i.enableVertexAttribArray(c),i.bindBuffer(i.ARRAY_BUFFER,h),B(),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,this._splatTexture),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST),i.texImage2D(i.TEXTURE_2D,0,i.RGBA32UI,this._renderData.width,this._renderData.height,0,i.RGBA_INTEGER,i.UNSIGNED_INT,this._renderData.data);const t=this._renderData.positions,e=new Float32Array((new l).buffer),n=new Uint32Array(this._renderData.vertexCount);n.fill(0),s.postMessage({sortData:{positions:t,transforms:e,transformIndices:n,vertexCount:this._renderData.vertexCount}},[t.buffer,e.buffer,n.buffer])};const V=t=>{const e=t;e.object instanceof $&&(null===this._renderData?(this._renderData=e.object.data,e.object.addEventListener("objectChanged",Z)):console.warn("Splatv not supported by default RenderProgram. Use VideoRenderProgram instead.")),this.dispose()},R=t=>{const e=t;e.object instanceof $&&this._renderData===e.object.data&&(this._renderData=null,e.object.removeEventListener("objectChanged",Z)),this.dispose()},Z=t=>{const e=t;e.object instanceof $&&this._renderData===e.object.data&&this.dispose()};this._render=()=>{this._scene&&this._camera?this._renderData?(this._camera.update(),s.postMessage({viewProj:this._camera.data.viewProj.buffer}),i.viewport(0,0,n.width,n.height),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),i.disable(i.DEPTH_TEST),i.enable(i.BLEND),i.blendFuncSeparate(i.ONE_MINUS_DST_ALPHA,i.ONE,i.ONE_MINUS_DST_ALPHA,i.ONE),i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD),i.uniformMatrix4fv(r,!1,this._camera.data.projectionMatrix.buffer),i.uniformMatrix4fv(d,!1,this._camera.data.viewMatrix.buffer),i.uniform1f(o,Math.sin(Date.now()/1e3)/2+.5),i.bindBuffer(i.ARRAY_BUFFER,A),i.vertexAttribPointer(Q,2,i.FLOAT,!1,0,0),i.bindBuffer(i.ARRAY_BUFFER,h),i.bufferData(i.ARRAY_BUFFER,this._depthIndex,i.STATIC_DRAW),i.vertexAttribIPointer(c,1,i.INT,0,0),i.vertexAttribDivisor(c,1),i.drawArraysInstanced(i.TRIANGLE_FAN,0,4,this._renderData.vertexCount)):console.warn("Cannot render without Splatv object"):console.error("Cannot render without scene and camera")},this._dispose=()=>{if(this._scene&&this._camera){this._scene.removeEventListener("objectAdded",V),this._scene.removeEventListener("objectRemoved",R);for(const t of this._scene.objects)t instanceof $&&this._renderData===t.data&&(this._renderData=null,t.removeEventListener("objectChanged",Z));null==s||s.terminate(),i.deleteTexture(this._splatTexture),i.deleteBuffer(h),i.deleteBuffer(A)}else console.error("Cannot dispose without scene and camera")}}get renderData(){return this._renderData}_getVertexSource(){return"#version 300 es\nprecision highp float;\nprecision highp int;\n  \nuniform highp usampler2D u_texture;\nuniform mat4 projection, view;\nuniform vec2 focal;\nuniform vec2 viewport;\nuniform float time;\n  \nin vec2 position;\nin int index;\n  \nout vec4 vColor;\nout vec2 vPosition;\n  \nvoid main () {\n    gl_Position = vec4(0.0, 0.0, 2.0, 1.0);\n\n    uvec4 motion1 = texelFetch(u_texture, ivec2(((uint(index) & 0x3ffu) << 2) | 3u, uint(index) >> 10), 0);\n    vec2 trbf = unpackHalf2x16(motion1.w);\n    float dt = time - trbf.x;\n\n    float topacity = exp(-1.0 * pow(dt / trbf.y, 2.0));\n    if(topacity < 0.02) return;\n\n    uvec4 motion0 = texelFetch(u_texture, ivec2(((uint(index) & 0x3ffu) << 2) | 2u, uint(index) >> 10), 0);\n    uvec4 static0 = texelFetch(u_texture, ivec2(((uint(index) & 0x3ffu) << 2), uint(index) >> 10), 0);\n\n    vec2 m0 = unpackHalf2x16(motion0.x), m1 = unpackHalf2x16(motion0.y), m2 = unpackHalf2x16(motion0.z), \n         m3 = unpackHalf2x16(motion0.w), m4 = unpackHalf2x16(motion1.x); \n      \n    vec4 trot = vec4(unpackHalf2x16(motion1.y).xy, unpackHalf2x16(motion1.z).xy) * dt;\n    vec3 tpos = (vec3(m0.xy, m1.x) * dt + vec3(m1.y, m2.xy) * dt*dt + vec3(m3.xy, m4.x) * dt*dt*dt);\n      \n    vec4 cam = view * vec4(uintBitsToFloat(static0.xyz) + tpos, 1);\n    vec4 pos = projection * cam;\n  \n    float clip = 1.2 * pos.w;\n    if (pos.z < -clip || pos.x < -clip || pos.x > clip || pos.y < -clip || pos.y > clip) return;\n    uvec4 static1 = texelFetch(u_texture, ivec2(((uint(index) & 0x3ffu) << 2) | 1u, uint(index) >> 10), 0);\n\n    vec4 rot = vec4(unpackHalf2x16(static0.w).xy, unpackHalf2x16(static1.x).xy) + trot;\n    vec3 scale = vec3(unpackHalf2x16(static1.y).xy, unpackHalf2x16(static1.z).x);\n    rot /= sqrt(dot(rot, rot));\n  \n    mat3 S = mat3(scale.x, 0.0, 0.0, 0.0, scale.y, 0.0, 0.0, 0.0, scale.z);\n    mat3 R = mat3(\n        1.0 - 2.0 * (rot.z * rot.z + rot.w * rot.w), 2.0 * (rot.y * rot.z - rot.x * rot.w), 2.0 * (rot.y * rot.w + rot.x * rot.z),\n        2.0 * (rot.y * rot.z + rot.x * rot.w), 1.0 - 2.0 * (rot.y * rot.y + rot.w * rot.w), 2.0 * (rot.z * rot.w - rot.x * rot.y),\n        2.0 * (rot.y * rot.w - rot.x * rot.z), 2.0 * (rot.z * rot.w + rot.x * rot.y), 1.0 - 2.0 * (rot.y * rot.y + rot.z * rot.z));\n    mat3 M = S * R;\n    mat3 Vrk = 4.0 * transpose(M) * M;\n    mat3 J = mat3(\n        focal.x / cam.z, 0., -(focal.x * cam.x) / (cam.z * cam.z), \n        0., -focal.y / cam.z, (focal.y * cam.y) / (cam.z * cam.z), \n        0., 0., 0.\n    );\n  \n    mat3 T = transpose(mat3(view)) * J;\n    mat3 cov2d = transpose(T) * Vrk * T;\n  \n    float mid = (cov2d[0][0] + cov2d[1][1]) / 2.0;\n    float radius = length(vec2((cov2d[0][0] - cov2d[1][1]) / 2.0, cov2d[0][1]));\n    float lambda1 = mid + radius, lambda2 = mid - radius;\n  \n    if(lambda2 < 0.0) return;\n    vec2 diagonalVector = normalize(vec2(cov2d[0][1], lambda1 - cov2d[0][0]));\n    vec2 majorAxis = min(sqrt(2.0 * lambda1), 1024.0) * diagonalVector;\n    vec2 minorAxis = min(sqrt(2.0 * lambda2), 1024.0) * vec2(diagonalVector.y, -diagonalVector.x);\n      \n    uint rgba = static1.w;\n    vColor = \n        clamp(pos.z/pos.w+1.0, 0.0, 1.0) * \n        vec4(1.0, 1.0, 1.0, topacity) *\n        vec4(\n            (rgba) & 0xffu, \n            (rgba >> 8) & 0xffu, \n            (rgba >> 16) & 0xffu, \n            (rgba >> 24) & 0xffu) / 255.0;\n\n    vec2 vCenter = vec2(pos) / pos.w;\n    gl_Position = vec4(\n        vCenter \n        + position.x * majorAxis / viewport \n        + position.y * minorAxis / viewport, 0.0, 1.0);\n\n    vPosition = position;\n}\n"}_getFragmentSource(){return"#version 300 es\nprecision highp float;\n  \nin vec4 vColor;\nin vec2 vPosition;\n\nout vec4 fragColor;\n\nvoid main () {\n    float A = -dot(vPosition, vPosition);\n    if (A < -4.0) discard;\n    float B = exp(A) * vColor.a;\n    fragColor = vec4(B * vColor.rgb, B);\n}\n"}}let bt=class t{constructor(t,e,n){this.bounds=t,this.boxes=e,this.left=null,this.right=null,this.pointIndices=[],n.length>1?this.split(t,e,n):n.length>0&&(this.pointIndices=n)}split(e,n,l){const i=e.size().maxComponent();l.sort(((t,e)=>n[t].center().getComponent(i)-n[e].center().getComponent(i)));const s=Math.floor(l.length/2),r=l.slice(0,s),F=l.slice(s);this.left=new t(e,n,r),this.right=new t(e,n,F)}queryRange(t){return this.bounds.intersects(t)?null!==this.left&&null!==this.right?this.left.queryRange(t).concat(this.right.queryRange(t)):this.pointIndices.filter((e=>t.intersects(this.boxes[e]))):[]}};class Jt{constructor(t,e){const n=e.map(((t,e)=>e));this.root=new bt(t,e,n)}queryRange(t){return this.root.queryRange(t)}}class Ct{constructor(e,n=100,l=1){let i=0,s=null,r=[],F=[];this.testLayer=(t,n,l)=>{const i=e.renderData;F=[];for(const e of i.singleOffsets.keys()){const i=e.bounds;"x"===l?n?i.center().x>=t&&F.push(e):i.center().x<t&&F.push(e):"y"===l?n?i.center().y>=t&&F.push(e):i.center().y<t&&F.push(e):"z"===l&&(n?i.center().z>=t&&F.push(e):i.center().z<t&&F.push(e))}return F},this.testPoint=(a,d)=>{if(null===e.renderData||null===e.camera)return console.error("IntersectionTester cannot be called before renderProgram has been initialized"),null;if((()=>{if(null===e.renderData)return void console.error("IntersectionTester cannot be called before renderProgram has been initialized");const n=performance.now();r=[];const l=e.renderData,a=new Array(l.offsets.size);let d=0;const U=new A(new t(1/0,1/0,1/0),new t(-1/0,-1/0,-1/0));for(const t of l.offsets.keys()){const e=t.bounds;a[d++]=e,U.expand(e.min),U.expand(e.max),r.push(t)}U.permute(),s=new Jt(U,a);const o=performance.now()-n;console.log(`creating BVH with SPLAT:  ${o/1e3} s (${o} ms).`);const Q=performance.now();F=[];const c=new Array(l.singleOffsets.size);let h=0;const B=new A(new t(1/0,1/0,1/0),new t(-1/0,-1/0,-1/0));for(const t of l.singleOffsets.keys()){const e=t.bounds;c[h++]=e,B.expand(e.min),B.expand(e.max),F.push(t)}B.permute(),new Jt(B,c);const V=performance.now()-Q;console.log(`creating BVH with SPLAT:  ${V/1e3} s (${V} ms).`),console.log("Got "+a.length+" boxes for Splat!"),console.log("Got "+c.length+" boxes for Single Splats!"),i=l.vertexCount})(),null===s)return console.error("Failed to build octree for IntersectionTester"),null;const U=e.renderData,o=e.camera;i!==U.vertexCount&&console.warn("IntersectionTester has not been rebuilt since the last render");const Q=o.screenPointToRay(a,d);for(let e=0;e<n;e+=l){const n=o.position.add(Q.multiply(e)),i=new t(n.x-l/2,n.y-l/2,n.z-l/2),F=new t(n.x+l/2,n.y+l/2,n.z+l/2),a=new A(i,F),d=s.queryRange(a);if(d.length>0)return r[d[0]]}return null},this.testPointSingleSplats=(i,s)=>{if(null===e.renderData||null===e.camera)return console.error("IntersectionTester cannot be called before renderProgram has been initialized"),null;const r=e.renderData,a=e.camera;F=[];const d=a.screenPointToRay(i,s);for(let e=0;e<n;e+=l){const n=a.position.add(d.multiply(e)),i=new t(n.x-l/2,n.y-l/2,n.z-l/2),s=new t(n.x+l/2,n.y+l/2,n.z+l/2),U=new A(i,s);for(const t of r.singleOffsets.keys())t.bounds.intersects(U)&&F.push(t)}return F}}}class ut{constructor(e=void 0){this.left=null,this.right=null,this.objects=[],this.bounds=new A(new t(1/0,1/0,1/0),new t(-1/0,-1/0,-1/0)),void 0!==e&&(e.forEach((t=>{this.bounds.expand(t.bounds.min),this.bounds.expand(t.bounds.max)})),e.length<=2?this.objects=e:this.split(e))}split(t){const e=Math.floor(t.length/2);t.sort(((t,e)=>t.bounds.center().x-e.bounds.center().x)),this.left=new ut(t.slice(0,e)),this.right=new ut(t.slice(e))}intersects(t,e){return t.intersectsBox(this.bounds,e)?this.objects.length>0?this.objects.filter((n=>t.intersectsBox(n.bounds,e))):[...this.left?this.left.intersects(t,e):[],...this.right?this.right.intersects(t,e):[]]:[]}}class pt{constructor(t,e){this.origin=t,this.direction=e.normalize()}getPoint(t){return this.origin.add(this.direction.multiply(t))}intersectsBox(t,e=1/0){let n=(t.min.x-this.origin.x)/this.direction.x,l=(t.max.x-this.origin.x)/this.direction.x;n>l&&([n,l]=[l,n]);let i=(t.min.y-this.origin.y)/this.direction.y,s=(t.max.y-this.origin.y)/this.direction.y;if(i>s&&([i,s]=[s,i]),n>s||i>l)return!1;i>n&&(n=i),s<l&&(l=s);let r=(t.min.z-this.origin.z)/this.direction.z,F=(t.max.z-this.origin.z)/this.direction.z;return r>F&&([r,F]=[F,r]),!(n>F||r>l)&&(r>n&&(n=r),F<l&&(l=F),n<e&&l>0)}}class Nt{constructor(t){this._camera=t,this._cameraData=this._camera.data,this._frustumCorners=[]}calculateFrustum(){const e=this._cameraData.near,n=this._cameraData.far,l=this._cameraData.fx,i=this._cameraData.fy,s=Math.tan(i/2)*e,r=Math.tan(l/2)*e,F=Math.tan(i/2)*n,a=Math.tan(l/2)*n,d=new t(-r,s,-e),U=new t(r,s,-e),o=new t(-r,-s,-e),Q=new t(r,-s,-e),c=new t(-a,F,n),A=new t(a,F,n),h=new t(-a,-F,n),B=new t(a,-F,n);return this._frustumCorners.push(this.cameraToWorldCoords(d),this.cameraToWorldCoords(U),this.cameraToWorldCoords(o),this.cameraToWorldCoords(Q),this.cameraToWorldCoords(c),this.cameraToWorldCoords(A),this.cameraToWorldCoords(h),this.cameraToWorldCoords(B)),this._frustumCorners}cameraToWorldCoords(e){const n=new et(e.x,e.y,e.z,1),l=this._cameraData.viewMatrix.invert(),i=n.multiply(l);return new t(i.x/i.w,i.y/i.w,i.z/i.w)}pointInFrustum(t){const e=[this.createPlane(this._frustumCorners[0],this._frustumCorners[1],this._frustumCorners[2]),this.createPlane(this._frustumCorners[4],this._frustumCorners[5],this._frustumCorners[6]),this.createPlane(this._frustumCorners[0],this._frustumCorners[2],this._frustumCorners[4]),this.createPlane(this._frustumCorners[1],this._frustumCorners[3],this._frustumCorners[5]),this.createPlane(this._frustumCorners[0],this._frustumCorners[1],this._frustumCorners[4]),this.createPlane(this._frustumCorners[2],this._frustumCorners[3],this._frustumCorners[6])];return e[0].distanceToPoint(t)<=0&&e[1].distanceToPoint(t)>=0&&e[2].distanceToPoint(t)<=0&&e[3].distanceToPoint(t)>=0&&e[4].distanceToPoint(t)>=0&&e[5].distanceToPoint(t)<=0}createPlane(t,e,n){const l=e.subtract(t),i=n.subtract(t),s=l.cross(i).normalize(),r=-s.dot(t);return new yt(s,r)}}class yt{constructor(t,e){this.normal=t,this.d=e}distanceToPoint(t){return this.normal.dot(t)+this.d}}class Gt{static draw(t,e,n){let l=new Float32Array([e.x+n/2,e.y+n/2,e.z+n/2]),i=new Float32Array([e.x-n/2,e.y-n/2,e.z-n/2]);var s=new c(t,[],[l,i]);t.addProgram(s)}static drawCone(t,e){let n=[];for(let t=0;t<e.length;t++)n.push(new Float32Array([e[t].x,e[t].y,e[t].z]));var l=new c(t,[],n);t.addProgram(l)}}class Et{constructor(e,n){let l=[];if(this.renderer=e,this.renderProgram=e.renderProgram,n){const t=this.renderProgram.renderData;for(const e of t.singleOffsets.keys())e.bounds,l.push(e);this.bvh=new ut(l)}this.testBox=(e,n)=>{const i=this.renderProgram.renderData;if(void 0===i)return null;l=[];const[s,r,F]=e,[a,d,U]=n,o=new t(s,r,F),Q=new t(a,d,U),c=new A(Q,o);c.permute();for(const t of i.singleOffsets.keys())c.contains(t.bounds.center())&&l.push(t);return l},this.testCameraViewFrustum=(t,n=!1,i=-1)=>{this.renderer.removeAllPrograms();const s=this.renderProgram.renderData;let r=new Nt(t),F=r.calculateFrustum();l=[],n&&(Gt.drawCone(this.renderer,F),i>0&&setTimeout((function(){e.removeAllPrograms()}),1e3*i));for(const t of s.singleOffsets.keys())r.pointInFrustum(t.bounds.center())&&l.push(t);return l}}testPointSingleSplats(t,e,n,l){if(void 0===this.bvh)return null;if(!n)return console.error("Camera is not initialized"),null;const i=new pt(n.position,n.screenPointToRay(t,e));return this.bvh.intersects(i,l)}}class St extends Q{constructor(t,e){super(t,e);const n=t.gl;let l,i,s,r,F;const a=new Float32Array([-50,0,0,50,0,0]),d=new Float32Array([0,-50,0,0,50,0]),U=new Float32Array([0,0,-50,0,0,50]),o=new Float32Array([1,0,0,.5]),Q=new Float32Array([0,1,0,.5]),c=new Float32Array([0,.5,1,.5]);this._initialize=()=>{l=n.createBuffer(),i=n.getAttribLocation(this.program,"position"),n.enableVertexAttribArray(i),s=n.getUniformLocation(this.program,"projection"),r=n.getUniformLocation(this.program,"view"),F=n.getUniformLocation(this.program,"axisColor")};const A=(t,e)=>{n.uniform4fv(F,e),n.bindBuffer(n.ARRAY_BUFFER,l),n.bufferData(n.ARRAY_BUFFER,t,n.STATIC_DRAW),n.vertexAttribPointer(i,3,n.FLOAT,!1,0,0),n.drawArrays(n.LINES,0,2)};this._resize=()=>{},this._render=()=>{if(!this._camera)throw new Error("Camera not set");n.enable(n.BLEND),n.blendFunc(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA),n.uniformMatrix4fv(s,!1,this._camera.data.projectionMatrix.buffer),n.uniformMatrix4fv(r,!1,this._camera.data.viewMatrix.buffer),A(a,o),A(d,Q),A(U,c)},this._dispose=()=>{}}_getVertexSource(){return"#version 300 es\nuniform mat4 projection, view;\n\nin vec3 position;\n\nvoid main() {\n    gl_Position = projection * view * vec4(position, 1.0);\n}\n"}_getFragmentSource(){return"#version 300 es\nprecision mediump float;\nuniform vec4 axisColor;\nout vec4 outColor;\n\nvoid main() {\n    outColor = axisColor;\n}\n"}}class Xt extends Q{constructor(e,n,l){super(e,n),this.plane=l;const i=e.gl;let s,r,F,a,d;const U=new Float32Array([.5,.5,.5,.5]),o=this.plane.normal,Q=this.plane.constant,c=o.clone().multiply(Q),A=new Float32Array([c.x,c.y,c.z,c.x+3*o.x,c.y+3*o.y,c.z+3*o.z]),h=new Float32Array([1,0,0,.5]);this._initialize=()=>{s=i.createBuffer(),r=i.getAttribLocation(this.program,"position"),i.enableVertexAttribArray(r),F=i.getUniformLocation(this.program,"projection"),a=i.getUniformLocation(this.program,"view"),d=i.getUniformLocation(this.program,"planeColor")};const B=(t,e)=>{i.uniform4fv(d,e),i.bindBuffer(i.ARRAY_BUFFER,s),i.bufferData(i.ARRAY_BUFFER,t,i.STATIC_DRAW),i.vertexAttribPointer(r,3,i.FLOAT,!1,0,0),i.drawArrays(i.LINES,0,2)},V=()=>{const t=this.getPlaneVertices(5);i.uniform4fv(d,U),i.bindBuffer(i.ARRAY_BUFFER,s),i.bufferData(i.ARRAY_BUFFER,t,i.STATIC_DRAW),i.vertexAttribPointer(r,3,i.FLOAT,!1,0,0),i.drawArrays(i.TRIANGLE_FAN,0,4)};this.getPlaneVertices=e=>{const n=this.plane.normal,l=this.plane.constant,i=n.clone().multiply(l),s=new t(1,0,0);Math.abs(n.dot(s))>.99&&s.set(0,1,0);const r=s.cross(n).normalize();s.crossVectors(n,r).normalize();const F=e/2;return new Float32Array([...i.clone().add(s.clone().multiply(-F)).add(r.clone().multiply(-F)).toArray(),...i.clone().add(s.clone().multiply(F)).add(r.clone().multiply(-F)).toArray(),...i.clone().add(s.clone().multiply(F)).add(r.clone().multiply(F)).toArray(),...i.clone().add(s.clone().multiply(-F)).add(r.clone().multiply(F)).toArray()])},this._resize=()=>{},this._render=()=>{if(!this._camera)throw new Error("Camera not set");const t=this.renderer.gl;t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.uniformMatrix4fv(F,!1,this._camera.data.projectionMatrix.buffer),t.uniformMatrix4fv(a,!1,this._camera.data.viewMatrix.buffer),V(),B(A,h)},this._dispose=()=>{}}_getVertexSource(){return"#version 300 es\nuniform mat4 projection, view;\n\nin vec3 position;\n\nvoid main() {\n    gl_Position = projection * view * vec4(position, 1.0);\n}\n"}_getFragmentSource(){return"#version 300 es\nprecision mediump float;\nuniform vec4 planeColor;\nout vec4 outColor;\n\nvoid main() {\n    outColor = planeColor;\n}\n"}}class Yt extends Q{constructor(t,e,n,l,i=new Float32Array([1,0,0,.2])){super(t,e);const s=t.gl;let r,F,a,d,U,o=[],Q=[],c=n.length;for(var A=0;A<c;A++){const[t,e,i]=n[A],[s,r,F]=l[A],a=new Float32Array([t,e,i,s,e,i,t,e,i,t,r,i,t,e,i,t,e,F,s,e,i,s,r,i,s,e,i,s,e,F,t,r,i,s,r,i,t,r,i,t,r,F,t,e,F,s,e,F,t,e,F,t,r,F,s,r,i,s,r,F,s,e,F,s,r,F,t,r,F,s,r,F]);o.push(...a);const d=new Float32Array([t,e,i,s,e,i,t,r,i,s,e,i,s,r,i,t,r,i,t,e,F,s,e,F,t,r,F,s,e,F,s,r,F,t,r,F,t,e,i,t,e,F,t,r,i,t,r,F,t,e,F,t,r,i,s,e,i,s,e,F,s,r,i,s,r,F,s,e,F,s,r,i,t,e,i,s,e,i,t,e,F,s,e,F,s,e,i,t,e,F,t,r,i,s,r,i,t,r,F,s,r,F,s,r,i,t,r,F]);Q.push(...d)}let h=new Float32Array(o),B=new Float32Array(Q);const V=new Float32Array([0,0,0,1]);this._initialize=()=>{r=s.createBuffer(),F=s.getAttribLocation(this.program,"position"),s.enableVertexAttribArray(F),a=s.getUniformLocation(this.program,"projection"),d=s.getUniformLocation(this.program,"view"),U=s.getUniformLocation(this.program,"cubeColor")};this._render=()=>{if(!this._camera)throw new Error("Camera not set");s.enable(s.BLEND),s.blendFunc(s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA),s.uniformMatrix4fv(a,!1,this._camera.data.projectionMatrix.buffer),s.uniformMatrix4fv(d,!1,this._camera.data.viewMatrix.buffer),((t,e)=>{s.lineWidth(5),s.uniform4fv(U,e),s.bindBuffer(s.ARRAY_BUFFER,r),s.bufferData(s.ARRAY_BUFFER,t,s.STATIC_DRAW),s.vertexAttribPointer(F,3,s.FLOAT,!1,0,0),s.drawArrays(s.LINES,0,24*c)})(h,V),((t,e)=>{s.lineWidth(5),s.uniform4fv(U,e),s.bindBuffer(s.ARRAY_BUFFER,r),s.bufferData(s.ARRAY_BUFFER,t,s.STATIC_DRAW),s.vertexAttribPointer(F,3,s.FLOAT,!1,0,0),s.drawArrays(s.TRIANGLES,0,36*c)})(B,i)},this._resize=()=>{},this._dispose=()=>{}}_getFragmentSource(){return"#version 300 es\nprecision mediump float;\nuniform vec4 cubeColor;\nout vec4 outColor;\n\nvoid main() {\n    outColor = cubeColor;\n}\n"}_getVertexSource(){return"#version 300 es\nuniform mat4 projection, view;\n\nin vec3 position;\n\nvoid main() {\n    gl_Position = projection * view * vec4(position, 1.0);\n}\n"}}class Tt extends Q{constructor(t,e,n){super(t,e);const l=t.gl;let i,s,r,F,a;const d=new Float32Array([n.origin.x,n.origin.y,n.origin.z,n.origin.x+10*n.direction.x,n.origin.y+10*n.direction.y,n.origin.z+10*n.direction.z]),U=new Float32Array([1,0,0,.5]);this._initialize=()=>{i=l.createBuffer(),s=l.getAttribLocation(this.program,"position"),l.enableVertexAttribArray(s),r=l.getUniformLocation(this.program,"projection"),F=l.getUniformLocation(this.program,"view"),a=l.getUniformLocation(this.program,"axisColor")};this._resize=()=>{},this._render=()=>{if(!this._camera)throw new Error("Camera not set");var t,e;l.enable(l.BLEND),l.blendFunc(l.SRC_ALPHA,l.ONE_MINUS_SRC_ALPHA),l.uniformMatrix4fv(r,!1,this._camera.data.projectionMatrix.buffer),l.uniformMatrix4fv(F,!1,this._camera.data.viewMatrix.buffer),t=d,e=U,l.uniform4fv(a,e),l.bindBuffer(l.ARRAY_BUFFER,i),l.bufferData(l.ARRAY_BUFFER,t,l.STATIC_DRAW),l.vertexAttribPointer(s,3,l.FLOAT,!1,0,0),l.drawArrays(l.LINES,0,2)},this._dispose=()=>{}}_getVertexSource(){return"#version 300 es\nuniform mat4 projection, view;\n\nin vec3 position;\n\nvoid main() {\n    gl_Position = projection * view * vec4(position, 1.0);\n}\n"}_getFragmentSource(){return"#version 300 es\nprecision mediump float;\nuniform vec4 axisColor;\nout vec4 outColor;\n\nvoid main() {\n    outColor = axisColor;\n}\n"}}class kt extends Q{constructor(t,e,n,l=0,i=new Float32Array([1,0,0,1])){super(t,e);const s=t.gl;let r,F,a,d,U,o=[];const Q=(null==n?void 0:n.findNodesByLevel(l))||[];for(let t=0;t<Q.length;t++){const[e,n,l]=[Q[t].min.x,Q[t].min.y,Q[t].min.z],[i,s,r]=[Q[t].max.x,Q[t].max.y,Q[t].max.z],F=new Float32Array([e,n,l,i,n,l,e,n,l,e,s,l,e,n,l,e,n,r,i,n,l,i,s,l,i,n,l,i,n,r,e,s,l,i,s,l,e,s,l,e,s,r,e,n,r,i,n,r,e,n,r,e,s,r,i,s,l,i,s,r,i,n,r,i,s,r,e,s,r,i,s,r]);o.push(...F)}let c=new Float32Array(o);const A=i;this._initialize=()=>{r=s.createBuffer(),F=s.getAttribLocation(this.program,"position"),s.enableVertexAttribArray(F),a=s.getUniformLocation(this.program,"projection"),d=s.getUniformLocation(this.program,"view"),U=s.getUniformLocation(this.program,"cubeColor")};this._render=()=>{if(!this._camera)throw new Error("Camera not set");s.enable(s.BLEND),s.blendFunc(s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA),s.uniformMatrix4fv(a,!1,this._camera.data.projectionMatrix.buffer),s.uniformMatrix4fv(d,!1,this._camera.data.viewMatrix.buffer),((t,e)=>{s.lineWidth(100),s.uniform4fv(U,e),s.bindBuffer(s.ARRAY_BUFFER,r),s.bufferData(s.ARRAY_BUFFER,t,s.STATIC_DRAW),s.vertexAttribPointer(F,3,s.FLOAT,!1,0,0),s.drawArrays(s.LINES,0,24*Q.length)})(c,A)},this._resize=()=>{},this._dispose=()=>{}}_getFragmentSource(){return"#version 300 es\nprecision mediump float;\nuniform vec4 cubeColor;\nout vec4 outColor;\n\nvoid main() {\n    outColor = cubeColor;\n}\n"}_getVertexSource(){return"#version 300 es\nuniform mat4 projection, view;\n\nin vec3 position;\n\nvoid main() {\n    gl_Position = projection * view * vec4(position, 1.0);\n}\n"}}const ft=new t;function xt(e,n,l){const i=e.normal,s=n.normal,r=l.normal,F=i.dot(s.cross(r));if(Math.abs(F)<1e-6)return null;const a=e.constant,d=n.constant,U=l.constant,o=s.cross(r).multiply(a),Q=r.cross(i).multiply(d),c=i.cross(s).multiply(U);return(new t).addVectors(o,Q).add(c).divide(F)}class wt{constructor(t=new Wt,e=new Wt,n=new Wt,l=new Wt,i=new Wt,s=new Wt){this.planes=[t,e,n,l,i,s],this.needsUpdate=!0}setFromCube(t,e){const n=t.getCorners().map((t=>e.worldToCameraPoint(t)));this.setFromPoints(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]),this.needsUpdate=!0}setFromPoints(t,e,n,l,i,s,r,F){const a=this.planes;a[0].setFromCoplanarPoints(t,e,l).normalize(),a[1].setFromCoplanarPoints(s,i,r).normalize(),a[2].setFromCoplanarPoints(t,n,r).normalize(),a[3].setFromCoplanarPoints(l,e,s).normalize(),a[4].setFromCoplanarPoints(t,i,e).normalize(),a[5].setFromCoplanarPoints(n,l,F).normalize(),this.needsUpdate=!0}setFromProjectionMatrix(t){const e=this.planes,n=t.buffer,l=n[0],i=n[1],s=n[2],r=n[3],F=n[4],a=n[5],d=n[6],U=n[7],o=n[8],Q=n[9],c=n[10],A=n[11],h=n[12],B=n[13],V=n[14],R=n[15];e[0].setComponents(r-l,U-F,A-o,R-h).normalize(),e[1].setComponents(r+l,U+F,A+o,R+h).normalize(),e[2].setComponents(r+i,U+a,A+Q,R+B).normalize(),e[3].setComponents(r-i,U-a,A-Q,R-B).normalize(),e[4].setComponents(r-s,U-d,A-c,R-V).normalize(),e[5].setComponents(r+s,U+d,A+c,R+V).normalize(),this.needsUpdate=!0}intersectsBox(t,e=null){const n=this.planes;for(let l=0;l<6;l++){const i=n[l];if(ft.x=i.normal.x>0?t.max.x:t.min.x,ft.y=i.normal.y>0?t.max.y:t.min.y,ft.z=i.normal.z>0?t.max.z:t.min.z,i.distanceToPoint(ft)<0){if(null!==e){let t=new Xt(e,[],i);e.addProgram(t);let n=new Float32Array([ft.x-.01,ft.y-.01,ft.z-.01]),l=new Float32Array([ft.x+.01,ft.y+.01,ft.z+.01]),s=new c(e,[],[n,l]);e.addProgram(s)}return!1}}return!0}getFrustumPoints(){if(!this.needsUpdate&&void 0!==this.frustumCorners)return this.frustumCorners;this.frustumCorners=[];const t=this.planes;return this.frustumCorners.push(xt(t[4],t[0],t[2])),this.frustumCorners.push(xt(t[4],t[1],t[2])),this.frustumCorners.push(xt(t[4],t[0],t[3])),this.frustumCorners.push(xt(t[4],t[1],t[3])),this.frustumCorners.push(xt(t[5],t[0],t[2])),this.frustumCorners.push(xt(t[5],t[1],t[2])),this.frustumCorners.push(xt(t[5],t[0],t[3])),this.frustumCorners.push(xt(t[5],t[1],t[3])),this.needsUpdate=!1,this.frustumCorners}drawFrustum(t){let e=this.getFrustumPoints(),n=[];for(let t=0;t<e.length;t++)n.push(new Float32Array([e[t].x,e[t].y,e[t].z]));this.frustumRenderProgram=new c(t,[],n),t.addProgram(this.frustumRenderProgram)}ereaseFrustum(t){void 0!==this.frustumRenderProgram&&t.removeProgram(this.frustumRenderProgram)}getRays(){this.frustumCorners||(this.frustumCorners=this.getFrustumPoints());const t=[];for(let e=0;e<7;e+=2){const n=this.frustumCorners[e],l=this.frustumCorners[e+1].clone().sub(n).normalize();t.push(new W(n,l))}return t}intersectFrustum(e){const n=[];n.push(xt(this.planes[2],e.planes[3],e.planes[4])),n.push(xt(this.planes[2],e.planes[2],e.planes[4])),n.push(xt(this.planes[2],e.planes[3],e.planes[5])),n.push(xt(this.planes[2],e.planes[2],e.planes[5])),n.push(xt(this.planes[3],e.planes[3],e.planes[4])),n.push(xt(this.planes[3],e.planes[2],e.planes[4])),n.push(xt(this.planes[3],e.planes[3],e.planes[5])),n.push(xt(this.planes[3],e.planes[2],e.planes[5]));const l=new A(new t(1/0,1/0,1/0),new t(-1/0,-1/0,-1/0));console.log(l.min),console.log(l.max);for(const t of n)l.expandByPoint(t);return l}containsPoint(t){for(const e of this.planes)if(e.distanceToPoint(t)<0)return!1;return!0}containsBox(t){const e=t.getCorners();for(const t of e)if(!this.containsPoint(t))return!1;return!0}}class Ht{constructor(t,e,n=0,l=1/0){this.ray=new W(t,e),this.near=n,this.far=l,this.camera=null,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}}export{St as AxisProgram,A as Box3,nt as Camera,tt as CameraData,ht as Color32,V as Constants,c as CubeVisualisationProgram,mt as FPSControls,Vt as FadeInPass,wt as Frustum,Ct as IntersectionTester,rt as Loader,h as Matrix3,l as Matrix4,Yt as MultibleCubesProgram,W as NewRay,Ht as NewRaycaster,a as Object3D,kt as OctreeHelper,Z as OctreeIterator,Zt as OrbitControls,Ft as PLYLoader,Wt as Plane,Xt as PlaneProgram,z as PointOctant,L as PointOctree,e as Quaternion,Tt as RayProgram,Et as Raycaster,At as RenderData,Bt as RenderProgram,lt as Scene,gt as ShaderPass,Q as ShaderProgram,B as SingleSplat,q as Splat,d as SplatData,$ as Splatv,U as SplatvData,at as SplatvLoader,t as Vector3,et as Vector4,It as VideoRenderProgram,Rt as WebGLRenderer};
//# sourceMappingURL=index.js.map
